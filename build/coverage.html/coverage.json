{"/home/travis/build/npmtest/node-npmtest-tsd/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":46}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_tsd */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireExampleJsFromReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-tsd/lib.npmtest_tsd.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/lib.npmtest_tsd.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":48}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":54}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_tsd */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_tsd = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_tsd = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-tsd/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":47}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":61},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-tsd && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_tsd */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_tsd","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_tsd.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_tsd.rollup.js'] =","            local.assetsDict['/assets.npmtest_tsd.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_tsd.__dirname + '/lib.npmtest_tsd.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/api.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/api.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":1,"20":1},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"getAPI","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":37}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":46}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":62}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":58}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":58}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":64}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":48}},"13":{"start":{"line":14,"column":0},"end":{"line":14,"column":45}},"14":{"start":{"line":15,"column":0},"end":{"line":19,"column":1}},"15":{"start":{"line":16,"column":4},"end":{"line":16,"column":48}},"16":{"start":{"line":16,"column":30},"end":{"line":16,"column":46}},"17":{"start":{"line":17,"column":4},"end":{"line":17,"column":50}},"18":{"start":{"line":18,"column":4},"end":{"line":18,"column":61}},"19":{"start":{"line":20,"column":0},"end":{"line":20,"column":24}},"20":{"start":{"line":21,"column":0},"end":{"line":33,"column":2}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":4}},{"start":{"line":16,"column":4},"end":{"line":16,"column":4}}]}},"code":["'use strict';","var bootstrap = require('./bootstrap');","var API = require('./tsd/API');","var assertVar = require('./xm/assertVar');","exports.Def = require('./tsd/data/Def');","exports.Context = require('./tsd/context/Context');","exports.Options = require('./tsd/Options');","exports.Query = require('./tsd/select/Query');","exports.CommitMatcher = require('./tsd/select/CommitMatcher');","exports.DateMatcher = require('./tsd/select/DateMatcher');","exports.InfoMatcher = require('./tsd/select/InfoMatcher');","exports.VersionMatcher = require('./tsd/select/VersionMatcher');","exports.defUtil = require('./tsd/util/defUtil');","exports.getContent = require('./getContent');","function getAPI(configPath, verbose) {","    if (verbose === void 0) { verbose = false; }","    assertVar(configPath, 'string', 'configPath');","    return new API(new exports.Context(configPath, verbose));","}","exports.getAPI = getAPI;","[","    bootstrap,","    exports.getContent,","    exports.Def,","    exports.Options,","    exports.Query,","    exports.Context,","    exports.CommitMatcher,","    exports.DateMatcher,","    exports.InfoMatcher,","    exports.VersionMatcher,","    exports.defUtil","];",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"20":1,"21":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/bootstrap.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/bootstrap.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":1,"8":0,"9":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":37},"end":{"line":3,"column":54}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":34}},"2":{"start":{"line":3,"column":0},"end":{"line":7,"column":3}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":23}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":16}},"6":{"start":{"line":8,"column":0},"end":{"line":13,"column":1}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":44}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":30}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":28}}},"branchMap":{},"code":["'use strict';","var Promise = require('bluebird');","Promise.onPossiblyUnhandledRejection(function (error) {","    console.log('---');","    console.log(error.message);","    throw error;","});","try {","    require('source-map-support').install();","    Promise.longStackTraces();","}","catch (e) {","}","process.setMaxListeners(20);",""],"l":{"2":1,"3":1,"4":0,"5":0,"6":0,"8":1,"9":1,"10":0,"14":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/API.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/API.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":1,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":1,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":1,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":1,"118":0,"119":0,"120":1,"121":0,"122":0,"123":1,"124":0,"125":0,"126":1,"127":0,"128":1,"129":0,"130":0,"131":1,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":1,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":1,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":1,"171":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},"fnMap":{"1":{"name":"(anonymous_1)","line":18,"loc":{"start":{"line":18,"column":11},"end":{"line":18,"column":23}}},"2":{"name":"API","line":19,"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":26}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":31},"end":{"line":24,"column":52}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":59},"end":{"line":26,"column":81}}},"5":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":77},"end":{"line":32,"column":89}}},"6":{"name":"(anonymous_6)","line":34,"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":27}}},"7":{"name":"(anonymous_7)","line":39,"loc":{"start":{"line":39,"column":31},"end":{"line":39,"column":51}}},"8":{"name":"(anonymous_8)","line":42,"loc":{"start":{"line":42,"column":31},"end":{"line":42,"column":43}}},"9":{"name":"(anonymous_9)","line":45,"loc":{"start":{"line":45,"column":27},"end":{"line":45,"column":53}}},"10":{"name":"(anonymous_10)","line":51,"loc":{"start":{"line":51,"column":28},"end":{"line":51,"column":58}}},"11":{"name":"(anonymous_11)","line":59,"loc":{"start":{"line":59,"column":18},"end":{"line":59,"column":37}}},"12":{"name":"(anonymous_12)","line":64,"loc":{"start":{"line":64,"column":16},"end":{"line":64,"column":28}}},"13":{"name":"(anonymous_13)","line":69,"loc":{"start":{"line":69,"column":16},"end":{"line":69,"column":28}}},"14":{"name":"(anonymous_14)","line":73,"loc":{"start":{"line":73,"column":32},"end":{"line":73,"column":58}}},"15":{"name":"(anonymous_15)","line":81,"loc":{"start":{"line":81,"column":22},"end":{"line":81,"column":38}}},"16":{"name":"(anonymous_16)","line":89,"loc":{"start":{"line":89,"column":41},"end":{"line":89,"column":59}}},"17":{"name":"(anonymous_17)","line":100,"loc":{"start":{"line":100,"column":36},"end":{"line":100,"column":54}}},"18":{"name":"(anonymous_18)","line":104,"loc":{"start":{"line":104,"column":30},"end":{"line":104,"column":49}}},"19":{"name":"(anonymous_19)","line":108,"loc":{"start":{"line":108,"column":18},"end":{"line":108,"column":33}}},"20":{"name":"(anonymous_20)","line":110,"loc":{"start":{"line":110,"column":16},"end":{"line":110,"column":28}}},"21":{"name":"(anonymous_21)","line":115,"loc":{"start":{"line":115,"column":16},"end":{"line":115,"column":28}}},"22":{"name":"(anonymous_22)","line":117,"loc":{"start":{"line":117,"column":16},"end":{"line":117,"column":28}}},"23":{"name":"(anonymous_23)","line":120,"loc":{"start":{"line":120,"column":115},"end":{"line":120,"column":138}}},"24":{"name":"(anonymous_24)","line":132,"loc":{"start":{"line":132,"column":27},"end":{"line":132,"column":55}}},"25":{"name":"(anonymous_25)","line":136,"loc":{"start":{"line":136,"column":51},"end":{"line":136,"column":67}}},"26":{"name":"(anonymous_26)","line":140,"loc":{"start":{"line":140,"column":48},"end":{"line":140,"column":69}}},"27":{"name":"(anonymous_27)","line":144,"loc":{"start":{"line":144,"column":25},"end":{"line":144,"column":44}}},"28":{"name":"(anonymous_28)","line":149,"loc":{"start":{"line":149,"column":52},"end":{"line":149,"column":72}}},"29":{"name":"(anonymous_29)","line":150,"loc":{"start":{"line":150,"column":44},"end":{"line":150,"column":70}}},"30":{"name":"(anonymous_30)","line":151,"loc":{"start":{"line":151,"column":88},"end":{"line":151,"column":106}}},"31":{"name":"(anonymous_31)","line":160,"loc":{"start":{"line":160,"column":32},"end":{"line":160,"column":62}}},"32":{"name":"(anonymous_32)","line":164,"loc":{"start":{"line":164,"column":34},"end":{"line":164,"column":58}}},"33":{"name":"(anonymous_33)","line":168,"loc":{"start":{"line":168,"column":33},"end":{"line":168,"column":57}}},"34":{"name":"(anonymous_34)","line":172,"loc":{"start":{"line":172,"column":32},"end":{"line":172,"column":44}}},"35":{"name":"(anonymous_35)","line":175,"loc":{"start":{"line":175,"column":28},"end":{"line":175,"column":45}}},"36":{"name":"(anonymous_36)","line":179,"loc":{"start":{"line":179,"column":27},"end":{"line":179,"column":43}}},"37":{"name":"(anonymous_37)","line":185,"loc":{"start":{"line":185,"column":40},"end":{"line":185,"column":56}}},"38":{"name":"(anonymous_38)","line":195,"loc":{"start":{"line":195,"column":26},"end":{"line":195,"column":42}}},"39":{"name":"(anonymous_39)","line":201,"loc":{"start":{"line":201,"column":33},"end":{"line":201,"column":49}}},"40":{"name":"(anonymous_40)","line":206,"loc":{"start":{"line":206,"column":16},"end":{"line":206,"column":32}}},"41":{"name":"(anonymous_41)","line":207,"loc":{"start":{"line":207,"column":31},"end":{"line":207,"column":53}}},"42":{"name":"(anonymous_42)","line":216,"loc":{"start":{"line":216,"column":33},"end":{"line":216,"column":48}}},"43":{"name":"(anonymous_43)","line":225,"loc":{"start":{"line":225,"column":26},"end":{"line":225,"column":46}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":24}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":34}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":38}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":46}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":56}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":53}},"13":{"start":{"line":14,"column":0},"end":{"line":14,"column":35}},"14":{"start":{"line":15,"column":0},"end":{"line":15,"column":35}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":55}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":55}},"17":{"start":{"line":18,"column":0},"end":{"line":236,"column":5}},"18":{"start":{"line":19,"column":4},"end":{"line":23,"column":5}},"19":{"start":{"line":20,"column":8},"end":{"line":20,"column":31}},"20":{"start":{"line":21,"column":8},"end":{"line":21,"column":47}},"21":{"start":{"line":22,"column":8},"end":{"line":22,"column":43}},"22":{"start":{"line":24,"column":4},"end":{"line":38,"column":6}},"23":{"start":{"line":25,"column":8},"end":{"line":25,"column":25}},"24":{"start":{"line":26,"column":8},"end":{"line":37,"column":11}},"25":{"start":{"line":27,"column":12},"end":{"line":27,"column":66}},"26":{"start":{"line":28,"column":12},"end":{"line":30,"column":13}},"27":{"start":{"line":29,"column":16},"end":{"line":29,"column":53}},"28":{"start":{"line":31,"column":12},"end":{"line":31,"column":80}},"29":{"start":{"line":32,"column":12},"end":{"line":36,"column":15}},"30":{"start":{"line":33,"column":16},"end":{"line":33,"column":95}},"31":{"start":{"line":35,"column":16},"end":{"line":35,"column":36}},"32":{"start":{"line":39,"column":4},"end":{"line":41,"column":6}},"33":{"start":{"line":40,"column":8},"end":{"line":40,"column":53}},"34":{"start":{"line":42,"column":4},"end":{"line":44,"column":6}},"35":{"start":{"line":43,"column":8},"end":{"line":43,"column":45}},"36":{"start":{"line":45,"column":4},"end":{"line":50,"column":6}},"37":{"start":{"line":46,"column":8},"end":{"line":46,"column":41}},"38":{"start":{"line":47,"column":8},"end":{"line":47,"column":53}},"39":{"start":{"line":48,"column":8},"end":{"line":48,"column":42}},"40":{"start":{"line":49,"column":8},"end":{"line":49,"column":57}},"41":{"start":{"line":51,"column":4},"end":{"line":72,"column":6}},"42":{"start":{"line":52,"column":8},"end":{"line":52,"column":25}},"43":{"start":{"line":53,"column":8},"end":{"line":53,"column":53}},"44":{"start":{"line":54,"column":8},"end":{"line":54,"column":53}},"45":{"start":{"line":55,"column":8},"end":{"line":55,"column":42}},"46":{"start":{"line":56,"column":8},"end":{"line":56,"column":45}},"47":{"start":{"line":57,"column":8},"end":{"line":57,"column":67}},"48":{"start":{"line":58,"column":8},"end":{"line":71,"column":23}},"49":{"start":{"line":60,"column":12},"end":{"line":62,"column":13}},"50":{"start":{"line":61,"column":16},"end":{"line":61,"column":58}},"51":{"start":{"line":63,"column":12},"end":{"line":63,"column":34}},"52":{"start":{"line":65,"column":12},"end":{"line":67,"column":13}},"53":{"start":{"line":66,"column":16},"end":{"line":66,"column":54}},"54":{"start":{"line":68,"column":12},"end":{"line":68,"column":24}},"55":{"start":{"line":70,"column":12},"end":{"line":70,"column":68}},"56":{"start":{"line":73,"column":4},"end":{"line":103,"column":6}},"57":{"start":{"line":74,"column":8},"end":{"line":74,"column":43}},"58":{"start":{"line":75,"column":8},"end":{"line":75,"column":53}},"59":{"start":{"line":76,"column":8},"end":{"line":76,"column":42}},"60":{"start":{"line":77,"column":8},"end":{"line":79,"column":9}},"61":{"start":{"line":78,"column":12},"end":{"line":78,"column":37}},"62":{"start":{"line":80,"column":8},"end":{"line":80,"column":22}},"63":{"start":{"line":81,"column":8},"end":{"line":83,"column":11}},"64":{"start":{"line":82,"column":12},"end":{"line":82,"column":37}},"65":{"start":{"line":84,"column":8},"end":{"line":84,"column":20}},"66":{"start":{"line":85,"column":8},"end":{"line":85,"column":67}},"67":{"start":{"line":86,"column":8},"end":{"line":86,"column":75}},"68":{"start":{"line":87,"column":8},"end":{"line":87,"column":25}},"69":{"start":{"line":88,"column":8},"end":{"line":96,"column":9}},"70":{"start":{"line":89,"column":12},"end":{"line":95,"column":15}},"71":{"start":{"line":90,"column":16},"end":{"line":90,"column":56}},"72":{"start":{"line":91,"column":16},"end":{"line":93,"column":17}},"73":{"start":{"line":92,"column":20},"end":{"line":92,"column":38}},"74":{"start":{"line":94,"column":16},"end":{"line":94,"column":37}},"75":{"start":{"line":97,"column":8},"end":{"line":99,"column":9}},"76":{"start":{"line":98,"column":12},"end":{"line":98,"column":77}},"77":{"start":{"line":100,"column":8},"end":{"line":102,"column":20}},"78":{"start":{"line":101,"column":12},"end":{"line":101,"column":59}},"79":{"start":{"line":104,"column":4},"end":{"line":131,"column":6}},"80":{"start":{"line":105,"column":8},"end":{"line":105,"column":25}},"81":{"start":{"line":106,"column":8},"end":{"line":106,"column":45}},"82":{"start":{"line":107,"column":8},"end":{"line":130,"column":23}},"83":{"start":{"line":109,"column":12},"end":{"line":109,"column":30}},"84":{"start":{"line":111,"column":12},"end":{"line":113,"column":13}},"85":{"start":{"line":112,"column":16},"end":{"line":112,"column":54}},"86":{"start":{"line":114,"column":12},"end":{"line":114,"column":24}},"87":{"start":{"line":116,"column":12},"end":{"line":116,"column":68}},"88":{"start":{"line":118,"column":12},"end":{"line":128,"column":13}},"89":{"start":{"line":119,"column":16},"end":{"line":119,"column":136}},"90":{"start":{"line":120,"column":16},"end":{"line":123,"column":19}},"91":{"start":{"line":121,"column":20},"end":{"line":121,"column":71}},"92":{"start":{"line":122,"column":20},"end":{"line":122,"column":107}},"93":{"start":{"line":126,"column":16},"end":{"line":126,"column":67}},"94":{"start":{"line":127,"column":16},"end":{"line":127,"column":103}},"95":{"start":{"line":129,"column":12},"end":{"line":129,"column":24}},"96":{"start":{"line":132,"column":4},"end":{"line":143,"column":6}},"97":{"start":{"line":133,"column":8},"end":{"line":133,"column":25}},"98":{"start":{"line":134,"column":8},"end":{"line":134,"column":55}},"99":{"start":{"line":134,"column":34},"end":{"line":134,"column":53}},"100":{"start":{"line":135,"column":8},"end":{"line":135,"column":32}},"101":{"start":{"line":136,"column":8},"end":{"line":138,"column":11}},"102":{"start":{"line":137,"column":12},"end":{"line":137,"column":62}},"103":{"start":{"line":139,"column":8},"end":{"line":139,"column":59}},"104":{"start":{"line":140,"column":8},"end":{"line":142,"column":11}},"105":{"start":{"line":141,"column":12},"end":{"line":141,"column":53}},"106":{"start":{"line":144,"column":4},"end":{"line":159,"column":6}},"107":{"start":{"line":145,"column":8},"end":{"line":145,"column":48}},"108":{"start":{"line":146,"column":8},"end":{"line":146,"column":41}},"109":{"start":{"line":147,"column":8},"end":{"line":147,"column":75}},"110":{"start":{"line":148,"column":8},"end":{"line":148,"column":127}},"111":{"start":{"line":149,"column":8},"end":{"line":158,"column":11}},"112":{"start":{"line":150,"column":12},"end":{"line":157,"column":19}},"113":{"start":{"line":151,"column":16},"end":{"line":156,"column":19}},"114":{"start":{"line":152,"column":20},"end":{"line":154,"column":21}},"115":{"start":{"line":153,"column":24},"end":{"line":153,"column":44}},"116":{"start":{"line":155,"column":20},"end":{"line":155,"column":32}},"117":{"start":{"line":160,"column":4},"end":{"line":163,"column":6}},"118":{"start":{"line":161,"column":8},"end":{"line":161,"column":75}},"119":{"start":{"line":162,"column":8},"end":{"line":162,"column":55}},"120":{"start":{"line":164,"column":4},"end":{"line":167,"column":6}},"121":{"start":{"line":165,"column":8},"end":{"line":165,"column":75}},"122":{"start":{"line":166,"column":8},"end":{"line":166,"column":51}},"123":{"start":{"line":168,"column":4},"end":{"line":171,"column":6}},"124":{"start":{"line":169,"column":8},"end":{"line":169,"column":75}},"125":{"start":{"line":170,"column":8},"end":{"line":170,"column":50}},"126":{"start":{"line":172,"column":4},"end":{"line":174,"column":6}},"127":{"start":{"line":173,"column":8},"end":{"line":173,"column":48}},"128":{"start":{"line":175,"column":4},"end":{"line":178,"column":6}},"129":{"start":{"line":176,"column":8},"end":{"line":176,"column":41}},"130":{"start":{"line":177,"column":8},"end":{"line":177,"column":64}},"131":{"start":{"line":179,"column":4},"end":{"line":194,"column":6}},"132":{"start":{"line":180,"column":8},"end":{"line":180,"column":25}},"133":{"start":{"line":181,"column":8},"end":{"line":181,"column":41}},"134":{"start":{"line":182,"column":8},"end":{"line":184,"column":9}},"135":{"start":{"line":183,"column":12},"end":{"line":183,"column":83}},"136":{"start":{"line":185,"column":8},"end":{"line":193,"column":12}},"137":{"start":{"line":186,"column":12},"end":{"line":186,"column":44}},"138":{"start":{"line":187,"column":12},"end":{"line":189,"column":13}},"139":{"start":{"line":188,"column":16},"end":{"line":188,"column":52}},"140":{"start":{"line":190,"column":12},"end":{"line":190,"column":72}},"141":{"start":{"line":191,"column":12},"end":{"line":191,"column":27}},"142":{"start":{"line":192,"column":12},"end":{"line":192,"column":23}},"143":{"start":{"line":195,"column":4},"end":{"line":224,"column":6}},"144":{"start":{"line":196,"column":8},"end":{"line":196,"column":25}},"145":{"start":{"line":197,"column":8},"end":{"line":197,"column":41}},"146":{"start":{"line":198,"column":8},"end":{"line":200,"column":9}},"147":{"start":{"line":199,"column":12},"end":{"line":199,"column":83}},"148":{"start":{"line":201,"column":8},"end":{"line":223,"column":11}},"149":{"start":{"line":202,"column":12},"end":{"line":204,"column":13}},"150":{"start":{"line":203,"column":16},"end":{"line":203,"column":60}},"151":{"start":{"line":205,"column":12},"end":{"line":205,"column":41}},"152":{"start":{"line":207,"column":12},"end":{"line":222,"column":19}},"153":{"start":{"line":208,"column":16},"end":{"line":208,"column":25}},"154":{"start":{"line":209,"column":16},"end":{"line":214,"column":17}},"155":{"start":{"line":210,"column":20},"end":{"line":210,"column":46}},"156":{"start":{"line":212,"column":21},"end":{"line":214,"column":17}},"157":{"start":{"line":213,"column":20},"end":{"line":213,"column":55}},"158":{"start":{"line":215,"column":16},"end":{"line":220,"column":17}},"159":{"start":{"line":216,"column":20},"end":{"line":219,"column":23}},"160":{"start":{"line":217,"column":24},"end":{"line":217,"column":39}},"161":{"start":{"line":218,"column":24},"end":{"line":218,"column":39}},"162":{"start":{"line":221,"column":16},"end":{"line":221,"column":28}},"163":{"start":{"line":225,"column":4},"end":{"line":234,"column":6}},"164":{"start":{"line":226,"column":8},"end":{"line":226,"column":23}},"165":{"start":{"line":227,"column":8},"end":{"line":229,"column":9}},"166":{"start":{"line":228,"column":12},"end":{"line":228,"column":68}},"167":{"start":{"line":230,"column":8},"end":{"line":232,"column":9}},"168":{"start":{"line":231,"column":12},"end":{"line":231,"column":68}},"169":{"start":{"line":233,"column":8},"end":{"line":233,"column":43}},"170":{"start":{"line":235,"column":4},"end":{"line":235,"column":15}},"171":{"start":{"line":237,"column":0},"end":{"line":237,"column":21}}},"branchMap":{"1":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":12},"end":{"line":28,"column":12}},{"start":{"line":28,"column":12},"end":{"line":28,"column":12}}]},"2":{"line":48,"type":"binary-expr","locations":[{"start":{"line":48,"column":18},"end":{"line":48,"column":25}},{"start":{"line":48,"column":29},"end":{"line":48,"column":41}}]},"3":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":18},"end":{"line":55,"column":25}},{"start":{"line":55,"column":29},"end":{"line":55,"column":41}}]},"4":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":12},"end":{"line":60,"column":12}},{"start":{"line":60,"column":12},"end":{"line":60,"column":12}}]},"5":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":12},"end":{"line":65,"column":12}},{"start":{"line":65,"column":12},"end":{"line":65,"column":12}}]},"6":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":18},"end":{"line":76,"column":25}},{"start":{"line":76,"column":29},"end":{"line":76,"column":41}}]},"7":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":8},"end":{"line":77,"column":8}},{"start":{"line":77,"column":8},"end":{"line":77,"column":8}}]},"8":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":8},"end":{"line":88,"column":8}},{"start":{"line":88,"column":8},"end":{"line":88,"column":8}}]},"9":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":16},"end":{"line":91,"column":16}},{"start":{"line":91,"column":16},"end":{"line":91,"column":16}}]},"10":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":8},"end":{"line":97,"column":8}},{"start":{"line":97,"column":8},"end":{"line":97,"column":8}}]},"11":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":13},"end":{"line":97,"column":33}},{"start":{"line":97,"column":37},"end":{"line":97,"column":55}},{"start":{"line":97,"column":60},"end":{"line":97,"column":86}}]},"12":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":12},"end":{"line":111,"column":12}},{"start":{"line":111,"column":12},"end":{"line":111,"column":12}}]},"13":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":12},"end":{"line":118,"column":12}},{"start":{"line":118,"column":12},"end":{"line":118,"column":12}}]},"14":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":8},"end":{"line":134,"column":8}},{"start":{"line":134,"column":8},"end":{"line":134,"column":8}}]},"15":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":20},"end":{"line":152,"column":20}},{"start":{"line":152,"column":20},"end":{"line":152,"column":20}}]},"16":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":8},"end":{"line":182,"column":8}},{"start":{"line":182,"column":8},"end":{"line":182,"column":8}}]},"17":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":12},"end":{"line":187,"column":12}},{"start":{"line":187,"column":12},"end":{"line":187,"column":12}}]},"18":{"line":187,"type":"binary-expr","locations":[{"start":{"line":187,"column":16},"end":{"line":187,"column":29}},{"start":{"line":187,"column":33},"end":{"line":187,"column":89}}]},"19":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":8},"end":{"line":198,"column":8}},{"start":{"line":198,"column":8},"end":{"line":198,"column":8}}]},"20":{"line":202,"type":"if","locations":[{"start":{"line":202,"column":12},"end":{"line":202,"column":12}},{"start":{"line":202,"column":12},"end":{"line":202,"column":12}}]},"21":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":16},"end":{"line":209,"column":16}},{"start":{"line":209,"column":16},"end":{"line":209,"column":16}}]},"22":{"line":209,"type":"binary-expr","locations":[{"start":{"line":209,"column":20},"end":{"line":209,"column":29}},{"start":{"line":209,"column":33},"end":{"line":209,"column":51}}]},"23":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":21},"end":{"line":212,"column":21}},{"start":{"line":212,"column":21},"end":{"line":212,"column":21}}]},"24":{"line":212,"type":"binary-expr","locations":[{"start":{"line":212,"column":25},"end":{"line":212,"column":43}},{"start":{"line":212,"column":47},"end":{"line":212,"column":74}}]},"25":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":16},"end":{"line":215,"column":16}},{"start":{"line":215,"column":16},"end":{"line":215,"column":16}}]},"26":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":8},"end":{"line":227,"column":8}},{"start":{"line":227,"column":8},"end":{"line":227,"column":8}}]},"27":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":8},"end":{"line":230,"column":8}},{"start":{"line":230,"column":8},"end":{"line":230,"column":8}}]}},"code":["'use strict';","require('../bootstrap');","var path = require('path');","var Promise = require('bluebird');","var openInApp = require('open');","var assertVar = require('../xm/assertVar');","var Context = require('./context/Context');","var Def = require('./data/Def');","var defUtil = require('./util/defUtil');","var Query = require('./select/Query');","var Selection = require('./select/Selection');","var VersionMatcher = require('./select/VersionMatcher');","var InstallResult = require('./logic/InstallResult');","var Options = require('./Options');","var Core = require('./logic/Core');","var PackageLinker = require('./support/PackageLinker');","var BundleManager = require('./support/BundleManager');","var API = (function () {","    function API(context) {","        this.context = context;","        assertVar(context, Context, 'context');","        this.core = new Core(this.context);","    }","    API.prototype.initConfig = function (overwrite) {","        var _this = this;","        return this.core.config.initConfig(overwrite).then(function (configPath) {","            configPath = path.relative(process.cwd(), configPath);","            if (!_this.context.config.bundle) {","                return Promise.resolve([configPath]);","            }","            var manager = new BundleManager(_this.core.context.getTypingsDir());","            return manager.saveEmptyBundle(_this.context.config.bundle).then(function () {","                return [configPath, path.relative(process.cwd(), _this.context.config.bundle)];","            }, function () {","                return [configPath];","            });","        });","    };","    API.prototype.readConfig = function (optional) {","        return this.core.config.readConfig(optional);","    };","    API.prototype.saveConfig = function () {","        return this.core.config.saveConfig();","    };","    API.prototype.select = function (query, options) {","        assertVar(query, Query, 'query');","        assertVar(options, Options, 'options', true);","        options = options || Options.main;","        return this.core.selector.select(query, options);","    };","    API.prototype.install = function (selection, options) {","        var _this = this;","        assertVar(selection, Selection, 'selection');","        assertVar(options, Options, 'options', true);","        options = options || Options.main;","        var res = new InstallResult(options);","        var files = defUtil.mergeDependencies(selection.selection);","        return this.core.installer.installFileBulk(files, options.saveToConfig, options.overwriteFiles)","            .then(function (written) {","            if (!written) {","                throw new Error('expected install paths');","            }","            res.written = written;","        }).then(function () {","            if (options.saveToConfig) {","                return _this.core.config.saveConfig();","            }","            return null;","        }).then(function () {","            return _this.saveBundles(res.written.values(), options);","        }).return(res);","    };","    API.prototype.saveBundles = function (files, options) {","        assertVar(files, 'array', 'files');","        assertVar(options, Options, 'options', true);","        options = options || Options.main;","        if (files.length === 0) {","            return Promise.resolve();","        }","        var refs = [];","        files.forEach(function (file) {","            refs.push(file.def.path);","        });","        refs.sort();","        var basePath = path.dirname(this.context.paths.configFile);","        var manager = new BundleManager(this.core.context.getTypingsDir());","        var bundles = [];","        if (options.addToBundles) {","            options.addToBundles.forEach(function (bundle) {","                bundle = path.resolve(basePath, bundle);","                if (!/\\.ts$/.test(bundle)) {","                    bundle += '.d.ts';","                }","                bundles.push(bundle);","            });","        }","        if ((options.saveToConfig || options.saveBundle) && this.context.config.bundle) {","            bundles.push(path.resolve(basePath, this.context.config.bundle));","        }","        return Promise.map(bundles, function (target) {","            return manager.addToBundle(target, refs, true);","        }).return();","    };","    API.prototype.reinstall = function (options) {","        var _this = this;","        var res = new InstallResult(options);","        return this.core.installer.reinstallBulk(this.context.config.getInstalled(), options.overwriteFiles)","            .then(function (map) {","            res.written = map;","        }).then(function () {","            if (options.saveToConfig) {","                return _this.core.config.saveConfig();","            }","            return null;","        }).then(function () {","            return _this.saveBundles(res.written.values(), options);","        }).then(function () {","            if (options.reinstallClean) {","                var typingsPath = path.join(path.dirname(_this.core.context.paths.configFile), _this.core.context.config.toJSON().path);","                _this.core.installer.removeUnusedReferences(_this.context.config.getInstalled(), typingsPath).then(function (removedList) {","                    options.overwriteFiles = options.saveBundle = true;","                    return _this.saveBundles(_this.context.config.getInstalledAsDefVersionList(), options);","                });","            }","            else {","                options.overwriteFiles = options.saveBundle = true;","                return _this.saveBundles(_this.context.config.getInstalledAsDefVersionList(), options);","            }","            return null;","        }).return(res);","    };","    API.prototype.update = function (options, version) {","        var _this = this;","        if (version === void 0) { version = 'latest'; }","        var query = new Query();","        this.context.config.getInstalled().forEach(function (inst) {","            query.addNamePattern(new Def(inst.path).pathTerm);","        });","        query.versionMatcher = new VersionMatcher(version);","        return this.select(query, options).then(function (selection) {","            return _this.install(selection, options);","        });","    };","    API.prototype.link = function (baseDir) {","        assertVar(baseDir, 'string', 'baseDir');","        var linker = new PackageLinker();","        var manager = new BundleManager(this.core.context.getTypingsDir());","        var bundlePath = path.join(path.dirname(this.core.context.paths.configFile), this.core.context.config.toJSON().bundle);","        return linker.scanDefinitions(baseDir).then(function (packages) {","            return Promise.reduce(packages, function (memo, packaged) {","                return manager.addToBundle(bundlePath, packaged.definitions, true).then(function (change) {","                    if (change.someAdded()) {","                        memo.push(packaged);","                    }","                    return memo;","                });","            }, []);","        });","    };","    API.prototype.addToBundle = function (target, refs, save) {","        var manager = new BundleManager(this.core.context.getTypingsDir());","        return manager.addToBundle(target, refs, save);","    };","    API.prototype.cleanupBundle = function (target, save) {","        var manager = new BundleManager(this.core.context.getTypingsDir());","        return manager.cleanupBundle(target, save);","    };","    API.prototype.updateBundle = function (target, save) {","        var manager = new BundleManager(this.core.context.getTypingsDir());","        return manager.updateBundle(target, save);","    };","    API.prototype.getRateInfo = function () {","        return this.core.repo.api.getRateInfo();","    };","    API.prototype.compare = function (query) {","        assertVar(query, Query, 'query');","        return Promise.reject(new Error('not implemented yet'));","    };","    API.prototype.browse = function (list) {","        var _this = this;","        assertVar(list, 'array', 'list');","        if (list.length > 2) {","            return Promise.reject(new Error('to many results to open in browser'));","        }","        return Promise.resolve(list.map(function (file) {","            var ref = file.commit.commitSha;","            if (file.def.head && file.commit.commitSha === file.def.head.commit.commitSha) {","                ref = _this.core.context.config.ref;","            }","            var url = _this.core.repo.urls.htmlFile(ref, file.def.path);","            openInApp(url);","            return url;","        }));","    };","    API.prototype.visit = function (list) {","        var _this = this;","        assertVar(list, 'array', 'list');","        if (list.length > 2) {","            return Promise.reject(new Error('to many results to open in browser'));","        }","        return Promise.map(list, function (file) {","            if (!file.info) {","                return _this.core.parser.parseDefInfo(file);","            }","            return Promise.resolve(file);","        }).then(function (list) {","            return list.reduce(function (memo, file) {","                var urls;","                if (file.info && file.info.projects) {","                    urls = file.info.projects;","                }","                else if (file.def.head.info && file.def.head.info.projects) {","                    urls = file.def.head.info.projects;","                }","                if (urls) {","                    urls.forEach(function (url) {","                        memo.push(url);","                        openInApp(url);","                    });","                }","                return memo;","            }, []);","        });","    };","    API.prototype.purge = function (raw, api) {","        var queue = [];","        if (raw) {","            queue.push(this.core.repo.raw.cache.cleanupCacheAge(0));","        }","        if (api) {","            queue.push(this.core.repo.api.cache.cleanupCacheAge(0));","        }","        return Promise.all(queue).return();","    };","    return API;","})();","module.exports = API;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"31":0,"32":0,"33":0,"35":0,"39":1,"40":0,"42":1,"43":0,"45":1,"46":0,"47":0,"48":0,"49":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"60":0,"61":0,"63":0,"65":0,"66":0,"68":0,"70":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"80":0,"81":0,"82":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"94":0,"97":0,"98":0,"100":0,"101":0,"104":1,"105":0,"106":0,"107":0,"109":0,"111":0,"112":0,"114":0,"116":0,"118":0,"119":0,"120":0,"121":0,"122":0,"126":0,"127":0,"129":0,"132":1,"133":0,"134":0,"135":0,"136":0,"137":0,"139":0,"140":0,"141":0,"144":1,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"155":0,"160":1,"161":0,"162":0,"164":1,"165":0,"166":0,"168":1,"169":0,"170":0,"172":1,"173":0,"175":1,"176":0,"177":0,"179":1,"180":0,"181":0,"182":0,"183":0,"185":0,"186":0,"187":0,"188":0,"190":0,"191":0,"192":0,"195":1,"196":0,"197":0,"198":0,"199":0,"201":0,"202":0,"203":0,"205":0,"207":0,"208":0,"209":0,"210":0,"212":0,"213":0,"215":0,"216":0,"217":0,"218":0,"221":0,"225":1,"226":0,"227":0,"228":0,"230":0,"231":0,"233":0,"235":1,"237":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/assertVar.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/assertVar.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"assertVar","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":48}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":41}},"6":{"start":{"line":7,"column":0},"end":{"line":50,"column":1}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":40}},"8":{"start":{"line":8,"column":26},"end":{"line":8,"column":38}},"9":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"10":{"start":{"line":10,"column":8},"end":{"line":10,"column":101}},"11":{"start":{"line":12,"column":4},"end":{"line":12,"column":38}},"12":{"start":{"line":13,"column":4},"end":{"line":13,"column":36}},"13":{"start":{"line":14,"column":4},"end":{"line":49,"column":5}},"14":{"start":{"line":15,"column":8},"end":{"line":19,"column":9}},"15":{"start":{"line":16,"column":12},"end":{"line":18,"column":100}},"16":{"start":{"line":21,"column":9},"end":{"line":49,"column":5}},"17":{"start":{"line":22,"column":8},"end":{"line":27,"column":9}},"18":{"start":{"line":23,"column":12},"end":{"line":26,"column":76}},"19":{"start":{"line":29,"column":9},"end":{"line":49,"column":5}},"20":{"start":{"line":30,"column":8},"end":{"line":42,"column":9}},"21":{"start":{"line":31,"column":12},"end":{"line":31,"column":43}},"22":{"start":{"line":32,"column":12},"end":{"line":37,"column":13}},"23":{"start":{"line":33,"column":16},"end":{"line":36,"column":80}},"24":{"start":{"line":40,"column":12},"end":{"line":41,"column":79}},"25":{"start":{"line":45,"column":8},"end":{"line":48,"column":68}},"26":{"start":{"line":51,"column":0},"end":{"line":51,"column":27}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":8,"column":4}},{"start":{"line":8,"column":4},"end":{"line":8,"column":4}}]},"2":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":4}},{"start":{"line":9,"column":4},"end":{"line":9,"column":4}}]},"3":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"4":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":8}},{"start":{"line":15,"column":8},"end":{"line":15,"column":8}}]},"5":{"line":18,"type":"cond-expr","locations":[{"start":{"line":18,"column":58},"end":{"line":18,"column":63}},{"start":{"line":18,"column":66},"end":{"line":18,"column":75}}]},"6":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":9},"end":{"line":21,"column":9}},{"start":{"line":21,"column":9},"end":{"line":21,"column":9}}]},"7":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":22,"column":8}},{"start":{"line":22,"column":8},"end":{"line":22,"column":8}}]},"8":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":9},"end":{"line":29,"column":9}},{"start":{"line":29,"column":9},"end":{"line":29,"column":9}}]},"9":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":30,"column":8}},{"start":{"line":30,"column":8},"end":{"line":30,"column":8}}]},"10":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":12},"end":{"line":32,"column":12}},{"start":{"line":32,"column":12},"end":{"line":32,"column":12}}]}},"code":["'use strict';","var AssertionError = require('assertion-error');","var typeOf = require('./typeOf');","var inspect = require('./inspect');","var encode = require('./encode');","var typeOfAssert = typeOf.getTypeOfMap();","function assertVar(value, type, label, opt) {","    if (opt === void 0) { opt = false; }","    if (arguments.length < 3) {","        throw new AssertionError('expected at least 3 arguments but got \"' + arguments.length + '\"');","    }","    var valueKind = typeOf.get(value);","    var typeKind = typeOf.get(type);","    if (!typeOf.isValid(value)) {","        if (!opt) {","            throw new AssertionError('expected ' + encode.wrapQuotes(label, true)","                + ' to be defined as a ' + inspect.toValueStrim(type)","                + ' but got ' + (valueKind === 'number' ? 'NaN' : valueKind), undefined, assertVar);","        }","    }","    else if (typeKind === 'function') {","        if (!(value instanceof type)) {","            throw new AssertionError('expected ' + encode.wrapQuotes(label, true)","                + ' to be instanceof ' + inspect.getFuncLabel(type)","                + ' but is a ' + inspect.getFuncLabel(value.constructor)","                + ': ' + inspect.toValueStrim(value), undefined, assertVar);","        }","    }","    else if (typeKind === 'string') {","        if (typeOf.hasOwnProp(typeOfAssert, type)) {","            var check = typeOfAssert[type];","            if (!check(value)) {","                throw new AssertionError('expected ' + encode.wrapQuotes(label, true)","                    + ' to be a ' + encode.wrapQuotes(type, true)","                    + ' but got a ' + encode.wrapQuotes(valueKind, true)","                    + ': ' + inspect.toValueStrim(value), undefined, assertVar);","            }","        }","        else {","            throw new AssertionError('unknown type-assertion parameter ' + encode.wrapQuotes(type, true)","                + ' for ' + inspect.toValueStrim(value), undefined, assertVar);","        }","    }","    else {","        throw new AssertionError('bad type-assertion parameter '","            + inspect.toValueStrim(type)","            + ' for '","            + encode.wrapQuotes(label, true), undefined, assertVar);","    }","}","module.exports = assertVar;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"12":0,"13":0,"14":0,"15":0,"16":0,"21":0,"22":0,"23":0,"29":0,"30":0,"31":0,"32":0,"33":0,"40":0,"45":0,"51":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/typeOf.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/typeOf.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":32,"12":1,"13":1,"14":0,"15":0,"16":0,"17":1,"18":1,"19":0,"20":1,"21":1,"22":0,"23":1,"24":1,"25":0,"26":1,"27":1,"28":32,"29":1,"30":1,"31":0,"32":1,"33":1,"34":0,"35":1,"36":1,"37":6,"38":1,"39":1,"40":0,"41":1,"42":1,"43":0,"44":1,"45":1,"46":0,"47":1,"48":1,"49":0,"50":1,"51":1,"52":0,"53":1,"54":1,"55":0,"56":1,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":1,"68":0,"69":0,"70":1,"71":1,"72":0,"73":1,"74":1,"75":0,"76":1,"77":1,"78":0,"79":1,"80":1,"81":0,"82":1,"83":1,"84":0,"85":0,"86":0,"87":1,"88":1,"89":0,"90":0,"91":0,"92":1,"93":1,"94":0,"95":0,"96":0,"97":1,"98":1,"99":1,"100":2,"101":2,"102":2,"103":32,"104":32,"105":0,"106":32,"107":2,"108":0,"109":0,"110":0,"111":2,"112":1,"113":1,"114":0,"115":0,"116":0,"117":0,"118":0,"119":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0,0,0,0,0],"7":[0,0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[32,0],"12":[0,32],"13":[0,2],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":32,"3":0,"4":0,"5":0,"6":0,"7":32,"8":0,"9":0,"10":6,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":2,"27":0,"28":0},"fnMap":{"1":{"name":"get","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":20}}},"2":{"name":"hasOwnProp","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":33}}},"3":{"name":"isType","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":29}}},"4":{"name":"isArguments","line":39,"loc":{"start":{"line":39,"column":0},"end":{"line":39,"column":28}}},"5":{"name":"isArray","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":24}}},"6":{"name":"isDate","line":47,"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":23}}},"7":{"name":"isFunction","line":51,"loc":{"start":{"line":51,"column":0},"end":{"line":51,"column":27}}},"8":{"name":"isNumber","line":55,"loc":{"start":{"line":55,"column":0},"end":{"line":55,"column":25}}},"9":{"name":"isRegExp","line":59,"loc":{"start":{"line":59,"column":0},"end":{"line":59,"column":25}}},"10":{"name":"isString","line":63,"loc":{"start":{"line":63,"column":0},"end":{"line":63,"column":25}}},"11":{"name":"isNull","line":67,"loc":{"start":{"line":67,"column":0},"end":{"line":67,"column":23}}},"12":{"name":"isUndefined","line":71,"loc":{"start":{"line":71,"column":0},"end":{"line":71,"column":28}}},"13":{"name":"isObject","line":75,"loc":{"start":{"line":75,"column":0},"end":{"line":75,"column":25}}},"14":{"name":"isBoolean","line":79,"loc":{"start":{"line":79,"column":0},"end":{"line":79,"column":26}}},"15":{"name":"isArrayLike","line":83,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":28}}},"16":{"name":"isOk","line":87,"loc":{"start":{"line":87,"column":0},"end":{"line":87,"column":21}}},"17":{"name":"isFlagOn","line":91,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":25}}},"18":{"name":"isValid","line":112,"loc":{"start":{"line":112,"column":0},"end":{"line":112,"column":24}}},"19":{"name":"isNaN","line":117,"loc":{"start":{"line":117,"column":0},"end":{"line":117,"column":22}}},"20":{"name":"isJSONValue","line":121,"loc":{"start":{"line":121,"column":0},"end":{"line":121,"column":28}}},"21":{"name":"isPrimitive","line":125,"loc":{"start":{"line":125,"column":0},"end":{"line":125,"column":28}}},"22":{"name":"isValueType","line":129,"loc":{"start":{"line":129,"column":0},"end":{"line":129,"column":28}}},"23":{"name":"isSha","line":133,"loc":{"start":{"line":133,"column":0},"end":{"line":133,"column":22}}},"24":{"name":"isShaShort","line":140,"loc":{"start":{"line":140,"column":0},"end":{"line":140,"column":27}}},"25":{"name":"isMd5","line":147,"loc":{"start":{"line":147,"column":0},"end":{"line":147,"column":22}}},"26":{"name":"getTypeOfMap","line":172,"loc":{"start":{"line":172,"column":0},"end":{"line":172,"column":27}}},"27":{"name":"getTypeOfWrap","line":193,"loc":{"start":{"line":193,"column":0},"end":{"line":193,"column":28}}},"28":{"name":"isTypeWrap","line":195,"loc":{"start":{"line":195,"column":11},"end":{"line":195,"column":44}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":29}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":18}},"6":{"start":{"line":8,"column":0},"end":{"line":15,"column":2}},"7":{"start":{"line":16,"column":0},"end":{"line":20,"column":2}},"8":{"start":{"line":21,"column":0},"end":{"line":26,"column":2}},"9":{"start":{"line":27,"column":0},"end":{"line":27,"column":53}},"10":{"start":{"line":28,"column":0},"end":{"line":30,"column":1}},"11":{"start":{"line":29,"column":4},"end":{"line":29,"column":44}},"12":{"start":{"line":31,"column":0},"end":{"line":31,"column":32}},"13":{"start":{"line":32,"column":0},"end":{"line":37,"column":1}},"14":{"start":{"line":33,"column":4},"end":{"line":35,"column":5}},"15":{"start":{"line":34,"column":8},"end":{"line":34,"column":55}},"16":{"start":{"line":36,"column":4},"end":{"line":36,"column":17}},"17":{"start":{"line":38,"column":0},"end":{"line":38,"column":24}},"18":{"start":{"line":39,"column":0},"end":{"line":41,"column":1}},"19":{"start":{"line":40,"column":4},"end":{"line":40,"column":45}},"20":{"start":{"line":42,"column":0},"end":{"line":42,"column":34}},"21":{"start":{"line":43,"column":0},"end":{"line":45,"column":1}},"22":{"start":{"line":44,"column":4},"end":{"line":44,"column":41}},"23":{"start":{"line":46,"column":0},"end":{"line":46,"column":26}},"24":{"start":{"line":47,"column":0},"end":{"line":49,"column":1}},"25":{"start":{"line":48,"column":4},"end":{"line":48,"column":40}},"26":{"start":{"line":50,"column":0},"end":{"line":50,"column":24}},"27":{"start":{"line":51,"column":0},"end":{"line":53,"column":1}},"28":{"start":{"line":52,"column":4},"end":{"line":52,"column":44}},"29":{"start":{"line":54,"column":0},"end":{"line":54,"column":32}},"30":{"start":{"line":55,"column":0},"end":{"line":57,"column":1}},"31":{"start":{"line":56,"column":4},"end":{"line":56,"column":42}},"32":{"start":{"line":58,"column":0},"end":{"line":58,"column":28}},"33":{"start":{"line":59,"column":0},"end":{"line":61,"column":1}},"34":{"start":{"line":60,"column":4},"end":{"line":60,"column":42}},"35":{"start":{"line":62,"column":0},"end":{"line":62,"column":28}},"36":{"start":{"line":63,"column":0},"end":{"line":65,"column":1}},"37":{"start":{"line":64,"column":4},"end":{"line":64,"column":42}},"38":{"start":{"line":66,"column":0},"end":{"line":66,"column":28}},"39":{"start":{"line":67,"column":0},"end":{"line":69,"column":1}},"40":{"start":{"line":68,"column":4},"end":{"line":68,"column":40}},"41":{"start":{"line":70,"column":0},"end":{"line":70,"column":24}},"42":{"start":{"line":71,"column":0},"end":{"line":73,"column":1}},"43":{"start":{"line":72,"column":4},"end":{"line":72,"column":45}},"44":{"start":{"line":74,"column":0},"end":{"line":74,"column":34}},"45":{"start":{"line":75,"column":0},"end":{"line":77,"column":1}},"46":{"start":{"line":76,"column":4},"end":{"line":76,"column":42}},"47":{"start":{"line":78,"column":0},"end":{"line":78,"column":28}},"48":{"start":{"line":79,"column":0},"end":{"line":81,"column":1}},"49":{"start":{"line":80,"column":4},"end":{"line":80,"column":43}},"50":{"start":{"line":82,"column":0},"end":{"line":82,"column":30}},"51":{"start":{"line":83,"column":0},"end":{"line":85,"column":1}},"52":{"start":{"line":84,"column":4},"end":{"line":84,"column":80}},"53":{"start":{"line":86,"column":0},"end":{"line":86,"column":34}},"54":{"start":{"line":87,"column":0},"end":{"line":89,"column":1}},"55":{"start":{"line":88,"column":4},"end":{"line":88,"column":19}},"56":{"start":{"line":90,"column":0},"end":{"line":90,"column":20}},"57":{"start":{"line":91,"column":0},"end":{"line":110,"column":1}},"58":{"start":{"line":92,"column":4},"end":{"line":94,"column":5}},"59":{"start":{"line":93,"column":8},"end":{"line":93,"column":21}},"60":{"start":{"line":95,"column":4},"end":{"line":95,"column":47}},"61":{"start":{"line":96,"column":4},"end":{"line":98,"column":5}},"62":{"start":{"line":97,"column":8},"end":{"line":97,"column":21}},"63":{"start":{"line":99,"column":4},"end":{"line":108,"column":5}},"64":{"start":{"line":107,"column":12},"end":{"line":107,"column":25}},"65":{"start":{"line":109,"column":4},"end":{"line":109,"column":16}},"66":{"start":{"line":111,"column":0},"end":{"line":111,"column":28}},"67":{"start":{"line":112,"column":0},"end":{"line":115,"column":1}},"68":{"start":{"line":113,"column":4},"end":{"line":113,"column":33}},"69":{"start":{"line":114,"column":4},"end":{"line":114,"column":93}},"70":{"start":{"line":116,"column":0},"end":{"line":116,"column":26}},"71":{"start":{"line":117,"column":0},"end":{"line":119,"column":1}},"72":{"start":{"line":118,"column":4},"end":{"line":118,"column":27}},"73":{"start":{"line":120,"column":0},"end":{"line":120,"column":22}},"74":{"start":{"line":121,"column":0},"end":{"line":123,"column":1}},"75":{"start":{"line":122,"column":4},"end":{"line":122,"column":61}},"76":{"start":{"line":124,"column":0},"end":{"line":124,"column":34}},"77":{"start":{"line":125,"column":0},"end":{"line":127,"column":1}},"78":{"start":{"line":126,"column":4},"end":{"line":126,"column":66}},"79":{"start":{"line":128,"column":0},"end":{"line":128,"column":34}},"80":{"start":{"line":129,"column":0},"end":{"line":131,"column":1}},"81":{"start":{"line":130,"column":4},"end":{"line":130,"column":62}},"82":{"start":{"line":132,"column":0},"end":{"line":132,"column":34}},"83":{"start":{"line":133,"column":0},"end":{"line":138,"column":1}},"84":{"start":{"line":134,"column":4},"end":{"line":136,"column":5}},"85":{"start":{"line":135,"column":8},"end":{"line":135,"column":21}},"86":{"start":{"line":137,"column":4},"end":{"line":137,"column":40}},"87":{"start":{"line":139,"column":0},"end":{"line":139,"column":22}},"88":{"start":{"line":140,"column":0},"end":{"line":145,"column":1}},"89":{"start":{"line":141,"column":4},"end":{"line":143,"column":5}},"90":{"start":{"line":142,"column":8},"end":{"line":142,"column":21}},"91":{"start":{"line":144,"column":4},"end":{"line":144,"column":42}},"92":{"start":{"line":146,"column":0},"end":{"line":146,"column":32}},"93":{"start":{"line":147,"column":0},"end":{"line":152,"column":1}},"94":{"start":{"line":148,"column":4},"end":{"line":150,"column":5}},"95":{"start":{"line":149,"column":8},"end":{"line":149,"column":21}},"96":{"start":{"line":151,"column":4},"end":{"line":151,"column":40}},"97":{"start":{"line":153,"column":0},"end":{"line":153,"column":22}},"98":{"start":{"line":154,"column":0},"end":{"line":171,"column":2}},"99":{"start":{"line":172,"column":0},"end":{"line":191,"column":1}},"100":{"start":{"line":173,"column":4},"end":{"line":173,"column":13}},"101":{"start":{"line":174,"column":4},"end":{"line":174,"column":36}},"102":{"start":{"line":175,"column":4},"end":{"line":182,"column":5}},"103":{"start":{"line":176,"column":8},"end":{"line":181,"column":9}},"104":{"start":{"line":177,"column":12},"end":{"line":179,"column":13}},"105":{"start":{"line":178,"column":16},"end":{"line":178,"column":63}},"106":{"start":{"line":180,"column":12},"end":{"line":180,"column":48}},"107":{"start":{"line":183,"column":4},"end":{"line":189,"column":5}},"108":{"start":{"line":184,"column":8},"end":{"line":188,"column":9}},"109":{"start":{"line":185,"column":12},"end":{"line":187,"column":13}},"110":{"start":{"line":186,"column":16},"end":{"line":186,"column":40}},"111":{"start":{"line":190,"column":4},"end":{"line":190,"column":17}},"112":{"start":{"line":192,"column":0},"end":{"line":192,"column":36}},"113":{"start":{"line":193,"column":0},"end":{"line":201,"column":1}},"114":{"start":{"line":194,"column":4},"end":{"line":194,"column":36}},"115":{"start":{"line":195,"column":4},"end":{"line":200,"column":6}},"116":{"start":{"line":196,"column":8},"end":{"line":198,"column":9}},"117":{"start":{"line":197,"column":12},"end":{"line":197,"column":51}},"118":{"start":{"line":199,"column":8},"end":{"line":199,"column":21}},"119":{"start":{"line":202,"column":0},"end":{"line":202,"column":38}}},"branchMap":{"1":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":4}},{"start":{"line":33,"column":4},"end":{"line":33,"column":4}}]},"2":{"line":84,"type":"binary-expr","locations":[{"start":{"line":84,"column":12},"end":{"line":84,"column":41}},{"start":{"line":84,"column":45},"end":{"line":84,"column":78}}]},"3":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":4}},{"start":{"line":92,"column":4},"end":{"line":92,"column":4}}]},"4":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":4},"end":{"line":96,"column":4}},{"start":{"line":96,"column":4},"end":{"line":96,"column":4}}]},"5":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":8},"end":{"line":96,"column":20}},{"start":{"line":96,"column":24},"end":{"line":96,"column":37}}]},"6":{"line":99,"type":"switch","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":21}},{"start":{"line":101,"column":8},"end":{"line":101,"column":20}},{"start":{"line":102,"column":8},"end":{"line":102,"column":19}},{"start":{"line":103,"column":8},"end":{"line":103,"column":25}},{"start":{"line":104,"column":8},"end":{"line":104,"column":18}},{"start":{"line":105,"column":8},"end":{"line":105,"column":19}},{"start":{"line":106,"column":8},"end":{"line":107,"column":25}}]},"7":{"line":114,"type":"binary-expr","locations":[{"start":{"line":114,"column":13},"end":{"line":114,"column":33}},{"start":{"line":114,"column":37},"end":{"line":114,"column":52}},{"start":{"line":114,"column":57},"end":{"line":114,"column":74}},{"start":{"line":114,"column":78},"end":{"line":114,"column":90}}]},"8":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":4},"end":{"line":134,"column":4}},{"start":{"line":134,"column":4},"end":{"line":134,"column":4}}]},"9":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":4},"end":{"line":141,"column":4}},{"start":{"line":141,"column":4},"end":{"line":141,"column":4}}]},"10":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":148,"column":4}},{"start":{"line":148,"column":4},"end":{"line":148,"column":4}}]},"11":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":8},"end":{"line":176,"column":8}},{"start":{"line":176,"column":8},"end":{"line":176,"column":8}}]},"12":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":12},"end":{"line":177,"column":12}},{"start":{"line":177,"column":12},"end":{"line":177,"column":12}}]},"13":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":4},"end":{"line":183,"column":4}},{"start":{"line":183,"column":4},"end":{"line":183,"column":4}}]},"14":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":12},"end":{"line":185,"column":12}},{"start":{"line":185,"column":12},"end":{"line":185,"column":12}}]},"15":{"line":185,"type":"binary-expr","locations":[{"start":{"line":185,"column":16},"end":{"line":185,"column":37}},{"start":{"line":185,"column":41},"end":{"line":185,"column":62}}]},"16":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":8},"end":{"line":196,"column":8}},{"start":{"line":196,"column":8},"end":{"line":196,"column":8}}]}},"code":["'use strict';","var typeDetect = require('type-detect');","var toString = Object.prototype.toString;","function get(value) {","    return typeDetect(value);","}","exports.get = get;","exports.jsonTypes = [","    'array',","    'object',","    'boolean',","    'number',","    'string',","    'null'","];","exports.primitiveTypes = [","    'boolean',","    'number',","    'string'","];","exports.valueTypes = [","    'boolean',","    'number',","    'string',","    'null'","];","var hasOwnProperty = Object.prototype.hasOwnProperty;","function hasOwnProp(value, prop) {","    return hasOwnProperty.call(value, prop);","}","exports.hasOwnProp = hasOwnProp;","function isType(value, type) {","    if (hasOwnProp(exports.typeMap, type)) {","        return exports.typeMap[type].call(null, value);","    }","    return false;","}","exports.isType = isType;","function isArguments(value) {","    return typeDetect(value) === 'arguments';","}","exports.isArguments = isArguments;","function isArray(value) {","    return typeDetect(value) === 'array';","}","exports.isArray = isArray;","function isDate(value) {","    return typeDetect(value) === 'date';","}","exports.isDate = isDate;","function isFunction(value) {","    return typeDetect(value) === 'function';","}","exports.isFunction = isFunction;","function isNumber(value) {","    return typeDetect(value) === 'number';","}","exports.isNumber = isNumber;","function isRegExp(value) {","    return typeDetect(value) === 'regexp';","}","exports.isRegExp = isRegExp;","function isString(value) {","    return typeDetect(value) === 'string';","}","exports.isString = isString;","function isNull(value) {","    return typeDetect(value) === 'null';","}","exports.isNull = isNull;","function isUndefined(value) {","    return typeDetect(value) === 'undefined';","}","exports.isUndefined = isUndefined;","function isObject(value) {","    return typeDetect(value) === 'object';","}","exports.isObject = isObject;","function isBoolean(value) {","    return typeDetect(value) === 'boolean';","}","exports.isBoolean = isBoolean;","function isArrayLike(value) {","    return (typeDetect(value) === 'array' || typeDetect(value) === 'arguments');","}","exports.isArrayLike = isArrayLike;","function isOk(value) {","    return !!value;","}","exports.isOk = isOk;","function isFlagOn(value) {","    if (!isValid(value)) {","        return false;","    }","    value = String(value).trim().toLowerCase();","    if (value === '' || value === '0') {","        return false;","    }","    switch (value) {","        case 'false':","        case 'null':","        case 'nan':","        case 'undefined':","        case 'no':","        case 'off':","        case 'disabled':","            return false;","    }","    return true;","}","exports.isFlagOn = isFlagOn;","function isValid(value) {","    var type = typeDetect(value);","    return !(type === 'undefined' || type === 'null' || (type === 'number' && isNaN(value)));","}","exports.isValid = isValid;","function isNaN(value) {","    return value !== value;","}","exports.isNaN = isNaN;","function isJSONValue(value) {","    return exports.jsonTypes.indexOf(typeDetect(value)) > -1;","}","exports.isJSONValue = isJSONValue;","function isPrimitive(value) {","    return exports.primitiveTypes.indexOf(typeDetect(value)) > -1;","}","exports.isPrimitive = isPrimitive;","function isValueType(value) {","    return exports.valueTypes.indexOf(typeDetect(value)) > -1;","}","exports.isValueType = isValueType;","function isSha(value) {","    if (typeof value !== 'string') {","        return false;","    }","    return /^[0-9a-f]{40}$/.test(value);","}","exports.isSha = isSha;","function isShaShort(value) {","    if (typeof value !== 'string') {","        return false;","    }","    return /^[0-9a-f]{6,40}$/.test(value);","}","exports.isShaShort = isShaShort;","function isMd5(value) {","    if (typeof value !== 'string') {","        return false;","    }","    return /^[0-9a-f]{32}$/.test(value);","}","exports.isMd5 = isMd5;","exports.typeMap = {","    arguments: isArguments,","    array: isArray,","    date: isDate,","    function: isFunction,","    number: isNumber,","    regexp: isRegExp,","    string: isString,","    null: isNull,","    undefined: isUndefined,","    object: isObject,","    boolean: isBoolean,","    ok: isOk,","    valid: isValid,","    sha1: isSha,","    md5: isMd5,","    jsonValue: isJSONValue","};","function getTypeOfMap(add) {","    var name;","    var value = Object.create(null);","    for (name in exports.typeMap) {","        if (hasOwnProp(exports.typeMap, name)) {","            if (!isFunction(exports.typeMap[name])) {","                throw new Error('bad typeOf function ' + name);","            }","            value[name] = exports.typeMap[name];","        }","    }","    if (add) {","        for (name in add) {","            if (hasOwnProp(add, name) && isFunction(add[name])) {","                value[name] = add[name];","            }","        }","    }","    return value;","}","exports.getTypeOfMap = getTypeOfMap;","function getTypeOfWrap(add) {","    var typeMap = getTypeOfMap(add);","    return function isTypeWrap(value, type) {","        if (hasOwnProp(typeMap, type)) {","            return typeMap[type].call(null, value);","        }","        return false;","    };","}","exports.getTypeOfWrap = getTypeOfWrap;",""],"l":{"2":1,"3":1,"4":1,"5":0,"7":1,"8":1,"16":1,"21":1,"27":1,"28":1,"29":32,"31":1,"32":1,"33":0,"34":0,"36":0,"38":1,"39":1,"40":0,"42":1,"43":1,"44":0,"46":1,"47":1,"48":0,"50":1,"51":1,"52":32,"54":1,"55":1,"56":0,"58":1,"59":1,"60":0,"62":1,"63":1,"64":6,"66":1,"67":1,"68":0,"70":1,"71":1,"72":0,"74":1,"75":1,"76":0,"78":1,"79":1,"80":0,"82":1,"83":1,"84":0,"86":1,"87":1,"88":0,"90":1,"91":1,"92":0,"93":0,"95":0,"96":0,"97":0,"99":0,"107":0,"109":0,"111":1,"112":1,"113":0,"114":0,"116":1,"117":1,"118":0,"120":1,"121":1,"122":0,"124":1,"125":1,"126":0,"128":1,"129":1,"130":0,"132":1,"133":1,"134":0,"135":0,"137":0,"139":1,"140":1,"141":0,"142":0,"144":0,"146":1,"147":1,"148":0,"149":0,"151":0,"153":1,"154":1,"172":1,"173":2,"174":2,"175":2,"176":32,"177":32,"178":0,"180":32,"183":2,"184":0,"185":0,"186":0,"190":2,"192":1,"193":1,"194":0,"195":0,"196":0,"197":0,"199":0,"202":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/inspect.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/inspect.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0,0,0,0,0,0,0,0,0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"getFuncLabel","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":28}}},"2":{"name":"toValueStrim","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":42}}},"3":{"name":"(anonymous_3)","line":41,"loc":{"start":{"line":41,"column":49},"end":{"line":41,"column":66}}},"4":{"name":"(anonymous_4)","line":50,"loc":{"start":{"line":50,"column":84},"end":{"line":50,"column":99}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":0},"end":{"line":13,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":77}},"5":{"start":{"line":6,"column":4},"end":{"line":8,"column":5}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":47}},"7":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":25}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":25}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":36}},"11":{"start":{"line":15,"column":0},"end":{"line":57,"column":1}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":40}},"13":{"start":{"line":16,"column":28},"end":{"line":16,"column":38}},"14":{"start":{"line":17,"column":4},"end":{"line":17,"column":43}},"15":{"start":{"line":17,"column":29},"end":{"line":17,"column":41}},"16":{"start":{"line":18,"column":4},"end":{"line":18,"column":31}},"17":{"start":{"line":19,"column":4},"end":{"line":19,"column":12}},"18":{"start":{"line":20,"column":4},"end":{"line":56,"column":5}},"19":{"start":{"line":23,"column":12},"end":{"line":23,"column":34}},"20":{"start":{"line":26,"column":12},"end":{"line":26,"column":24}},"21":{"start":{"line":28,"column":12},"end":{"line":28,"column":36}},"22":{"start":{"line":30,"column":12},"end":{"line":30,"column":54}},"23":{"start":{"line":32,"column":12},"end":{"line":32,"column":37}},"24":{"start":{"line":34,"column":12},"end":{"line":34,"column":37}},"25":{"start":{"line":38,"column":16},"end":{"line":40,"column":17}},"26":{"start":{"line":39,"column":20},"end":{"line":39,"column":49}},"27":{"start":{"line":41,"column":16},"end":{"line":43,"column":44}},"28":{"start":{"line":42,"column":20},"end":{"line":42,"column":53}},"29":{"start":{"line":47,"column":16},"end":{"line":49,"column":17}},"30":{"start":{"line":48,"column":20},"end":{"line":48,"column":49}},"31":{"start":{"line":50,"column":16},"end":{"line":52,"column":44}},"32":{"start":{"line":51,"column":20},"end":{"line":51,"column":82}},"33":{"start":{"line":55,"column":12},"end":{"line":55,"column":78}},"34":{"start":{"line":58,"column":0},"end":{"line":58,"column":36}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":4}},{"start":{"line":6,"column":4},"end":{"line":6,"column":4}}]},"2":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":13}},{"start":{"line":6,"column":17},"end":{"line":6,"column":34}}]},"3":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":4}},{"start":{"line":9,"column":4},"end":{"line":9,"column":4}}]},"4":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":4}},{"start":{"line":16,"column":4},"end":{"line":16,"column":4}}]},"5":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"6":{"line":20,"type":"switch","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":23}},{"start":{"line":22,"column":8},"end":{"line":23,"column":34}},{"start":{"line":24,"column":8},"end":{"line":24,"column":20}},{"start":{"line":25,"column":8},"end":{"line":26,"column":24}},{"start":{"line":27,"column":8},"end":{"line":28,"column":36}},{"start":{"line":29,"column":8},"end":{"line":30,"column":54}},{"start":{"line":31,"column":8},"end":{"line":32,"column":37}},{"start":{"line":33,"column":8},"end":{"line":34,"column":37}},{"start":{"line":35,"column":8},"end":{"line":35,"column":25}},{"start":{"line":36,"column":8},"end":{"line":44,"column":13}},{"start":{"line":45,"column":8},"end":{"line":53,"column":13}},{"start":{"line":54,"column":8},"end":{"line":55,"column":78}}]},"7":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":16},"end":{"line":38,"column":16}},{"start":{"line":38,"column":16},"end":{"line":38,"column":16}}]},"8":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":16},"end":{"line":47,"column":16}},{"start":{"line":47,"column":16},"end":{"line":47,"column":16}}]}},"code":["'use strict';","var typeDetect = require('type-detect');","var encode = require('./encode');","function getFuncLabel(func) {","    var match = /^\\s?function ([^( ]*) *\\( *([^(]*?) *\\)/.exec(String(func));","    if (match && match.length >= 3) {","        return match[1] + '(' + match[2] + ')';","    }","    if (func.name) {","        return func.name;","    }","    return '<anonymous>';","}","exports.getFuncLabel = getFuncLabel;","function toValueStrim(obj, depth, cutoff) {","    if (depth === void 0) { depth = 4; }","    if (cutoff === void 0) { cutoff = 80; }","    var type = typeDetect(obj);","    depth--;","    switch (type) {","        case 'boolean':","        case 'regexp':","            return obj.toString();","        case 'null':","        case 'undefined':","            return type;","        case 'number':","            return obj.toString(10);","        case 'string':","            return encode.trimWrap(obj, cutoff, true);","        case 'date':","            return obj.toISOString();","        case 'function':","            return getFuncLabel(obj);","        case 'arguments':","        case 'array':","            {","                if (depth <= 0) {","                    return '<maximum recursion>';","                }","                return '[' + encode.trim(obj.map(function (value) {","                    return encode.trim(value, depth);","                }).join(','), cutoff) + ']';","            }","        case 'object':","            {","                if (depth <= 0) {","                    return '<maximum recursion>';","                }","                return encode.trim(String(obj) + ' {' + Object.keys(obj).sort().map(function (key) {","                    return encode.trim(key) + ':' + toValueStrim(obj[key], depth);","                }).join(','), cutoff) + '}';","            }","        default:","            throw (new Error('toValueStrim: cannot serialise type: ' + type));","    }","}","exports.toValueStrim = toValueStrim;",""],"l":{"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"9":0,"10":0,"12":0,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"23":0,"26":0,"28":0,"30":0,"32":0,"34":0,"38":0,"39":0,"41":0,"42":0,"47":0,"48":0,"50":0,"51":0,"55":0,"58":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/encode.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/encode.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":3,"13":3,"14":3,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":3,"23":14,"24":3,"25":0,"26":1,"27":1,"28":1,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":3,"40":1,"41":0,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":0,"49":1,"50":1,"51":0,"52":1,"53":1,"54":0,"55":1,"56":1,"57":0,"58":1,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":1,"68":0,"69":0,"70":0,"71":0,"72":1,"73":1,"74":0,"75":0,"76":0,"77":0,"78":1,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":1,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":1},"b":{"1":[3,0],"2":[3,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":3,"2":0,"3":14,"4":0,"5":1,"6":0,"7":3,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"getEscaper","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":26}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":19},"end":{"line":15,"column":36}}},"3":{"name":"(anonymous_3)","line":26,"loc":{"start":{"line":26,"column":42},"end":{"line":26,"column":58}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":11},"end":{"line":29,"column":28}}},"5":{"name":"getMultiReplacer","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":32}}},"6":{"name":"(anonymous_6)","line":37,"loc":{"start":{"line":37,"column":19},"end":{"line":37,"column":36}}},"7":{"name":"(anonymous_7)","line":48,"loc":{"start":{"line":48,"column":39},"end":{"line":48,"column":55}}},"8":{"name":"(anonymous_8)","line":51,"loc":{"start":{"line":51,"column":11},"end":{"line":51,"column":28}}},"9":{"name":"quoteSingle","line":73,"loc":{"start":{"line":73,"column":0},"end":{"line":73,"column":28}}},"10":{"name":"quoteDouble","line":77,"loc":{"start":{"line":77,"column":0},"end":{"line":77,"column":28}}},"11":{"name":"quoteSingleWrap","line":81,"loc":{"start":{"line":81,"column":0},"end":{"line":81,"column":32}}},"12":{"name":"quoteDoubleWrap","line":85,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":32}}},"13":{"name":"escapeControl","line":89,"loc":{"start":{"line":89,"column":0},"end":{"line":89,"column":45}}},"14":{"name":"wrapQuotes","line":98,"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":35}}},"15":{"name":"wrapIfComplex","line":106,"loc":{"start":{"line":106,"column":0},"end":{"line":106,"column":38}}},"16":{"name":"trim","line":114,"loc":{"start":{"line":114,"column":0},"end":{"line":114,"column":29}}},"17":{"name":"trimWrap","line":122,"loc":{"start":{"line":122,"column":0},"end":{"line":122,"column":41}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":22}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":58}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":21}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":23}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":25}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":54}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":54}},"11":{"start":{"line":12,"column":0},"end":{"line":32,"column":1}},"12":{"start":{"line":13,"column":4},"end":{"line":13,"column":86}},"13":{"start":{"line":14,"column":4},"end":{"line":14,"column":90}},"14":{"start":{"line":15,"column":4},"end":{"line":25,"column":6}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":22}},"16":{"start":{"line":17,"column":8},"end":{"line":19,"column":9}},"17":{"start":{"line":18,"column":12},"end":{"line":18,"column":41}},"18":{"start":{"line":20,"column":8},"end":{"line":20,"column":39}},"19":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"20":{"start":{"line":22,"column":12},"end":{"line":22,"column":36}},"21":{"start":{"line":24,"column":8},"end":{"line":24,"column":21}},"22":{"start":{"line":26,"column":4},"end":{"line":28,"column":28}},"23":{"start":{"line":27,"column":8},"end":{"line":27,"column":27}},"24":{"start":{"line":29,"column":4},"end":{"line":31,"column":6}},"25":{"start":{"line":30,"column":8},"end":{"line":30,"column":44}},"26":{"start":{"line":33,"column":0},"end":{"line":33,"column":32}},"27":{"start":{"line":34,"column":0},"end":{"line":54,"column":1}},"28":{"start":{"line":35,"column":4},"end":{"line":35,"column":29}},"29":{"start":{"line":36,"column":4},"end":{"line":36,"column":31}},"30":{"start":{"line":37,"column":4},"end":{"line":47,"column":6}},"31":{"start":{"line":38,"column":8},"end":{"line":38,"column":22}},"32":{"start":{"line":39,"column":8},"end":{"line":41,"column":9}},"33":{"start":{"line":40,"column":12},"end":{"line":40,"column":41}},"34":{"start":{"line":42,"column":8},"end":{"line":42,"column":39}},"35":{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},"36":{"start":{"line":44,"column":12},"end":{"line":44,"column":29}},"37":{"start":{"line":46,"column":8},"end":{"line":46,"column":21}},"38":{"start":{"line":48,"column":4},"end":{"line":50,"column":23}},"39":{"start":{"line":49,"column":8},"end":{"line":49,"column":34}},"40":{"start":{"line":51,"column":4},"end":{"line":53,"column":6}},"41":{"start":{"line":52,"column":8},"end":{"line":52,"column":44}},"42":{"start":{"line":55,"column":0},"end":{"line":55,"column":44}},"43":{"start":{"line":56,"column":0},"end":{"line":59,"column":3}},"44":{"start":{"line":60,"column":0},"end":{"line":63,"column":3}},"45":{"start":{"line":64,"column":0},"end":{"line":67,"column":3}},"46":{"start":{"line":68,"column":0},"end":{"line":72,"column":3}},"47":{"start":{"line":73,"column":0},"end":{"line":75,"column":1}},"48":{"start":{"line":74,"column":4},"end":{"line":74,"column":59}},"49":{"start":{"line":76,"column":0},"end":{"line":76,"column":34}},"50":{"start":{"line":77,"column":0},"end":{"line":79,"column":1}},"51":{"start":{"line":78,"column":4},"end":{"line":78,"column":58}},"52":{"start":{"line":80,"column":0},"end":{"line":80,"column":34}},"53":{"start":{"line":81,"column":0},"end":{"line":83,"column":1}},"54":{"start":{"line":82,"column":4},"end":{"line":82,"column":73}},"55":{"start":{"line":84,"column":0},"end":{"line":84,"column":42}},"56":{"start":{"line":85,"column":0},"end":{"line":87,"column":1}},"57":{"start":{"line":86,"column":4},"end":{"line":86,"column":70}},"58":{"start":{"line":88,"column":0},"end":{"line":88,"column":42}},"59":{"start":{"line":89,"column":0},"end":{"line":96,"column":1}},"60":{"start":{"line":90,"column":4},"end":{"line":90,"column":60}},"61":{"start":{"line":90,"column":36},"end":{"line":90,"column":58}},"62":{"start":{"line":91,"column":4},"end":{"line":91,"column":26}},"63":{"start":{"line":92,"column":4},"end":{"line":94,"column":5}},"64":{"start":{"line":93,"column":8},"end":{"line":93,"column":63}},"65":{"start":{"line":95,"column":4},"end":{"line":95,"column":36}},"66":{"start":{"line":97,"column":0},"end":{"line":97,"column":38}},"67":{"start":{"line":98,"column":0},"end":{"line":104,"column":1}},"68":{"start":{"line":99,"column":4},"end":{"line":99,"column":33}},"69":{"start":{"line":100,"column":4},"end":{"line":102,"column":5}},"70":{"start":{"line":101,"column":8},"end":{"line":101,"column":38}},"71":{"start":{"line":103,"column":4},"end":{"line":103,"column":34}},"72":{"start":{"line":105,"column":0},"end":{"line":105,"column":32}},"73":{"start":{"line":106,"column":0},"end":{"line":112,"column":1}},"74":{"start":{"line":107,"column":4},"end":{"line":107,"column":26}},"75":{"start":{"line":108,"column":4},"end":{"line":110,"column":5}},"76":{"start":{"line":109,"column":8},"end":{"line":109,"column":60}},"77":{"start":{"line":111,"column":4},"end":{"line":111,"column":17}},"78":{"start":{"line":113,"column":0},"end":{"line":113,"column":38}},"79":{"start":{"line":114,"column":0},"end":{"line":120,"column":1}},"80":{"start":{"line":115,"column":4},"end":{"line":115,"column":43}},"81":{"start":{"line":115,"column":29},"end":{"line":115,"column":41}},"82":{"start":{"line":116,"column":4},"end":{"line":118,"column":5}},"83":{"start":{"line":117,"column":8},"end":{"line":117,"column":47}},"84":{"start":{"line":119,"column":4},"end":{"line":119,"column":17}},"85":{"start":{"line":121,"column":0},"end":{"line":121,"column":20}},"86":{"start":{"line":122,"column":0},"end":{"line":129,"column":1}},"87":{"start":{"line":123,"column":4},"end":{"line":123,"column":43}},"88":{"start":{"line":123,"column":29},"end":{"line":123,"column":41}},"89":{"start":{"line":124,"column":4},"end":{"line":124,"column":26}},"90":{"start":{"line":125,"column":4},"end":{"line":127,"column":5}},"91":{"start":{"line":126,"column":8},"end":{"line":126,"column":67}},"92":{"start":{"line":128,"column":4},"end":{"line":128,"column":37}},"93":{"start":{"line":130,"column":0},"end":{"line":130,"column":28}}},"branchMap":{"1":{"line":13,"type":"cond-expr","locations":[{"start":{"line":13,"column":49},"end":{"line":13,"column":70}},{"start":{"line":13,"column":73},"end":{"line":13,"column":84}}]},"2":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":51},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":88}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":8}},{"start":{"line":21,"column":8},"end":{"line":21,"column":8}}]},"4":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":12},"end":{"line":21,"column":18}},{"start":{"line":21,"column":22},"end":{"line":21,"column":39}}]},"5":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":43,"column":8}},{"start":{"line":43,"column":8},"end":{"line":43,"column":8}}]},"6":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":12},"end":{"line":43,"column":18}},{"start":{"line":43,"column":22},"end":{"line":43,"column":39}}]},"7":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":4},"end":{"line":90,"column":4}},{"start":{"line":90,"column":4},"end":{"line":90,"column":4}}]},"8":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":4}},{"start":{"line":92,"column":4},"end":{"line":92,"column":4}}]},"9":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":4},"end":{"line":100,"column":4}},{"start":{"line":100,"column":4},"end":{"line":100,"column":4}}]},"10":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":4},"end":{"line":108,"column":4}},{"start":{"line":108,"column":4},"end":{"line":108,"column":4}}]},"11":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":4}},{"start":{"line":115,"column":4},"end":{"line":115,"column":4}}]},"12":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":4},"end":{"line":116,"column":4}},{"start":{"line":116,"column":4},"end":{"line":116,"column":4}}]},"13":{"line":116,"type":"binary-expr","locations":[{"start":{"line":116,"column":8},"end":{"line":116,"column":14}},{"start":{"line":116,"column":18},"end":{"line":116,"column":39}}]},"14":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":4},"end":{"line":123,"column":4}},{"start":{"line":123,"column":4},"end":{"line":123,"column":4}}]},"15":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":4},"end":{"line":125,"column":4}},{"start":{"line":125,"column":4},"end":{"line":125,"column":4}}]},"16":{"line":125,"type":"binary-expr","locations":[{"start":{"line":125,"column":8},"end":{"line":125,"column":14}},{"start":{"line":125,"column":18},"end":{"line":125,"column":39}}]}},"code":["'use strict';","var typeOf = require('./typeOf');","var stringExp = /^[a-z](?:[a-z0-9_\\-]*?[a-z0-9])?$/i;","var stringQuote = '\"';","var identExp = /^[a-z](?:[a-z0-9_\\-]*?[a-z0-9])?$/i;","var identAnyExp = /^[a-z0-9](?:[a-z0-9_\\-]*?[a-z0-9])?$/i;","var intExp = /^\\d+$/;","var escapeRep = '\\\\$&';","var escapeAdd = '\\\\$&$&';","exports.singleQuoteExp = /([^'\\\\]*(?:\\\\.[^'\\\\]*)*)'/g;","exports.doubleQuoteExp = /([^\"\\\\]*(?:\\\\.[^\"\\\\]*)*)\"/g;","function getEscaper(vars) {","    var values = (typeOf.isString(vars.values) ? vars.values.split('') : vars.values);","    var matches = (typeOf.isString(vars.matches) ? vars.matches.split('') : vars.matches);","    var replacer = function (match) {","        var args = [];","        for (var _i = 1; _i < arguments.length; _i++) {","            args[_i - 1] = arguments[_i];","        }","        var i = matches.indexOf(match);","        if (i > -1 && i < values.length) {","            return '\\\\' + values[i];","        }","        return match;","    };","    var exp = new RegExp('[' + values.map(function (char) {","        return '\\\\' + char;","    }).join('') + ']', 'g');","    return function (input) {","        return input.replace(exp, replacer);","    };","}","exports.getEscaper = getEscaper;","function getMultiReplacer(vars) {","    var values = vars.values;","    var matches = vars.matches;","    var replacer = function (match) {","        var args = [];","        for (var _i = 1; _i < arguments.length; _i++) {","            args[_i - 1] = arguments[_i];","        }","        var i = matches.indexOf(match);","        if (i > -1 && i < values.length) {","            return values[i];","        }","        return match;","    };","    var exp = new RegExp(vars.exps.map(function (char) {","        return '(?:' + char + ')';","    }).join('|'), 'g');","    return function (input) {","        return input.replace(exp, replacer);","    };","}","exports.getMultiReplacer = getMultiReplacer;","exports.unprintCC = getEscaper({","    matches: '\\b\\f\\n\\r\\t\\v\\0',","    values: 'bfnrtv0'","});","exports.unprintNL = getEscaper({","    matches: '\\r\\n',","    values: 'rn'","});","exports.unprintNotNL = getEscaper({","    matches: '\\b\\f\\t\\v\\0',","    values: 'bftv0'","});","exports.unprintNLS = getMultiReplacer({","    exps: ['\\\\r\\\\n', '\\\\n', '\\\\r'],","    matches: ['\\r\\n', '\\n', '\\r'],","    values: ['\\\\r\\\\n\\r\\n', '\\\\n\\n', '\\\\r\\r']","});","function quoteSingle(input) {","    return input.replace(exports.singleQuoteExp, '$1\\\\\\'');","}","exports.quoteSingle = quoteSingle;","function quoteDouble(input) {","    return input.replace(exports.doubleQuoteExp, '$1\\\\\"');","}","exports.quoteDouble = quoteDouble;","function quoteSingleWrap(input) {","    return '\\'' + input.replace(exports.singleQuoteExp, '$1\\\\\\'') + '\\'';","}","exports.quoteSingleWrap = quoteSingleWrap;","function quoteDoubleWrap(input) {","    return '\"' + input.replace(exports.doubleQuoteExp, '$1\\\\\"') + '\"';","}","exports.quoteDoubleWrap = quoteDoubleWrap;","function escapeControl(input, reAddNewlines) {","    if (reAddNewlines === void 0) { reAddNewlines = false; }","    input = String(input);","    if (reAddNewlines) {","        return exports.unprintNLS(exports.unprintNotNL(input));","    }","    return exports.unprintCC(input);","}","exports.escapeControl = escapeControl;","function wrapQuotes(input, double) {","    input = escapeControl(input);","    if (double) {","        return quoteDoubleWrap(input);","    }","    return quoteSingleWrap(input);","}","exports.wrapQuotes = wrapQuotes;","function wrapIfComplex(input, double) {","    input = String(input);","    if (!identAnyExp.test(input)) {","        return wrapQuotes(exports.unprintCC(input), double);","    }","    return input;","}","exports.wrapIfComplex = wrapIfComplex;","function trim(value, cutoff) {","    if (cutoff === void 0) { cutoff = 60; }","    if (cutoff && value.length > cutoff) {","        return value.substr(0, cutoff) + '...';","    }","    return value;","}","exports.trim = trim;","function trimWrap(value, cutoff, double) {","    if (cutoff === void 0) { cutoff = 60; }","    value = String(value);","    if (cutoff && value.length > cutoff) {","        return wrapQuotes(value.substr(0, cutoff), double) + '...';","    }","    return wrapQuotes(value, double);","}","exports.trimWrap = trimWrap;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":3,"14":3,"15":3,"16":0,"17":0,"18":0,"20":0,"21":0,"22":0,"24":0,"26":3,"27":14,"29":3,"30":0,"33":1,"34":1,"35":1,"36":1,"37":1,"38":0,"39":0,"40":0,"42":0,"43":0,"44":0,"46":0,"48":1,"49":3,"51":1,"52":0,"55":1,"56":1,"60":1,"64":1,"68":1,"73":1,"74":0,"76":1,"77":1,"78":0,"80":1,"81":1,"82":0,"84":1,"85":1,"86":0,"88":1,"89":1,"90":0,"91":0,"92":0,"93":0,"95":0,"97":1,"98":1,"99":0,"100":0,"101":0,"103":0,"105":1,"106":1,"107":0,"108":0,"109":0,"111":0,"113":1,"114":1,"115":0,"116":0,"117":0,"119":0,"121":1,"122":1,"123":0,"124":0,"125":0,"126":0,"128":0,"130":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/context/Context.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/context/Context.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":11,"loc":{"start":{"line":11,"column":15},"end":{"line":11,"column":27}}},"2":{"name":"Context","line":12,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":42}}},"3":{"name":"(anonymous_3)","line":29,"loc":{"start":{"line":29,"column":38},"end":{"line":29,"column":53}}},"4":{"name":"(anonymous_4)","line":42,"loc":{"start":{"line":42,"column":38},"end":{"line":42,"column":50}}},"5":{"name":"(anonymous_5)","line":45,"loc":{"start":{"line":45,"column":32},"end":{"line":45,"column":51}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":54}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":31}},"10":{"start":{"line":11,"column":0},"end":{"line":59,"column":5}},"11":{"start":{"line":12,"column":4},"end":{"line":28,"column":5}},"12":{"start":{"line":13,"column":8},"end":{"line":13,"column":57}},"13":{"start":{"line":13,"column":37},"end":{"line":13,"column":55}},"14":{"start":{"line":14,"column":8},"end":{"line":14,"column":52}},"15":{"start":{"line":14,"column":34},"end":{"line":14,"column":50}},"16":{"start":{"line":15,"column":8},"end":{"line":15,"column":60}},"17":{"start":{"line":16,"column":8},"end":{"line":16,"column":49}},"18":{"start":{"line":17,"column":8},"end":{"line":17,"column":50}},"19":{"start":{"line":18,"column":8},"end":{"line":18,"column":134}},"20":{"start":{"line":19,"column":8},"end":{"line":19,"column":72}},"21":{"start":{"line":20,"column":8},"end":{"line":20,"column":66}},"22":{"start":{"line":21,"column":8},"end":{"line":21,"column":31}},"23":{"start":{"line":22,"column":8},"end":{"line":22,"column":33}},"24":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"25":{"start":{"line":24,"column":12},"end":{"line":24,"column":61}},"26":{"start":{"line":26,"column":8},"end":{"line":26,"column":54}},"27":{"start":{"line":27,"column":8},"end":{"line":27,"column":35}},"28":{"start":{"line":29,"column":4},"end":{"line":41,"column":6}},"29":{"start":{"line":30,"column":8},"end":{"line":40,"column":9}},"30":{"start":{"line":31,"column":12},"end":{"line":33,"column":13}},"31":{"start":{"line":32,"column":16},"end":{"line":32,"column":48}},"32":{"start":{"line":34,"column":12},"end":{"line":34,"column":62}},"33":{"start":{"line":37,"column":12},"end":{"line":39,"column":13}},"34":{"start":{"line":38,"column":16},"end":{"line":38,"column":54}},"35":{"start":{"line":42,"column":4},"end":{"line":44,"column":6}},"36":{"start":{"line":43,"column":8},"end":{"line":43,"column":83}},"37":{"start":{"line":45,"column":4},"end":{"line":57,"column":6}},"38":{"start":{"line":46,"column":8},"end":{"line":46,"column":52}},"39":{"start":{"line":46,"column":34},"end":{"line":46,"column":50}},"40":{"start":{"line":47,"column":8},"end":{"line":50,"column":10}},"41":{"start":{"line":51,"column":8},"end":{"line":55,"column":9}},"42":{"start":{"line":52,"column":12},"end":{"line":52,"column":36}},"43":{"start":{"line":53,"column":12},"end":{"line":53,"column":95}},"44":{"start":{"line":54,"column":12},"end":{"line":54,"column":47}},"45":{"start":{"line":56,"column":8},"end":{"line":56,"column":20}},"46":{"start":{"line":58,"column":4},"end":{"line":58,"column":19}},"47":{"start":{"line":60,"column":0},"end":{"line":60,"column":25}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":13,"column":8}},{"start":{"line":13,"column":8},"end":{"line":13,"column":8}}]},"2":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":14,"column":8}},{"start":{"line":14,"column":8},"end":{"line":14,"column":8}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":23,"column":8}},{"start":{"line":23,"column":8},"end":{"line":23,"column":8}}]},"4":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":30,"column":8}},{"start":{"line":30,"column":8},"end":{"line":30,"column":8}}]},"5":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":31,"column":12}},{"start":{"line":31,"column":12},"end":{"line":31,"column":12}}]},"6":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":12},"end":{"line":37,"column":12}},{"start":{"line":37,"column":12},"end":{"line":37,"column":12}}]},"7":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"8":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":8}},{"start":{"line":51,"column":8},"end":{"line":51,"column":8}}]}},"code":["'use strict';","var fs = require('fs');","var path = require('path');","var assertVar = require('../../xm/assertVar');","var fileIO = require('../../xm/fileIO');","var JSONPointer = require('../../xm/lib/JSONPointer');","var PackageJSON = require('../../xm/lib/PackageJSON');","var Config = require('./Config');","var Paths = require('./Paths');","var Const = require('./Const');","var Context = (function () {","    function Context(configFile, verbose) {","        if (configFile === void 0) { configFile = null; }","        if (verbose === void 0) { verbose = false; }","        assertVar(configFile, 'string', 'configFile', true);","        assertVar(verbose, 'boolean', 'verbose');","        this.packageInfo = PackageJSON.getLocal();","        this.settings = new JSONPointer(fileIO.readJSONSync(path.resolve(path.dirname(PackageJSON.find()), 'conf', 'settings.json')));","        this.stackSettings(path.resolve(Paths.getUserHome(), Const.rc));","        this.stackSettings(path.resolve(process.cwd(), Const.rc));","        this.verbose = verbose;","        this.paths = new Paths();","        if (configFile) {","            this.paths.configFile = path.resolve(configFile);","        }","        this.paths.cacheDir = Paths.getUserCacheDir();","        this.config = new Config();","    }","    Context.prototype.stackSettings = function (src) {","        if (fs.existsSync(src)) {","            if (this.verbose) {","                console.log('using rc: ' + src);","            }","            this.settings.addSource(fileIO.readJSONSync(src));","        }","        else {","            if (this.verbose) {","                console.log('cannot find rc: ' + src);","            }","        }","    };","    Context.prototype.getTypingsDir = function () {","        return this.config.resolveTypingsPath(path.dirname(this.paths.configFile));","    };","    Context.prototype.getInfo = function (details) {","        if (details === void 0) { details = false; }","        var info = {","            version: this.packageInfo.getNameVersion(),","            repo: 'https://github.com/' + this.config.repo + ' #' + this.config.ref","        };","        if (details) {","            info.paths = this.paths;","            info.typings = this.config.resolveTypingsPath(path.dirname(this.paths.configFile));","            info.config = this.config.toJSON();","        }","        return info;","    };","    return Context;","})();","module.exports = Context;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"26":0,"27":0,"29":1,"30":0,"31":0,"32":0,"34":0,"37":0,"38":0,"42":1,"43":0,"45":1,"46":0,"47":0,"51":0,"52":0,"53":0,"54":0,"56":0,"58":1,"60":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/fileIO.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/fileIO.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":1,"32":0,"33":1,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":1,"45":0,"46":0,"47":1,"48":1,"49":0,"50":0,"51":0,"52":1,"53":1,"54":0,"55":1,"56":1,"57":0,"58":0,"59":0,"60":1,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":1,"97":1,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":1,"106":1,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":1,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":1,"123":1,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":1,"131":1,"132":0,"133":1,"134":1,"135":0,"136":0,"137":0,"138":0,"139":0,"140":1,"141":1,"142":1,"143":0,"144":0,"145":0,"146":0,"147":1,"148":1,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":1,"164":1,"165":0,"166":0,"167":0,"168":1,"169":1,"170":0,"171":0,"172":0,"173":0,"174":0,"175":1,"176":1,"177":0,"178":0,"179":0,"180":1,"181":1,"182":0,"183":0,"184":0,"185":1,"186":1,"187":0,"188":0,"189":0,"190":0,"191":0,"192":1,"193":1,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":1,"202":1,"203":0,"204":0,"205":0,"206":0,"207":0,"208":1,"209":1,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":1,"218":1,"219":0,"220":0,"221":0,"222":0,"223":0,"224":1,"225":1,"226":0,"227":0,"228":0,"229":0,"230":0,"231":1,"232":1,"233":0,"234":1,"235":0,"236":0,"237":0,"238":0,"239":0,"240":1,"241":1,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":1,"260":1,"261":0,"262":0,"263":0,"264":0,"265":0,"266":1,"267":1,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0},"fnMap":{"1":{"name":"distributeDir","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":50}}},"2":{"name":"parseJson","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":25}}},"3":{"name":"readJSONSync","line":40,"loc":{"start":{"line":40,"column":0},"end":{"line":40,"column":27}}},"4":{"name":"readJSONCB","line":44,"loc":{"start":{"line":44,"column":0},"end":{"line":44,"column":35}}},"5":{"name":"(anonymous_5)","line":45,"loc":{"start":{"line":45,"column":57},"end":{"line":45,"column":78}}},"6":{"name":"readJSON","line":60,"loc":{"start":{"line":60,"column":0},"end":{"line":60,"column":23}}},"7":{"name":"(anonymous_7)","line":61,"loc":{"start":{"line":61,"column":48},"end":{"line":61,"column":64}}},"8":{"name":"writeJSONSync","line":66,"loc":{"start":{"line":66,"column":0},"end":{"line":66,"column":35}}},"9":{"name":"writeJSON","line":72,"loc":{"start":{"line":72,"column":0},"end":{"line":72,"column":35}}},"10":{"name":"readFileSync","line":76,"loc":{"start":{"line":76,"column":0},"end":{"line":76,"column":38}}},"11":{"name":"writeFileSync","line":81,"loc":{"start":{"line":81,"column":0},"end":{"line":81,"column":45}}},"12":{"name":"mkdirCheckSync","line":88,"loc":{"start":{"line":88,"column":0},"end":{"line":88,"column":39}}},"13":{"name":"mkdirCheck","line":110,"loc":{"start":{"line":110,"column":0},"end":{"line":110,"column":35}}},"14":{"name":"(anonymous_14)","line":113,"loc":{"start":{"line":113,"column":28},"end":{"line":113,"column":46}}},"15":{"name":"(anonymous_15)","line":115,"loc":{"start":{"line":115,"column":41},"end":{"line":115,"column":58}}},"16":{"name":"canWriteFile","line":133,"loc":{"start":{"line":133,"column":0},"end":{"line":133,"column":45}}},"17":{"name":"(anonymous_17)","line":134,"loc":{"start":{"line":134,"column":35},"end":{"line":134,"column":53}}},"18":{"name":"(anonymous_18)","line":138,"loc":{"start":{"line":138,"column":39},"end":{"line":138,"column":57}}},"19":{"name":"removeFile","line":147,"loc":{"start":{"line":147,"column":0},"end":{"line":147,"column":28}}},"20":{"name":"(anonymous_20)","line":148,"loc":{"start":{"line":148,"column":31},"end":{"line":148,"column":49}}},"21":{"name":"(anonymous_21)","line":152,"loc":{"start":{"line":152,"column":35},"end":{"line":152,"column":53}}},"22":{"name":"removeAllFilesFromDir","line":161,"loc":{"start":{"line":161,"column":0},"end":{"line":161,"column":39}}},"23":{"name":"(anonymous_23)","line":166,"loc":{"start":{"line":166,"column":18},"end":{"line":166,"column":34}}},"24":{"name":"getDirNameList","line":173,"loc":{"start":{"line":173,"column":0},"end":{"line":173,"column":32}}},"25":{"name":"(anonymous_25)","line":176,"loc":{"start":{"line":176,"column":39},"end":{"line":176,"column":62}}},"26":{"name":"removeDirSync","line":185,"loc":{"start":{"line":185,"column":0},"end":{"line":185,"column":31}}},"27":{"name":"rimraf","line":189,"loc":{"start":{"line":189,"column":0},"end":{"line":189,"column":24}}},"28":{"name":"(anonymous_28)","line":190,"loc":{"start":{"line":190,"column":23},"end":{"line":190,"column":50}}},"29":{"name":"(anonymous_29)","line":191,"loc":{"start":{"line":191,"column":26},"end":{"line":191,"column":41}}},"30":{"name":"touchFile","line":203,"loc":{"start":{"line":203,"column":0},"end":{"line":203,"column":38}}},"31":{"name":"(anonymous_31)","line":204,"loc":{"start":{"line":204,"column":26},"end":{"line":204,"column":42}}},"32":{"name":"findup","line":211,"loc":{"start":{"line":211,"column":0},"end":{"line":211,"column":27}}},"33":{"name":"(anonymous_33)","line":212,"loc":{"start":{"line":212,"column":27},"end":{"line":212,"column":39}}},"34":{"name":"(anonymous_34)","line":220,"loc":{"start":{"line":220,"column":33},"end":{"line":220,"column":51}}},"35":{"name":"(anonymous_35)","line":228,"loc":{"start":{"line":228,"column":56},"end":{"line":228,"column":72}}},"36":{"name":"exists","line":235,"loc":{"start":{"line":235,"column":0},"end":{"line":235,"column":26}}},"37":{"name":"(anonymous_37)","line":236,"loc":{"start":{"line":236,"column":23},"end":{"line":236,"column":42}}},"38":{"name":"(anonymous_38)","line":238,"loc":{"start":{"line":238,"column":13},"end":{"line":238,"column":25}}},"39":{"name":"stat","line":243,"loc":{"start":{"line":243,"column":0},"end":{"line":243,"column":24}}},"40":{"name":"(anonymous_40)","line":244,"loc":{"start":{"line":244,"column":23},"end":{"line":244,"column":50}}},"41":{"name":"(anonymous_41)","line":245,"loc":{"start":{"line":245,"column":26},"end":{"line":245,"column":47}}},"42":{"name":"isFile","line":256,"loc":{"start":{"line":256,"column":0},"end":{"line":256,"column":26}}},"43":{"name":"(anonymous_43)","line":257,"loc":{"start":{"line":257,"column":31},"end":{"line":257,"column":47}}},"44":{"name":"(anonymous_44)","line":259,"loc":{"start":{"line":259,"column":13},"end":{"line":259,"column":26}}},"45":{"name":"isDirectory","line":264,"loc":{"start":{"line":264,"column":0},"end":{"line":264,"column":31}}},"46":{"name":"(anonymous_46)","line":265,"loc":{"start":{"line":265,"column":31},"end":{"line":265,"column":47}}},"47":{"name":"(anonymous_47)","line":267,"loc":{"start":{"line":267,"column":13},"end":{"line":267,"column":26}}},"48":{"name":"read","line":272,"loc":{"start":{"line":272,"column":0},"end":{"line":272,"column":30}}},"49":{"name":"(anonymous_49)","line":273,"loc":{"start":{"line":273,"column":23},"end":{"line":273,"column":50}}},"50":{"name":"(anonymous_50)","line":274,"loc":{"start":{"line":274,"column":36},"end":{"line":274,"column":60}}},"51":{"name":"write","line":285,"loc":{"start":{"line":285,"column":0},"end":{"line":285,"column":40}}},"52":{"name":"(anonymous_52)","line":287,"loc":{"start":{"line":287,"column":57},"end":{"line":287,"column":69}}},"53":{"name":"(anonymous_53)","line":288,"loc":{"start":{"line":288,"column":27},"end":{"line":288,"column":54}}},"54":{"name":"(anonymous_54)","line":289,"loc":{"start":{"line":289,"column":50},"end":{"line":289,"column":65}}},"55":{"name":"remove","line":301,"loc":{"start":{"line":301,"column":0},"end":{"line":301,"column":26}}},"56":{"name":"(anonymous_56)","line":302,"loc":{"start":{"line":302,"column":23},"end":{"line":302,"column":50}}},"57":{"name":"(anonymous_57)","line":303,"loc":{"start":{"line":303,"column":28},"end":{"line":303,"column":43}}},"58":{"name":"syncDeleteFolderRecursive","line":314,"loc":{"start":{"line":314,"column":0},"end":{"line":314,"column":41}}},"59":{"name":"(anonymous_59)","line":316,"loc":{"start":{"line":316,"column":37},"end":{"line":316,"column":60}}},"60":{"name":"chmod","line":329,"loc":{"start":{"line":329,"column":0},"end":{"line":329,"column":31}}},"61":{"name":"(anonymous_61)","line":330,"loc":{"start":{"line":330,"column":23},"end":{"line":330,"column":50}}},"62":{"name":"(anonymous_62)","line":331,"loc":{"start":{"line":331,"column":33},"end":{"line":331,"column":48}}},"63":{"name":"glob","line":342,"loc":{"start":{"line":342,"column":0},"end":{"line":342,"column":29}}},"64":{"name":"(anonymous_64)","line":343,"loc":{"start":{"line":343,"column":23},"end":{"line":343,"column":50}}},"65":{"name":"(anonymous_65)","line":344,"loc":{"start":{"line":344,"column":39},"end":{"line":344,"column":61}}},"66":{"name":"concat","line":355,"loc":{"start":{"line":355,"column":0},"end":{"line":355,"column":24}}},"67":{"name":"readdir","line":359,"loc":{"start":{"line":359,"column":0},"end":{"line":359,"column":27}}},"68":{"name":"(anonymous_68)","line":360,"loc":{"start":{"line":360,"column":23},"end":{"line":360,"column":50}}},"69":{"name":"(anonymous_69)","line":361,"loc":{"start":{"line":361,"column":29},"end":{"line":361,"column":52}}},"70":{"name":"listTree","line":372,"loc":{"start":{"line":372,"column":0},"end":{"line":372,"column":35}}},"71":{"name":"(anonymous_71)","line":377,"loc":{"start":{"line":377,"column":21},"end":{"line":377,"column":47}}},"72":{"name":"(anonymous_72)","line":380,"loc":{"start":{"line":380,"column":31},"end":{"line":380,"column":47}}},"73":{"name":"(anonymous_73)","line":387,"loc":{"start":{"line":387,"column":42},"end":{"line":387,"column":62}}},"74":{"name":"(anonymous_74)","line":388,"loc":{"start":{"line":388,"column":53},"end":{"line":388,"column":70}}},"75":{"name":"(anonymous_75)","line":397,"loc":{"start":{"line":397,"column":13},"end":{"line":397,"column":31}}},"76":{"name":"copyFileSync","line":402,"loc":{"start":{"line":402,"column":0},"end":{"line":402,"column":38}}},"77":{"name":"copyFolderRecursiveSync","line":412,"loc":{"start":{"line":412,"column":0},"end":{"line":412,"column":65}}},"78":{"name":"(anonymous_78)","line":426,"loc":{"start":{"line":426,"column":22},"end":{"line":426,"column":38}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":30}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":34}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":31}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":34}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"9":{"start":{"line":10,"column":0},"end":{"line":25,"column":1}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":40}},"11":{"start":{"line":11,"column":28},"end":{"line":11,"column":38}},"12":{"start":{"line":12,"column":4},"end":{"line":12,"column":54}},"13":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"14":{"start":{"line":14,"column":8},"end":{"line":14,"column":20}},"15":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":20}},"17":{"start":{"line":19,"column":4},"end":{"line":19,"column":21}},"18":{"start":{"line":20,"column":4},"end":{"line":20,"column":71}},"19":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"20":{"start":{"line":22,"column":8},"end":{"line":22,"column":40}},"21":{"start":{"line":24,"column":4},"end":{"line":24,"column":38}},"22":{"start":{"line":26,"column":0},"end":{"line":26,"column":38}},"23":{"start":{"line":27,"column":0},"end":{"line":38,"column":1}},"24":{"start":{"line":28,"column":4},"end":{"line":28,"column":13}},"25":{"start":{"line":29,"column":4},"end":{"line":36,"column":5}},"26":{"start":{"line":30,"column":8},"end":{"line":30,"column":32}},"27":{"start":{"line":33,"column":8},"end":{"line":34,"column":9}},"28":{"start":{"line":35,"column":8},"end":{"line":35,"column":20}},"29":{"start":{"line":37,"column":4},"end":{"line":37,"column":16}},"30":{"start":{"line":39,"column":0},"end":{"line":39,"column":30}},"31":{"start":{"line":40,"column":0},"end":{"line":42,"column":1}},"32":{"start":{"line":41,"column":4},"end":{"line":41,"column":73}},"33":{"start":{"line":43,"column":0},"end":{"line":43,"column":36}},"34":{"start":{"line":44,"column":0},"end":{"line":58,"column":1}},"35":{"start":{"line":45,"column":4},"end":{"line":57,"column":7}},"36":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"37":{"start":{"line":47,"column":12},"end":{"line":47,"column":39}},"38":{"start":{"line":49,"column":8},"end":{"line":49,"column":24}},"39":{"start":{"line":50,"column":8},"end":{"line":55,"column":9}},"40":{"start":{"line":51,"column":12},"end":{"line":51,"column":35}},"41":{"start":{"line":54,"column":12},"end":{"line":54,"column":39}},"42":{"start":{"line":56,"column":8},"end":{"line":56,"column":36}},"43":{"start":{"line":59,"column":0},"end":{"line":59,"column":32}},"44":{"start":{"line":60,"column":0},"end":{"line":64,"column":1}},"45":{"start":{"line":61,"column":4},"end":{"line":63,"column":7}},"46":{"start":{"line":62,"column":8},"end":{"line":62,"column":31}},"47":{"start":{"line":65,"column":0},"end":{"line":65,"column":28}},"48":{"start":{"line":66,"column":0},"end":{"line":70,"column":1}},"49":{"start":{"line":67,"column":4},"end":{"line":67,"column":30}},"50":{"start":{"line":68,"column":4},"end":{"line":68,"column":39}},"51":{"start":{"line":69,"column":4},"end":{"line":69,"column":80}},"52":{"start":{"line":71,"column":0},"end":{"line":71,"column":38}},"53":{"start":{"line":72,"column":0},"end":{"line":74,"column":1}},"54":{"start":{"line":73,"column":4},"end":{"line":73,"column":80}},"55":{"start":{"line":75,"column":0},"end":{"line":75,"column":30}},"56":{"start":{"line":76,"column":0},"end":{"line":79,"column":1}},"57":{"start":{"line":77,"column":4},"end":{"line":77,"column":51}},"58":{"start":{"line":77,"column":31},"end":{"line":77,"column":49}},"59":{"start":{"line":78,"column":4},"end":{"line":78,"column":57}},"60":{"start":{"line":80,"column":0},"end":{"line":80,"column":36}},"61":{"start":{"line":81,"column":0},"end":{"line":86,"column":1}},"62":{"start":{"line":82,"column":4},"end":{"line":82,"column":51}},"63":{"start":{"line":82,"column":31},"end":{"line":82,"column":49}},"64":{"start":{"line":83,"column":4},"end":{"line":83,"column":30}},"65":{"start":{"line":84,"column":4},"end":{"line":84,"column":45}},"66":{"start":{"line":85,"column":4},"end":{"line":85,"column":57}},"67":{"start":{"line":87,"column":0},"end":{"line":87,"column":38}},"68":{"start":{"line":88,"column":0},"end":{"line":108,"column":1}},"69":{"start":{"line":89,"column":4},"end":{"line":89,"column":50}},"70":{"start":{"line":89,"column":31},"end":{"line":89,"column":48}},"71":{"start":{"line":90,"column":4},"end":{"line":90,"column":28}},"72":{"start":{"line":91,"column":4},"end":{"line":106,"column":5}},"73":{"start":{"line":92,"column":8},"end":{"line":94,"column":9}},"74":{"start":{"line":93,"column":12},"end":{"line":93,"column":73}},"75":{"start":{"line":95,"column":8},"end":{"line":97,"column":9}},"76":{"start":{"line":96,"column":12},"end":{"line":96,"column":37}},"77":{"start":{"line":100,"column":8},"end":{"line":105,"column":9}},"78":{"start":{"line":101,"column":12},"end":{"line":101,"column":36}},"79":{"start":{"line":104,"column":12},"end":{"line":104,"column":29}},"80":{"start":{"line":107,"column":4},"end":{"line":107,"column":15}},"81":{"start":{"line":109,"column":0},"end":{"line":109,"column":40}},"82":{"start":{"line":110,"column":0},"end":{"line":131,"column":1}},"83":{"start":{"line":111,"column":4},"end":{"line":111,"column":50}},"84":{"start":{"line":111,"column":31},"end":{"line":111,"column":48}},"85":{"start":{"line":112,"column":4},"end":{"line":112,"column":28}},"86":{"start":{"line":113,"column":4},"end":{"line":130,"column":19}},"87":{"start":{"line":114,"column":8},"end":{"line":129,"column":9}},"88":{"start":{"line":115,"column":12},"end":{"line":122,"column":15}},"89":{"start":{"line":116,"column":16},"end":{"line":118,"column":17}},"90":{"start":{"line":117,"column":20},"end":{"line":117,"column":83}},"91":{"start":{"line":119,"column":16},"end":{"line":121,"column":17}},"92":{"start":{"line":120,"column":20},"end":{"line":120,"column":45}},"93":{"start":{"line":124,"column":13},"end":{"line":129,"column":9}},"94":{"start":{"line":125,"column":12},"end":{"line":125,"column":39}},"95":{"start":{"line":128,"column":12},"end":{"line":128,"column":32}},"96":{"start":{"line":132,"column":0},"end":{"line":132,"column":32}},"97":{"start":{"line":133,"column":0},"end":{"line":145,"column":1}},"98":{"start":{"line":134,"column":4},"end":{"line":144,"column":7}},"99":{"start":{"line":135,"column":8},"end":{"line":137,"column":9}},"100":{"start":{"line":136,"column":12},"end":{"line":136,"column":41}},"101":{"start":{"line":138,"column":8},"end":{"line":143,"column":11}},"102":{"start":{"line":139,"column":12},"end":{"line":141,"column":13}},"103":{"start":{"line":140,"column":16},"end":{"line":140,"column":33}},"104":{"start":{"line":142,"column":12},"end":{"line":142,"column":25}},"105":{"start":{"line":146,"column":0},"end":{"line":146,"column":36}},"106":{"start":{"line":147,"column":0},"end":{"line":159,"column":1}},"107":{"start":{"line":148,"column":4},"end":{"line":158,"column":7}},"108":{"start":{"line":149,"column":8},"end":{"line":151,"column":9}},"109":{"start":{"line":150,"column":12},"end":{"line":150,"column":19}},"110":{"start":{"line":152,"column":8},"end":{"line":157,"column":11}},"111":{"start":{"line":153,"column":12},"end":{"line":155,"column":13}},"112":{"start":{"line":154,"column":16},"end":{"line":154,"column":56}},"113":{"start":{"line":156,"column":12},"end":{"line":156,"column":34}},"114":{"start":{"line":160,"column":0},"end":{"line":160,"column":32}},"115":{"start":{"line":161,"column":0},"end":{"line":171,"column":1}},"116":{"start":{"line":162,"column":4},"end":{"line":164,"column":5}},"117":{"start":{"line":163,"column":8},"end":{"line":163,"column":15}},"118":{"start":{"line":165,"column":4},"end":{"line":165,"column":39}},"119":{"start":{"line":166,"column":4},"end":{"line":170,"column":7}},"120":{"start":{"line":167,"column":8},"end":{"line":169,"column":9}},"121":{"start":{"line":168,"column":12},"end":{"line":168,"column":51}},"122":{"start":{"line":172,"column":0},"end":{"line":172,"column":54}},"123":{"start":{"line":173,"column":0},"end":{"line":183,"column":1}},"124":{"start":{"line":174,"column":4},"end":{"line":174,"column":18}},"125":{"start":{"line":175,"column":4},"end":{"line":181,"column":5}},"126":{"start":{"line":176,"column":8},"end":{"line":180,"column":11}},"127":{"start":{"line":177,"column":12},"end":{"line":179,"column":13}},"128":{"start":{"line":178,"column":16},"end":{"line":178,"column":32}},"129":{"start":{"line":182,"column":4},"end":{"line":182,"column":16}},"130":{"start":{"line":184,"column":0},"end":{"line":184,"column":40}},"131":{"start":{"line":185,"column":0},"end":{"line":187,"column":1}},"132":{"start":{"line":186,"column":4},"end":{"line":186,"column":38}},"133":{"start":{"line":188,"column":0},"end":{"line":188,"column":38}},"134":{"start":{"line":189,"column":0},"end":{"line":200,"column":1}},"135":{"start":{"line":190,"column":4},"end":{"line":199,"column":7}},"136":{"start":{"line":191,"column":8},"end":{"line":198,"column":11}},"137":{"start":{"line":192,"column":12},"end":{"line":197,"column":13}},"138":{"start":{"line":193,"column":16},"end":{"line":193,"column":28}},"139":{"start":{"line":196,"column":16},"end":{"line":196,"column":35}},"140":{"start":{"line":201,"column":0},"end":{"line":201,"column":24}},"141":{"start":{"line":202,"column":0},"end":{"line":202,"column":42}},"142":{"start":{"line":203,"column":0},"end":{"line":209,"column":1}},"143":{"start":{"line":204,"column":4},"end":{"line":208,"column":16}},"144":{"start":{"line":205,"column":8},"end":{"line":205,"column":38}},"145":{"start":{"line":206,"column":8},"end":{"line":206,"column":38}},"146":{"start":{"line":207,"column":8},"end":{"line":207,"column":41}},"147":{"start":{"line":210,"column":0},"end":{"line":210,"column":30}},"148":{"start":{"line":211,"column":0},"end":{"line":233,"column":1}},"149":{"start":{"line":212,"column":4},"end":{"line":232,"column":7}},"150":{"start":{"line":213,"column":8},"end":{"line":218,"column":9}},"151":{"start":{"line":214,"column":12},"end":{"line":214,"column":74}},"152":{"start":{"line":216,"column":13},"end":{"line":218,"column":9}},"153":{"start":{"line":217,"column":12},"end":{"line":217,"column":83}},"154":{"start":{"line":219,"column":8},"end":{"line":219,"column":40}},"155":{"start":{"line":220,"column":8},"end":{"line":231,"column":11}},"156":{"start":{"line":221,"column":12},"end":{"line":223,"column":13}},"157":{"start":{"line":222,"column":16},"end":{"line":222,"column":45}},"158":{"start":{"line":224,"column":12},"end":{"line":224,"column":44}},"159":{"start":{"line":225,"column":12},"end":{"line":227,"column":13}},"160":{"start":{"line":226,"column":16},"end":{"line":226,"column":60}},"161":{"start":{"line":228,"column":12},"end":{"line":230,"column":15}},"162":{"start":{"line":229,"column":16},"end":{"line":229,"column":28}},"163":{"start":{"line":234,"column":0},"end":{"line":234,"column":24}},"164":{"start":{"line":235,"column":0},"end":{"line":241,"column":1}},"165":{"start":{"line":236,"column":4},"end":{"line":240,"column":7}},"166":{"start":{"line":237,"column":8},"end":{"line":237,"column":37}},"167":{"start":{"line":239,"column":8},"end":{"line":239,"column":21}},"168":{"start":{"line":242,"column":0},"end":{"line":242,"column":24}},"169":{"start":{"line":243,"column":0},"end":{"line":254,"column":1}},"170":{"start":{"line":244,"column":4},"end":{"line":253,"column":7}},"171":{"start":{"line":245,"column":8},"end":{"line":252,"column":11}},"172":{"start":{"line":246,"column":12},"end":{"line":251,"column":13}},"173":{"start":{"line":247,"column":16},"end":{"line":247,"column":28}},"174":{"start":{"line":250,"column":16},"end":{"line":250,"column":30}},"175":{"start":{"line":255,"column":0},"end":{"line":255,"column":20}},"176":{"start":{"line":256,"column":0},"end":{"line":262,"column":1}},"177":{"start":{"line":257,"column":4},"end":{"line":261,"column":7}},"178":{"start":{"line":258,"column":8},"end":{"line":258,"column":29}},"179":{"start":{"line":260,"column":8},"end":{"line":260,"column":21}},"180":{"start":{"line":263,"column":0},"end":{"line":263,"column":24}},"181":{"start":{"line":264,"column":0},"end":{"line":270,"column":1}},"182":{"start":{"line":265,"column":4},"end":{"line":269,"column":7}},"183":{"start":{"line":266,"column":8},"end":{"line":266,"column":34}},"184":{"start":{"line":268,"column":8},"end":{"line":268,"column":21}},"185":{"start":{"line":271,"column":0},"end":{"line":271,"column":34}},"186":{"start":{"line":272,"column":0},"end":{"line":283,"column":1}},"187":{"start":{"line":273,"column":4},"end":{"line":282,"column":7}},"188":{"start":{"line":274,"column":8},"end":{"line":281,"column":11}},"189":{"start":{"line":275,"column":12},"end":{"line":280,"column":13}},"190":{"start":{"line":276,"column":16},"end":{"line":276,"column":28}},"191":{"start":{"line":279,"column":16},"end":{"line":279,"column":33}},"192":{"start":{"line":284,"column":0},"end":{"line":284,"column":20}},"193":{"start":{"line":285,"column":0},"end":{"line":299,"column":1}},"194":{"start":{"line":286,"column":4},"end":{"line":286,"column":38}},"195":{"start":{"line":287,"column":4},"end":{"line":298,"column":7}},"196":{"start":{"line":288,"column":8},"end":{"line":297,"column":11}},"197":{"start":{"line":289,"column":12},"end":{"line":296,"column":15}},"198":{"start":{"line":290,"column":16},"end":{"line":295,"column":17}},"199":{"start":{"line":291,"column":20},"end":{"line":291,"column":32}},"200":{"start":{"line":294,"column":20},"end":{"line":294,"column":39}},"201":{"start":{"line":300,"column":0},"end":{"line":300,"column":22}},"202":{"start":{"line":301,"column":0},"end":{"line":312,"column":1}},"203":{"start":{"line":302,"column":4},"end":{"line":311,"column":7}},"204":{"start":{"line":303,"column":8},"end":{"line":310,"column":11}},"205":{"start":{"line":304,"column":12},"end":{"line":309,"column":13}},"206":{"start":{"line":305,"column":16},"end":{"line":305,"column":28}},"207":{"start":{"line":308,"column":16},"end":{"line":308,"column":35}},"208":{"start":{"line":313,"column":0},"end":{"line":313,"column":24}},"209":{"start":{"line":314,"column":0},"end":{"line":327,"column":1}},"210":{"start":{"line":315,"column":4},"end":{"line":326,"column":5}},"211":{"start":{"line":316,"column":8},"end":{"line":324,"column":11}},"212":{"start":{"line":317,"column":12},"end":{"line":317,"column":44}},"213":{"start":{"line":318,"column":12},"end":{"line":323,"column":13}},"214":{"start":{"line":319,"column":16},"end":{"line":319,"column":51}},"215":{"start":{"line":322,"column":16},"end":{"line":322,"column":39}},"216":{"start":{"line":325,"column":8},"end":{"line":325,"column":27}},"217":{"start":{"line":328,"column":0},"end":{"line":328,"column":62}},"218":{"start":{"line":329,"column":0},"end":{"line":340,"column":1}},"219":{"start":{"line":330,"column":4},"end":{"line":339,"column":7}},"220":{"start":{"line":331,"column":8},"end":{"line":338,"column":11}},"221":{"start":{"line":332,"column":12},"end":{"line":337,"column":13}},"222":{"start":{"line":333,"column":16},"end":{"line":333,"column":28}},"223":{"start":{"line":336,"column":16},"end":{"line":336,"column":35}},"224":{"start":{"line":341,"column":0},"end":{"line":341,"column":22}},"225":{"start":{"line":342,"column":0},"end":{"line":353,"column":1}},"226":{"start":{"line":343,"column":4},"end":{"line":352,"column":7}},"227":{"start":{"line":344,"column":8},"end":{"line":351,"column":11}},"228":{"start":{"line":345,"column":12},"end":{"line":350,"column":13}},"229":{"start":{"line":346,"column":16},"end":{"line":346,"column":28}},"230":{"start":{"line":349,"column":16},"end":{"line":349,"column":31}},"231":{"start":{"line":354,"column":0},"end":{"line":354,"column":20}},"232":{"start":{"line":355,"column":0},"end":{"line":357,"column":1}},"233":{"start":{"line":356,"column":4},"end":{"line":356,"column":52}},"234":{"start":{"line":359,"column":0},"end":{"line":370,"column":1}},"235":{"start":{"line":360,"column":4},"end":{"line":369,"column":7}},"236":{"start":{"line":361,"column":8},"end":{"line":368,"column":11}},"237":{"start":{"line":362,"column":12},"end":{"line":367,"column":13}},"238":{"start":{"line":363,"column":16},"end":{"line":363,"column":89}},"239":{"start":{"line":366,"column":16},"end":{"line":366,"column":30}},"240":{"start":{"line":371,"column":0},"end":{"line":371,"column":26}},"241":{"start":{"line":372,"column":0},"end":{"line":400,"column":1}},"242":{"start":{"line":373,"column":4},"end":{"line":373,"column":38}},"243":{"start":{"line":374,"column":4},"end":{"line":376,"column":5}},"244":{"start":{"line":375,"column":8},"end":{"line":375,"column":23}},"245":{"start":{"line":377,"column":4},"end":{"line":379,"column":6}},"246":{"start":{"line":378,"column":8},"end":{"line":378,"column":20}},"247":{"start":{"line":380,"column":4},"end":{"line":399,"column":38}},"248":{"start":{"line":381,"column":8},"end":{"line":381,"column":23}},"249":{"start":{"line":382,"column":8},"end":{"line":382,"column":44}},"250":{"start":{"line":383,"column":8},"end":{"line":385,"column":9}},"251":{"start":{"line":384,"column":12},"end":{"line":384,"column":35}},"252":{"start":{"line":386,"column":8},"end":{"line":396,"column":9}},"253":{"start":{"line":387,"column":12},"end":{"line":392,"column":15}},"254":{"start":{"line":388,"column":16},"end":{"line":390,"column":20}},"255":{"start":{"line":389,"column":20},"end":{"line":389,"column":71}},"256":{"start":{"line":391,"column":16},"end":{"line":391,"column":29}},"257":{"start":{"line":395,"column":12},"end":{"line":395,"column":42}},"258":{"start":{"line":398,"column":8},"end":{"line":398,"column":18}},"259":{"start":{"line":401,"column":0},"end":{"line":401,"column":28}},"260":{"start":{"line":402,"column":0},"end":{"line":410,"column":1}},"261":{"start":{"line":403,"column":4},"end":{"line":403,"column":28}},"262":{"start":{"line":404,"column":4},"end":{"line":408,"column":5}},"263":{"start":{"line":405,"column":8},"end":{"line":407,"column":9}},"264":{"start":{"line":406,"column":12},"end":{"line":406,"column":66}},"265":{"start":{"line":409,"column":4},"end":{"line":409,"column":71}},"266":{"start":{"line":411,"column":0},"end":{"line":411,"column":36}},"267":{"start":{"line":412,"column":0},"end":{"line":436,"column":1}},"268":{"start":{"line":413,"column":4},"end":{"line":413,"column":19}},"269":{"start":{"line":414,"column":4},"end":{"line":414,"column":26}},"270":{"start":{"line":415,"column":4},"end":{"line":420,"column":5}},"271":{"start":{"line":416,"column":8},"end":{"line":416,"column":50}},"272":{"start":{"line":419,"column":8},"end":{"line":419,"column":64}},"273":{"start":{"line":421,"column":4},"end":{"line":423,"column":5}},"274":{"start":{"line":422,"column":8},"end":{"line":422,"column":35}},"275":{"start":{"line":424,"column":4},"end":{"line":435,"column":5}},"276":{"start":{"line":425,"column":8},"end":{"line":425,"column":39}},"277":{"start":{"line":426,"column":8},"end":{"line":434,"column":11}},"278":{"start":{"line":427,"column":12},"end":{"line":427,"column":52}},"279":{"start":{"line":428,"column":12},"end":{"line":433,"column":13}},"280":{"start":{"line":429,"column":16},"end":{"line":429,"column":65}},"281":{"start":{"line":432,"column":16},"end":{"line":432,"column":54}},"282":{"start":{"line":437,"column":0},"end":{"line":437,"column":58}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"3":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":4}},{"start":{"line":16,"column":4},"end":{"line":16,"column":4}}]},"4":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":33,"column":8}},{"start":{"line":33,"column":8},"end":{"line":33,"column":8}}]},"5":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"6":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":12},"end":{"line":46,"column":15}},{"start":{"line":46,"column":19},"end":{"line":46,"column":43}}]},"7":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":77,"column":4}},{"start":{"line":77,"column":4},"end":{"line":77,"column":4}}]},"8":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":4}},{"start":{"line":82,"column":4},"end":{"line":82,"column":4}}]},"9":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":4},"end":{"line":89,"column":4}},{"start":{"line":89,"column":4},"end":{"line":89,"column":4}}]},"10":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]},"11":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":8},"end":{"line":92,"column":8}},{"start":{"line":92,"column":8},"end":{"line":92,"column":8}}]},"12":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":8},"end":{"line":95,"column":8}},{"start":{"line":95,"column":8},"end":{"line":95,"column":8}}]},"13":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":8}},{"start":{"line":100,"column":8},"end":{"line":100,"column":8}}]},"14":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":4},"end":{"line":111,"column":4}},{"start":{"line":111,"column":4},"end":{"line":111,"column":4}}]},"15":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"16":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":16},"end":{"line":116,"column":16}},{"start":{"line":116,"column":16},"end":{"line":116,"column":16}}]},"17":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":16},"end":{"line":119,"column":16}},{"start":{"line":119,"column":16},"end":{"line":119,"column":16}}]},"18":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":13},"end":{"line":124,"column":13}},{"start":{"line":124,"column":13},"end":{"line":124,"column":13}}]},"19":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":8},"end":{"line":135,"column":8}},{"start":{"line":135,"column":8},"end":{"line":135,"column":8}}]},"20":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":12},"end":{"line":139,"column":12}},{"start":{"line":139,"column":12},"end":{"line":139,"column":12}}]},"21":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":8},"end":{"line":149,"column":8}},{"start":{"line":149,"column":8},"end":{"line":149,"column":8}}]},"22":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":12},"end":{"line":153,"column":12}},{"start":{"line":153,"column":12},"end":{"line":153,"column":12}}]},"23":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":4},"end":{"line":162,"column":4}},{"start":{"line":162,"column":4},"end":{"line":162,"column":4}}]},"24":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":8},"end":{"line":167,"column":8}},{"start":{"line":167,"column":8},"end":{"line":167,"column":8}}]},"25":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":4},"end":{"line":175,"column":4}},{"start":{"line":175,"column":4},"end":{"line":175,"column":4}}]},"26":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":12},"end":{"line":177,"column":12}},{"start":{"line":177,"column":12},"end":{"line":177,"column":12}}]},"27":{"line":192,"type":"if","locations":[{"start":{"line":192,"column":12},"end":{"line":192,"column":12}},{"start":{"line":192,"column":12},"end":{"line":192,"column":12}}]},"28":{"line":205,"type":"binary-expr","locations":[{"start":{"line":205,"column":17},"end":{"line":205,"column":22}},{"start":{"line":205,"column":26},"end":{"line":205,"column":36}}]},"29":{"line":206,"type":"binary-expr","locations":[{"start":{"line":206,"column":17},"end":{"line":206,"column":22}},{"start":{"line":206,"column":26},"end":{"line":206,"column":36}}]},"30":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":8},"end":{"line":213,"column":8}},{"start":{"line":213,"column":8},"end":{"line":213,"column":8}}]},"31":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":13},"end":{"line":216,"column":13}},{"start":{"line":216,"column":13},"end":{"line":216,"column":13}}]},"32":{"line":216,"type":"binary-expr","locations":[{"start":{"line":216,"column":17},"end":{"line":216,"column":21}},{"start":{"line":216,"column":25},"end":{"line":216,"column":36}}]},"33":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":12},"end":{"line":221,"column":12}},{"start":{"line":221,"column":12},"end":{"line":221,"column":12}}]},"34":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":12},"end":{"line":225,"column":12}},{"start":{"line":225,"column":12},"end":{"line":225,"column":12}}]},"35":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":12},"end":{"line":246,"column":12}},{"start":{"line":246,"column":12},"end":{"line":246,"column":12}}]},"36":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":12},"end":{"line":275,"column":12}},{"start":{"line":275,"column":12},"end":{"line":275,"column":12}}]},"37":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":16},"end":{"line":290,"column":16}},{"start":{"line":290,"column":16},"end":{"line":290,"column":16}}]},"38":{"line":304,"type":"if","locations":[{"start":{"line":304,"column":12},"end":{"line":304,"column":12}},{"start":{"line":304,"column":12},"end":{"line":304,"column":12}}]},"39":{"line":315,"type":"if","locations":[{"start":{"line":315,"column":4},"end":{"line":315,"column":4}},{"start":{"line":315,"column":4},"end":{"line":315,"column":4}}]},"40":{"line":318,"type":"if","locations":[{"start":{"line":318,"column":12},"end":{"line":318,"column":12}},{"start":{"line":318,"column":12},"end":{"line":318,"column":12}}]},"41":{"line":332,"type":"if","locations":[{"start":{"line":332,"column":12},"end":{"line":332,"column":12}},{"start":{"line":332,"column":12},"end":{"line":332,"column":12}}]},"42":{"line":344,"type":"binary-expr","locations":[{"start":{"line":344,"column":26},"end":{"line":344,"column":30}},{"start":{"line":344,"column":34},"end":{"line":344,"column":36}}]},"43":{"line":345,"type":"if","locations":[{"start":{"line":345,"column":12},"end":{"line":345,"column":12}},{"start":{"line":345,"column":12},"end":{"line":345,"column":12}}]},"44":{"line":362,"type":"if","locations":[{"start":{"line":362,"column":12},"end":{"line":362,"column":12}},{"start":{"line":362,"column":12},"end":{"line":362,"column":12}}]},"45":{"line":373,"type":"binary-expr","locations":[{"start":{"line":373,"column":22},"end":{"line":373,"column":30}},{"start":{"line":373,"column":34},"end":{"line":373,"column":36}}]},"46":{"line":374,"type":"if","locations":[{"start":{"line":374,"column":4},"end":{"line":374,"column":4}},{"start":{"line":374,"column":4},"end":{"line":374,"column":4}}]},"47":{"line":377,"type":"binary-expr","locations":[{"start":{"line":377,"column":12},"end":{"line":377,"column":17}},{"start":{"line":377,"column":21},"end":{"line":379,"column":5}}]},"48":{"line":383,"type":"if","locations":[{"start":{"line":383,"column":8},"end":{"line":383,"column":8}},{"start":{"line":383,"column":8},"end":{"line":383,"column":8}}]},"49":{"line":386,"type":"if","locations":[{"start":{"line":386,"column":8},"end":{"line":386,"column":8}},{"start":{"line":386,"column":8},"end":{"line":386,"column":8}}]},"50":{"line":386,"type":"binary-expr","locations":[{"start":{"line":386,"column":12},"end":{"line":386,"column":28}},{"start":{"line":386,"column":32},"end":{"line":386,"column":50}}]},"51":{"line":404,"type":"if","locations":[{"start":{"line":404,"column":4},"end":{"line":404,"column":4}},{"start":{"line":404,"column":4},"end":{"line":404,"column":4}}]},"52":{"line":405,"type":"if","locations":[{"start":{"line":405,"column":8},"end":{"line":405,"column":8}},{"start":{"line":405,"column":8},"end":{"line":405,"column":8}}]},"53":{"line":415,"type":"if","locations":[{"start":{"line":415,"column":4},"end":{"line":415,"column":4}},{"start":{"line":415,"column":4},"end":{"line":415,"column":4}}]},"54":{"line":421,"type":"if","locations":[{"start":{"line":421,"column":4},"end":{"line":421,"column":4}},{"start":{"line":421,"column":4},"end":{"line":421,"column":4}}]},"55":{"line":424,"type":"if","locations":[{"start":{"line":424,"column":4},"end":{"line":424,"column":4}},{"start":{"line":424,"column":4},"end":{"line":424,"column":4}}]},"56":{"line":428,"type":"if","locations":[{"start":{"line":428,"column":12},"end":{"line":428,"column":12}},{"start":{"line":428,"column":12},"end":{"line":428,"column":12}}]}},"code":["'use strict';","var fs = require('fs');","var path = require('path');","var globMod = require('glob');","var VError = require('verror');","var Promise = require('bluebird');","var mkdirp = require('mkdirp');","var rimrafMod = require('rimraf');","var mkdirpP = Promise.promisify(mkdirp);","function distributeDir(base, name, levels, chunk) {","    if (chunk === void 0) { chunk = 1; }","    name = name.replace(/(^[\\\\\\/]+)|([\\\\\\/]+$)/g, '');","    if (levels === 0) {","        return base;","    }","    if (chunk === 0) {","        return base;","    }","    var arr = [base];","    var steps = Math.max(0, Math.min(name.length - 2, levels * chunk));","    for (var i = 0; i < steps; i += chunk) {","        arr.push(name.substr(i, chunk));","    }","    return path.join.apply(path, arr);","}","exports.distributeDir = distributeDir;","function parseJson(text) {","    var json;","    try {","        json = JSON.parse(text);","    }","    catch (err) {","        if (err.name === 'SyntaxError') {","        }","        throw (err);","    }","    return json;","}","exports.parseJson = parseJson;","function readJSONSync(src) {","    return parseJson(String(fs.readFileSync(src, { encoding: 'utf8' })));","}","exports.readJSONSync = readJSONSync;","function readJSONCB(src, callback) {","    fs.readFile(path.resolve(src), { encoding: 'utf8' }, function (err, text) {","        if (err || typeof text !== 'string') {","            return callback(err, null);","        }","        var json = null;","        try {","            json = parseJson(text);","        }","        catch (err) {","            return callback(err, null);","        }","        return callback(null, json);","    });","}","exports.readJSONCB = readJSONCB;","function readJSON(src) {","    return read(src, { encoding: 'utf8' }).then(function (text) {","        return parseJson(text);","    });","}","exports.readJSON = readJSON;","function writeJSONSync(dest, data) {","    dest = path.resolve(dest);","    mkdirCheckSync(path.dirname(dest));","    fs.writeFileSync(dest, JSON.stringify(data, null, 2), { encoding: 'utf8' });","}","exports.writeJSONSync = writeJSONSync;","function writeJSON(filename, data) {","    return write(filename, JSON.stringify(data, null, 2), { encoding: 'utf8' });","}","exports.writeJSON = writeJSON;","function readFileSync(dest, encoding) {","    if (encoding === void 0) { encoding = 'utf8'; }","    return fs.readFileSync(dest, { encoding: encoding });","}","exports.readFileSync = readFileSync;","function writeFileSync(dest, data, encoding) {","    if (encoding === void 0) { encoding = 'utf8'; }","    dest = path.resolve(dest);","    mkdirCheckSync(path.dirname(dest), true);","    fs.writeFileSync(dest, data, { encoding: encoding });","}","exports.writeFileSync = writeFileSync;","function mkdirCheckSync(dir, writable) {","    if (writable === void 0) { writable = false; }","    dir = path.resolve(dir);","    if (fs.existsSync(dir)) {","        if (!fs.statSync(dir).isDirectory()) {","            throw new Error('path exists but is not a directory ' + dir);","        }","        if (writable) {","            fs.chmodSync(dir, '744');","        }","    }","    else {","        if (writable) {","            mkdirp.sync(dir, '744');","        }","        else {","            mkdirp.sync(dir);","        }","    }","    return dir;","}","exports.mkdirCheckSync = mkdirCheckSync;","function mkdirCheck(dir, writable) {","    if (writable === void 0) { writable = false; }","    dir = path.resolve(dir);","    return exists(dir).then(function (exists) {","        if (exists) {","            return isDirectory(dir).then(function (isDir) {","                if (!isDir) {","                    throw (new Error('path exists but is not a directory ' + dir));","                }","                if (writable) {","                    return chmod(dir, '744');","                }","            });","        }","        else if (writable) {","            return mkdirpP(dir, '744');","        }","        else {","            return mkdirpP(dir);","        }","    }).return(dir);","}","exports.mkdirCheck = mkdirCheck;","function canWriteFile(targetPath, overwrite) {","    return exists(targetPath).then(function (exists) {","        if (!exists) {","            return Promise.resolve(true);","        }","        return isFile(targetPath).then(function (isFile) {","            if (isFile) {","                return overwrite;","            }","            return false;","        });","    });","}","exports.canWriteFile = canWriteFile;","function removeFile(target) {","    return exists(target).then(function (exists) {","        if (!exists) {","            return;","        }","        return isFile(target).then(function (isFile) {","            if (!isFile) {","                throw new Error('not a file ' + target);","            }","            return remove(target);","        });","    });","}","exports.removeFile = removeFile;","function removeAllFilesFromDir(target) {","    if (!fs.existsSync(target)) {","        return;","    }","    var files = fs.readdirSync(target);","    files.forEach(function (file) {","        if (fs.statSync(path.join(target, file)).isFile()) {","            fs.unlinkSync(path.join(target, file));","        }","    });","}","exports.removeAllFilesFromDir = removeAllFilesFromDir;","function getDirNameList(target) {","    var list = [];","    if (fs.existsSync(target)) {","        fs.readdirSync(target).forEach(function (file, index) {","            if (fs.statSync(path.join(target, file)).isDirectory()) {","                list.push(file);","            }","        });","    }","    return list;","}","exports.getDirNameList = getDirNameList;","function removeDirSync(target) {","    syncDeleteFolderRecursive(target);","}","exports.removeDirSync = removeDirSync;","function rimraf(target) {","    return new Promise(function (resolve, reject) {","        rimrafMod(target, function (err) {","            if (err) {","                reject(err);","            }","            else {","                resolve(undefined);","            }","        });","    });","}","exports.rimraf = rimraf;","var utimes = Promise.promisify(fs.utimes);","function touchFile(src, atime, mtime) {","    return stat(src).then(function (stat) {","        atime = (atime || new Date());","        mtime = (mtime || stat.mtime);","        return utimes(src, atime, mtime);","    }).return();","}","exports.touchFile = touchFile;","function findup(dir, name) {","    return Promise.attempt(function () {","        if (dir === '/') {","            throw new Error('could not find package.json up from ' + dir);","        }","        else if (!dir || dir === '.') {","            throw new Error('cannot find package.json from unspecified directory');","        }","        var file = path.join(dir, name);","        return exists(file).then(function (exists) {","            if (exists) {","                return Promise.resolve(file);","            }","            var dirName = path.dirname(dir);","            if (dirName === dir) {","                throw new Error('cannot find file ' + name);","            }","            return findup(path.dirname(dir), name).then(function (file) {","                return file;","            });","        });","    });","}","exports.findup = findup;","function exists(filename) {","    return new Promise(function (resolve) {","        fs.exists(filename, resolve);","    }).catch(function () {","        return false;","    });","}","exports.exists = exists;","function stat(filename) {","    return new Promise(function (resolve, reject) {","        fs.stat(filename, function (err, stat) {","            if (err) {","                reject(err);","            }","            else {","                resolve(stat);","            }","        });","    });","}","exports.stat = stat;","function isFile(filename) {","    return stat(filename).then(function (stat) {","        return stat.isFile();","    }).catch(function (e) {","        return false;","    });","}","exports.isFile = isFile;","function isDirectory(filename) {","    return stat(filename).then(function (stat) {","        return stat.isDirectory();","    }).catch(function (e) {","        return false;","    });","}","exports.isDirectory = isDirectory;","function read(filename, opts) {","    return new Promise(function (resolve, reject) {","        fs.readFile(filename, opts, function (err, content) {","            if (err) {","                reject(err);","            }","            else {","                resolve(content);","            }","        });","    });","}","exports.read = read;","function write(filename, content, opts) {","    filename = path.resolve(filename);","    return mkdirCheck(path.dirname(filename), true).then(function () {","        return new Promise(function (resolve, reject) {","            fs.writeFile(filename, content, opts, function (err) {","                if (err) {","                    reject(err);","                }","                else {","                    resolve(undefined);","                }","            });","        });","    });","}","exports.write = write;","function remove(filename) {","    return new Promise(function (resolve, reject) {","        fs.unlink(filename, function (err) {","            if (err) {","                reject(err);","            }","            else {","                resolve(undefined);","            }","        });","    });","}","exports.remove = remove;","function syncDeleteFolderRecursive(path) {","    if (fs.existsSync(path)) {","        fs.readdirSync(path).forEach(function (file, index) {","            var curPath = path + '/' + file;","            if (fs.lstatSync(curPath).isDirectory()) {","                syncDeleteFolderRecursive(curPath);","            }","            else {","                fs.unlinkSync(curPath);","            }","        });","        fs.rmdirSync(path);","    }","}","exports.syncDeleteFolderRecursive = syncDeleteFolderRecursive;","function chmod(filename, mode) {","    return new Promise(function (resolve, reject) {","        fs.chmod(filename, mode, function (err) {","            if (err) {","                reject(err);","            }","            else {","                resolve(undefined);","            }","        });","    });","}","exports.chmod = chmod;","function glob(pattern, opts) {","    return new Promise(function (resolve, reject) {","        globMod(pattern, (opts || {}), function (err, paths) {","            if (err) {","                reject(err);","            }","            else {","                resolve(paths);","            }","        });","    });","}","exports.glob = glob;","function concat(arrays) {","    return Array.prototype.concat.apply([], arrays);","}",";","function readdir(basePath) {","    return new Promise(function (resolve, reject) {","        fs.readdir(basePath, function (error, list) {","            if (error) {","                return reject(new VError(error, 'Can\\'t list %s', JSON.stringify(path)));","            }","            else {","                resolve(list);","            }","        });","    });","}","exports.readdir = readdir;","function listTree(basePath, guard) {","    basePath = String(basePath || '');","    if (!basePath) {","        basePath = '.';","    }","    guard = guard || function (basePath, stat) {","        return true;","    };","    return stat(basePath).then(function (stat) {","        var paths = [];","        var include = guard(basePath, stat);","        if (include) {","            paths.push([basePath]);","        }","        if (include !== null && stat.isDirectory()) {","            return readdir(basePath).then(function (children) {","                paths.push.apply(paths, children.map(function (child) {","                    return listTree(path.join(basePath, child), guard);","                }));","                return paths;","            });","        }","        else {","            return Promise.resolve(paths);","        }","    }).catch(function (reason) {","        return [];","    }).then(Promise.all).then(concat);","}","exports.listTree = listTree;","function copyFileSync(source, target) {","    var targetFile = target;","    if (fs.existsSync(target)) {","        if (fs.lstatSync(target).isDirectory()) {","            targetFile = path.join(target, path.basename(source));","        }","    }","    fs.createReadStream(source).pipe(fs.createWriteStream(targetFile));","}","exports.copyFileSync = copyFileSync;","function copyFolderRecursiveSync(source, target, inscludeSource) {","    var files = [];","    var targetFolder = '';","    if (inscludeSource) {","        targetFolder = path.resolve('..', target);","    }","    else {","        targetFolder = path.join(target, path.basename(source));","    }","    if (!fs.existsSync(targetFolder)) {","        fs.mkdirSync(targetFolder);","    }","    if (fs.lstatSync(source).isDirectory()) {","        files = fs.readdirSync(source);","        files.forEach(function (file) {","            var curSource = path.join(source, file);","            if (fs.lstatSync(curSource).isDirectory()) {","                copyFolderRecursiveSync(curSource, targetFolder);","            }","            else {","                copyFileSync(curSource, targetFolder);","            }","        });","    }","}","exports.copyFolderRecursiveSync = copyFolderRecursiveSync;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"19":0,"20":0,"21":0,"22":0,"24":0,"26":1,"27":1,"28":0,"29":0,"30":0,"33":0,"35":0,"37":0,"39":1,"40":1,"41":0,"43":1,"44":1,"45":0,"46":0,"47":0,"49":0,"50":0,"51":0,"54":0,"56":0,"59":1,"60":1,"61":0,"62":0,"65":1,"66":1,"67":0,"68":0,"69":0,"71":1,"72":1,"73":0,"75":1,"76":1,"77":0,"78":0,"80":1,"81":1,"82":0,"83":0,"84":0,"85":0,"87":1,"88":1,"89":0,"90":0,"91":0,"92":0,"93":0,"95":0,"96":0,"100":0,"101":0,"104":0,"107":0,"109":1,"110":1,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"119":0,"120":0,"124":0,"125":0,"128":0,"132":1,"133":1,"134":0,"135":0,"136":0,"138":0,"139":0,"140":0,"142":0,"146":1,"147":1,"148":0,"149":0,"150":0,"152":0,"153":0,"154":0,"156":0,"160":1,"161":1,"162":0,"163":0,"165":0,"166":0,"167":0,"168":0,"172":1,"173":1,"174":0,"175":0,"176":0,"177":0,"178":0,"182":0,"184":1,"185":1,"186":0,"188":1,"189":1,"190":0,"191":0,"192":0,"193":0,"196":0,"201":1,"202":1,"203":1,"204":0,"205":0,"206":0,"207":0,"210":1,"211":1,"212":0,"213":0,"214":0,"216":0,"217":0,"219":0,"220":0,"221":0,"222":0,"224":0,"225":0,"226":0,"228":0,"229":0,"234":1,"235":1,"236":0,"237":0,"239":0,"242":1,"243":1,"244":0,"245":0,"246":0,"247":0,"250":0,"255":1,"256":1,"257":0,"258":0,"260":0,"263":1,"264":1,"265":0,"266":0,"268":0,"271":1,"272":1,"273":0,"274":0,"275":0,"276":0,"279":0,"284":1,"285":1,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"294":0,"300":1,"301":1,"302":0,"303":0,"304":0,"305":0,"308":0,"313":1,"314":1,"315":0,"316":0,"317":0,"318":0,"319":0,"322":0,"325":0,"328":1,"329":1,"330":0,"331":0,"332":0,"333":0,"336":0,"341":1,"342":1,"343":0,"344":0,"345":0,"346":0,"349":0,"354":1,"355":1,"356":0,"359":1,"360":0,"361":0,"362":0,"363":0,"366":0,"371":1,"372":1,"373":0,"374":0,"375":0,"377":0,"378":0,"380":0,"381":0,"382":0,"383":0,"384":0,"386":0,"387":0,"388":0,"389":0,"391":0,"395":0,"398":0,"401":1,"402":1,"403":0,"404":0,"405":0,"406":0,"409":0,"411":1,"412":1,"413":0,"414":0,"415":0,"416":0,"419":0,"421":0,"422":0,"424":0,"425":0,"426":0,"427":0,"428":0,"429":0,"432":0,"437":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/lib/JSONPointer.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/lib/JSONPointer.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":1,"99":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":19},"end":{"line":4,"column":31}}},"2":{"name":"JSONPointer","line":5,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":41}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":53}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":37},"end":{"line":26,"column":58}}},"5":{"name":"(anonymous_5)","line":40,"loc":{"start":{"line":40,"column":38},"end":{"line":40,"column":56}}},"6":{"name":"(anonymous_6)","line":43,"loc":{"start":{"line":43,"column":37},"end":{"line":43,"column":60}}},"7":{"name":"(anonymous_7)","line":50,"loc":{"start":{"line":50,"column":37},"end":{"line":50,"column":58}}},"8":{"name":"(anonymous_8)","line":63,"loc":{"start":{"line":63,"column":38},"end":{"line":63,"column":59}}},"9":{"name":"(anonymous_9)","line":71,"loc":{"start":{"line":71,"column":39},"end":{"line":71,"column":60}}},"10":{"name":"(anonymous_10)","line":75,"loc":{"start":{"line":75,"column":38},"end":{"line":75,"column":59}}},"11":{"name":"(anonymous_11)","line":86,"loc":{"start":{"line":86,"column":36},"end":{"line":86,"column":57}}},"12":{"name":"(anonymous_12)","line":94,"loc":{"start":{"line":94,"column":44},"end":{"line":94,"column":65}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"3":{"start":{"line":4,"column":0},"end":{"line":125,"column":5}},"4":{"start":{"line":5,"column":4},"end":{"line":13,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":47}},"6":{"start":{"line":6,"column":33},"end":{"line":6,"column":45}},"7":{"start":{"line":7,"column":8},"end":{"line":7,"column":25}},"8":{"start":{"line":8,"column":8},"end":{"line":8,"column":46}},"9":{"start":{"line":9,"column":8},"end":{"line":11,"column":9}},"10":{"start":{"line":10,"column":12},"end":{"line":10,"column":34}},"11":{"start":{"line":12,"column":8},"end":{"line":12,"column":29}},"12":{"start":{"line":14,"column":4},"end":{"line":25,"column":6}},"13":{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},"14":{"start":{"line":16,"column":12},"end":{"line":16,"column":30}},"15":{"start":{"line":18,"column":8},"end":{"line":18,"column":34}},"16":{"start":{"line":19,"column":8},"end":{"line":23,"column":9}},"17":{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},"18":{"start":{"line":21,"column":16},"end":{"line":21,"column":28}},"19":{"start":{"line":24,"column":8},"end":{"line":24,"column":21}},"20":{"start":{"line":26,"column":4},"end":{"line":39,"column":6}},"21":{"start":{"line":27,"column":8},"end":{"line":27,"column":43}},"22":{"start":{"line":27,"column":30},"end":{"line":27,"column":41}},"23":{"start":{"line":28,"column":8},"end":{"line":30,"column":9}},"24":{"start":{"line":29,"column":12},"end":{"line":29,"column":30}},"25":{"start":{"line":31,"column":8},"end":{"line":31,"column":34}},"26":{"start":{"line":32,"column":8},"end":{"line":37,"column":9}},"27":{"start":{"line":33,"column":12},"end":{"line":33,"column":38}},"28":{"start":{"line":34,"column":12},"end":{"line":36,"column":13}},"29":{"start":{"line":35,"column":16},"end":{"line":35,"column":46}},"30":{"start":{"line":38,"column":8},"end":{"line":38,"column":19}},"31":{"start":{"line":40,"column":4},"end":{"line":42,"column":6}},"32":{"start":{"line":41,"column":8},"end":{"line":41,"column":37}},"33":{"start":{"line":43,"column":4},"end":{"line":49,"column":6}},"34":{"start":{"line":44,"column":8},"end":{"line":46,"column":9}},"35":{"start":{"line":45,"column":12},"end":{"line":45,"column":30}},"36":{"start":{"line":47,"column":8},"end":{"line":47,"column":34}},"37":{"start":{"line":48,"column":8},"end":{"line":48,"column":50}},"38":{"start":{"line":50,"column":4},"end":{"line":62,"column":6}},"39":{"start":{"line":51,"column":8},"end":{"line":51,"column":43}},"40":{"start":{"line":51,"column":30},"end":{"line":51,"column":41}},"41":{"start":{"line":52,"column":8},"end":{"line":54,"column":9}},"42":{"start":{"line":53,"column":12},"end":{"line":53,"column":30}},"43":{"start":{"line":55,"column":8},"end":{"line":60,"column":9}},"44":{"start":{"line":56,"column":12},"end":{"line":56,"column":38}},"45":{"start":{"line":57,"column":12},"end":{"line":57,"column":46}},"46":{"start":{"line":58,"column":12},"end":{"line":58,"column":42}},"47":{"start":{"line":59,"column":12},"end":{"line":59,"column":21}},"48":{"start":{"line":61,"column":8},"end":{"line":61,"column":19}},"49":{"start":{"line":63,"column":4},"end":{"line":70,"column":6}},"50":{"start":{"line":64,"column":8},"end":{"line":64,"column":42}},"51":{"start":{"line":64,"column":30},"end":{"line":64,"column":40}},"52":{"start":{"line":65,"column":8},"end":{"line":65,"column":40}},"53":{"start":{"line":66,"column":8},"end":{"line":68,"column":9}},"54":{"start":{"line":67,"column":12},"end":{"line":67,"column":25}},"55":{"start":{"line":69,"column":8},"end":{"line":69,"column":19}},"56":{"start":{"line":71,"column":4},"end":{"line":74,"column":6}},"57":{"start":{"line":72,"column":8},"end":{"line":72,"column":44}},"58":{"start":{"line":72,"column":30},"end":{"line":72,"column":42}},"59":{"start":{"line":73,"column":8},"end":{"line":73,"column":57}},"60":{"start":{"line":75,"column":4},"end":{"line":85,"column":6}},"61":{"start":{"line":76,"column":8},"end":{"line":76,"column":43}},"62":{"start":{"line":76,"column":30},"end":{"line":76,"column":41}},"63":{"start":{"line":77,"column":8},"end":{"line":77,"column":40}},"64":{"start":{"line":78,"column":8},"end":{"line":83,"column":9}},"65":{"start":{"line":79,"column":12},"end":{"line":79,"column":25}},"66":{"start":{"line":81,"column":13},"end":{"line":83,"column":9}},"67":{"start":{"line":82,"column":12},"end":{"line":82,"column":33}},"68":{"start":{"line":84,"column":8},"end":{"line":84,"column":19}},"69":{"start":{"line":86,"column":4},"end":{"line":93,"column":6}},"70":{"start":{"line":87,"column":8},"end":{"line":87,"column":43}},"71":{"start":{"line":87,"column":30},"end":{"line":87,"column":41}},"72":{"start":{"line":88,"column":8},"end":{"line":88,"column":40}},"73":{"start":{"line":89,"column":8},"end":{"line":91,"column":9}},"74":{"start":{"line":90,"column":12},"end":{"line":90,"column":46}},"75":{"start":{"line":92,"column":8},"end":{"line":92,"column":19}},"76":{"start":{"line":94,"column":4},"end":{"line":123,"column":6}},"77":{"start":{"line":95,"column":8},"end":{"line":95,"column":40}},"78":{"start":{"line":95,"column":30},"end":{"line":95,"column":38}},"79":{"start":{"line":96,"column":8},"end":{"line":96,"column":40}},"80":{"start":{"line":97,"column":8},"end":{"line":121,"column":9}},"81":{"start":{"line":98,"column":12},"end":{"line":98,"column":22}},"82":{"start":{"line":99,"column":12},"end":{"line":101,"column":13}},"83":{"start":{"line":100,"column":16},"end":{"line":100,"column":44}},"84":{"start":{"line":102,"column":12},"end":{"line":104,"column":13}},"85":{"start":{"line":103,"column":16},"end":{"line":103,"column":50}},"86":{"start":{"line":105,"column":12},"end":{"line":107,"column":13}},"87":{"start":{"line":106,"column":16},"end":{"line":106,"column":49}},"88":{"start":{"line":108,"column":12},"end":{"line":110,"column":13}},"89":{"start":{"line":109,"column":16},"end":{"line":109,"column":44}},"90":{"start":{"line":111,"column":12},"end":{"line":113,"column":13}},"91":{"start":{"line":112,"column":16},"end":{"line":112,"column":40}},"92":{"start":{"line":114,"column":12},"end":{"line":116,"column":13}},"93":{"start":{"line":115,"column":16},"end":{"line":115,"column":40}},"94":{"start":{"line":117,"column":12},"end":{"line":119,"column":13}},"95":{"start":{"line":118,"column":16},"end":{"line":118,"column":35}},"96":{"start":{"line":120,"column":12},"end":{"line":120,"column":21}},"97":{"start":{"line":122,"column":8},"end":{"line":122,"column":19}},"98":{"start":{"line":124,"column":4},"end":{"line":124,"column":23}},"99":{"start":{"line":126,"column":0},"end":{"line":126,"column":29}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":8}},{"start":{"line":6,"column":8},"end":{"line":6,"column":8}}]},"2":{"line":8,"type":"cond-expr","locations":[{"start":{"line":8,"column":32},"end":{"line":8,"column":40}},{"start":{"line":8,"column":43},"end":{"line":8,"column":45}}]},"3":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":8}},{"start":{"line":9,"column":8},"end":{"line":9,"column":8}}]},"4":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":12},"end":{"line":9,"column":18}},{"start":{"line":9,"column":22},"end":{"line":9,"column":41}}]},"5":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":8}},{"start":{"line":15,"column":8},"end":{"line":15,"column":8}}]},"6":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":20,"column":12}},{"start":{"line":20,"column":12},"end":{"line":20,"column":12}}]},"7":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":27,"column":8}},{"start":{"line":27,"column":8},"end":{"line":27,"column":8}}]},"8":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":8}},{"start":{"line":28,"column":8},"end":{"line":28,"column":8}}]},"9":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":12},"end":{"line":34,"column":12}},{"start":{"line":34,"column":12},"end":{"line":34,"column":12}}]},"10":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":44,"column":8}},{"start":{"line":44,"column":8},"end":{"line":44,"column":8}}]},"11":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":8}},{"start":{"line":51,"column":8},"end":{"line":51,"column":8}}]},"12":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":8},"end":{"line":52,"column":8}},{"start":{"line":52,"column":8},"end":{"line":52,"column":8}}]},"13":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":55,"column":8}},{"start":{"line":55,"column":8},"end":{"line":55,"column":8}}]},"14":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":8}},{"start":{"line":64,"column":8},"end":{"line":64,"column":8}}]},"15":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":8}},{"start":{"line":66,"column":8},"end":{"line":66,"column":8}}]},"16":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":8},"end":{"line":72,"column":8}},{"start":{"line":72,"column":8},"end":{"line":72,"column":8}}]},"17":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":76,"column":8}},{"start":{"line":76,"column":8},"end":{"line":76,"column":8}}]},"18":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":8}},{"start":{"line":78,"column":8},"end":{"line":78,"column":8}}]},"19":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":13},"end":{"line":81,"column":13}},{"start":{"line":81,"column":13},"end":{"line":81,"column":13}}]},"20":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":8},"end":{"line":87,"column":8}},{"start":{"line":87,"column":8},"end":{"line":87,"column":8}}]},"21":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":8},"end":{"line":89,"column":8}},{"start":{"line":89,"column":8},"end":{"line":89,"column":8}}]},"22":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":12},"end":{"line":89,"column":37}},{"start":{"line":89,"column":41},"end":{"line":89,"column":66}}]},"23":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":8},"end":{"line":95,"column":8}},{"start":{"line":95,"column":8},"end":{"line":95,"column":8}}]},"24":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":8},"end":{"line":97,"column":8}},{"start":{"line":97,"column":8},"end":{"line":97,"column":8}}]},"25":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":12},"end":{"line":99,"column":12}},{"start":{"line":99,"column":12},"end":{"line":99,"column":12}}]},"26":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":12},"end":{"line":102,"column":12}},{"start":{"line":102,"column":12},"end":{"line":102,"column":12}}]},"27":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":12},"end":{"line":105,"column":12}},{"start":{"line":105,"column":12},"end":{"line":105,"column":12}}]},"28":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12}},{"start":{"line":108,"column":12},"end":{"line":108,"column":12}}]},"29":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":12},"end":{"line":111,"column":12}},{"start":{"line":111,"column":12},"end":{"line":111,"column":12}}]},"30":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":12},"end":{"line":114,"column":12}},{"start":{"line":114,"column":12},"end":{"line":114,"column":12}}]},"31":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":12},"end":{"line":117,"column":12}},{"start":{"line":117,"column":12},"end":{"line":117,"column":12}}]}},"code":["'use strict';","var pointer = require('json-pointer');","var typeOf = require('../typeOf');","var JSONPointer = (function () {","    function JSONPointer(object, prefix) {","        if (prefix === void 0) { prefix = ''; }","        this.prefix = '';","        this.objects = object ? [object] : [];","        if (prefix && !/^\\//.test(prefix)) {","            prefix = '/' + prefix;","        }","        this.prefix = prefix;","    }","    JSONPointer.prototype.hasValue = function (path) {","        if (!/^\\//.test(path)) {","            path = '/' + path;","        }","        path = this.prefix + path;","        for (var i = 0, ii = this.objects.length; i < ii; i++) {","            if (pointer.has(this.objects[i], path)) {","                return true;","            }","        }","        return false;","    };","    JSONPointer.prototype.getValue = function (path, alt) {","        if (alt === void 0) { alt = null; }","        if (!/^\\//.test(path)) {","            path = '/' + path;","        }","        path = this.prefix + path;","        for (var i = 0, ii = this.objects.length; i < ii; i++) {","            var obj = this.objects[i];","            if (pointer.has(obj, path)) {","                return pointer.get(obj, path);","            }","        }","        return alt;","    };","    JSONPointer.prototype.addSource = function (object) {","        this.objects.unshift(object);","    };","    JSONPointer.prototype.setValue = function (path, value) {","        if (!/^\\//.test(path)) {","            path = '/' + path;","        }","        path = this.prefix + path;","        pointer.set(this.objects[0], path, value);","    };","    JSONPointer.prototype.getChild = function (path, alt) {","        if (alt === void 0) { alt = null; }","        if (!/^\\//.test(path)) {","            path = '/' + path;","        }","        if (this.hasValue(path)) {","            var p = new JSONPointer();","            p.objects = this.objects.slice(0);","            p.prefix = this.prefix + path;","            return p;","        }","        return alt;","    };","    JSONPointer.prototype.getNumber = function (path, alt) {","        if (alt === void 0) { alt = NaN; }","        var value = this.getValue(path);","        if (typeof value === 'number') {","            return value;","        }","        return alt;","    };","    JSONPointer.prototype.getBoolean = function (path, alt) {","        if (alt === void 0) { alt = false; }","        return typeOf.isFlagOn(this.getValue(path, alt));","    };","    JSONPointer.prototype.getString = function (path, alt) {","        if (alt === void 0) { alt = null; }","        var value = this.getValue(path);","        if (typeof value === 'string') {","            return value;","        }","        else if (typeof value === 'number') {","            return String(value);","        }","        return alt;","    };","    JSONPointer.prototype.getDate = function (path, alt) {","        if (alt === void 0) { alt = null; }","        var value = this.getValue(path);","        if (typeof value === 'string' || typeof value === 'number') {","            return new Date(value.toString());","        }","        return alt;","    };","    JSONPointer.prototype.getDurationSecs = function (path, alt) {","        if (alt === void 0) { alt = 0; }","        var value = this.getValue(path);","        if (typeof value === 'object') {","            var d = 0;","            if (typeof value.years === 'number') {","                d += value.years * 31557600;","            }","            if (typeof value.months === 'number') {","                d += value.months * 31557600 / 12;","            }","            if (typeof value.weeks === 'number') {","                d += value.weeks * 7 * 24 * 3600;","            }","            if (typeof value.days === 'number') {","                d += value.days * 24 * 3600;","            }","            if (typeof value.hours === 'number') {","                d += value.hours * 3600;","            }","            if (typeof value.minutes === 'number') {","                d += value.minutes * 60;","            }","            if (typeof value.seconds === 'number') {","                d += value.seconds;","            }","            return d;","        }","        return alt;","    };","    return JSONPointer;","})();","module.exports = JSONPointer;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"12":0,"14":1,"15":0,"16":0,"18":0,"19":0,"20":0,"21":0,"24":0,"26":1,"27":0,"28":0,"29":0,"31":0,"32":0,"33":0,"34":0,"35":0,"38":0,"40":1,"41":0,"43":1,"44":0,"45":0,"47":0,"48":0,"50":1,"51":0,"52":0,"53":0,"55":0,"56":0,"57":0,"58":0,"59":0,"61":0,"63":1,"64":0,"65":0,"66":0,"67":0,"69":0,"71":1,"72":0,"73":0,"75":1,"76":0,"77":0,"78":0,"79":0,"81":0,"82":0,"84":0,"86":1,"87":0,"88":0,"89":0,"90":0,"92":0,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"102":0,"103":0,"105":0,"106":0,"108":0,"109":0,"111":0,"112":0,"114":0,"115":0,"117":0,"118":0,"120":0,"122":0,"124":1,"126":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/lib/PackageJSON.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/lib/PackageJSON.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":1,"26":0,"27":1,"28":0,"29":1,"30":0,"31":1,"32":0,"33":1,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"findInfo","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":32}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":19},"end":{"line":22,"column":31}}},"3":{"name":"PackageJSON","line":23,"loc":{"start":{"line":23,"column":4},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":13},"end":{"line":30,"column":25}}},"5":{"name":"(anonymous_5)","line":37,"loc":{"start":{"line":37,"column":13},"end":{"line":37,"column":25}}},"6":{"name":"(anonymous_6)","line":44,"loc":{"start":{"line":44,"column":13},"end":{"line":44,"column":25}}},"7":{"name":"(anonymous_7)","line":51,"loc":{"start":{"line":51,"column":13},"end":{"line":51,"column":25}}},"8":{"name":"(anonymous_8)","line":57,"loc":{"start":{"line":57,"column":43},"end":{"line":57,"column":55}}},"9":{"name":"(anonymous_9)","line":60,"loc":{"start":{"line":60,"column":35},"end":{"line":60,"column":47}}},"10":{"name":"(anonymous_10)","line":63,"loc":{"start":{"line":63,"column":40},"end":{"line":63,"column":57}}},"11":{"name":"(anonymous_11)","line":77,"loc":{"start":{"line":77,"column":23},"end":{"line":77,"column":35}}},"12":{"name":"(anonymous_12)","line":83,"loc":{"start":{"line":83,"column":27},"end":{"line":83,"column":39}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":34}},"5":{"start":{"line":6,"column":0},"end":{"line":21,"column":1}},"6":{"start":{"line":7,"column":4},"end":{"line":9,"column":5}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":45}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":46}},"9":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":20}},"11":{"start":{"line":14,"column":4},"end":{"line":19,"column":5}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":71}},"13":{"start":{"line":17,"column":9},"end":{"line":19,"column":5}},"14":{"start":{"line":18,"column":8},"end":{"line":18,"column":79}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":48}},"16":{"start":{"line":22,"column":0},"end":{"line":94,"column":5}},"17":{"start":{"line":23,"column":4},"end":{"line":28,"column":5}},"18":{"start":{"line":24,"column":8},"end":{"line":24,"column":45}},"19":{"start":{"line":24,"column":31},"end":{"line":24,"column":43}},"20":{"start":{"line":25,"column":8},"end":{"line":25,"column":25}},"21":{"start":{"line":26,"column":8},"end":{"line":26,"column":40}},"22":{"start":{"line":27,"column":8},"end":{"line":27,"column":24}},"23":{"start":{"line":29,"column":4},"end":{"line":35,"column":7}},"24":{"start":{"line":31,"column":12},"end":{"line":31,"column":29}},"25":{"start":{"line":36,"column":4},"end":{"line":42,"column":7}},"26":{"start":{"line":38,"column":12},"end":{"line":38,"column":42}},"27":{"start":{"line":43,"column":4},"end":{"line":49,"column":7}},"28":{"start":{"line":45,"column":12},"end":{"line":45,"column":47}},"29":{"start":{"line":50,"column":4},"end":{"line":56,"column":7}},"30":{"start":{"line":52,"column":12},"end":{"line":52,"column":48}},"31":{"start":{"line":57,"column":4},"end":{"line":59,"column":6}},"32":{"start":{"line":58,"column":8},"end":{"line":58,"column":46}},"33":{"start":{"line":60,"column":4},"end":{"line":62,"column":6}},"34":{"start":{"line":61,"column":8},"end":{"line":61,"column":46}},"35":{"start":{"line":63,"column":4},"end":{"line":76,"column":6}},"36":{"start":{"line":64,"column":8},"end":{"line":64,"column":48}},"37":{"start":{"line":64,"column":32},"end":{"line":64,"column":46}},"38":{"start":{"line":65,"column":8},"end":{"line":65,"column":42}},"39":{"start":{"line":66,"column":8},"end":{"line":71,"column":9}},"40":{"start":{"line":67,"column":12},"end":{"line":69,"column":13}},"41":{"start":{"line":68,"column":16},"end":{"line":68,"column":70}},"42":{"start":{"line":70,"column":12},"end":{"line":70,"column":28}},"43":{"start":{"line":72,"column":8},"end":{"line":74,"column":9}},"44":{"start":{"line":73,"column":12},"end":{"line":73,"column":35}},"45":{"start":{"line":75,"column":8},"end":{"line":75,"column":18}},"46":{"start":{"line":77,"column":4},"end":{"line":82,"column":6}},"47":{"start":{"line":78,"column":8},"end":{"line":80,"column":9}},"48":{"start":{"line":79,"column":12},"end":{"line":79,"column":56}},"49":{"start":{"line":81,"column":8},"end":{"line":81,"column":38}},"50":{"start":{"line":83,"column":4},"end":{"line":92,"column":6}},"51":{"start":{"line":84,"column":8},"end":{"line":90,"column":9}},"52":{"start":{"line":85,"column":12},"end":{"line":85,"column":41}},"53":{"start":{"line":86,"column":12},"end":{"line":88,"column":13}},"54":{"start":{"line":87,"column":16},"end":{"line":87,"column":68}},"55":{"start":{"line":89,"column":12},"end":{"line":89,"column":80}},"56":{"start":{"line":91,"column":8},"end":{"line":91,"column":34}},"57":{"start":{"line":93,"column":4},"end":{"line":93,"column":23}},"58":{"start":{"line":95,"column":0},"end":{"line":95,"column":29}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":4}},{"start":{"line":7,"column":4},"end":{"line":7,"column":4}}]},"2":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"3":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"4":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":9},"end":{"line":17,"column":9}},{"start":{"line":17,"column":9},"end":{"line":17,"column":9}}]},"5":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":13},"end":{"line":17,"column":17}},{"start":{"line":17,"column":21},"end":{"line":17,"column":32}}]},"6":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":8}},{"start":{"line":24,"column":8},"end":{"line":24,"column":8}}]},"7":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":19},"end":{"line":38,"column":33}},{"start":{"line":38,"column":37},"end":{"line":38,"column":41}}]},"8":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":19},"end":{"line":45,"column":40}},{"start":{"line":45,"column":44},"end":{"line":45,"column":46}}]},"9":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":19},"end":{"line":52,"column":36}},{"start":{"line":52,"column":40},"end":{"line":52,"column":47}}]},"10":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":8}},{"start":{"line":64,"column":8},"end":{"line":64,"column":8}}]},"11":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":8}},{"start":{"line":66,"column":8},"end":{"line":66,"column":8}}]},"12":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":12},"end":{"line":67,"column":12}},{"start":{"line":67,"column":12},"end":{"line":67,"column":12}}]},"13":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":8},"end":{"line":72,"column":8}},{"start":{"line":72,"column":8},"end":{"line":72,"column":8}}]},"14":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":8}},{"start":{"line":78,"column":8},"end":{"line":78,"column":8}}]},"15":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":8},"end":{"line":84,"column":8}},{"start":{"line":84,"column":8},"end":{"line":84,"column":8}}]},"16":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":12},"end":{"line":86,"column":12}},{"start":{"line":86,"column":12},"end":{"line":86,"column":12}}]}},"code":["'use strict';","var fs = require('fs');","var path = require('path');","var assertVar = require('../assertVar');","var fileIO = require('../fileIO');","function findInfo(pmodule, dir) {","    if (!dir) {","        dir = path.dirname(pmodule.filename);","    }","    var file = path.join(dir, 'package.json');","    if (fs.existsSync(file)) {","        return file;","    }","    if (dir === '/') {","        throw new Error('Could not find package.json up from: ' + dir);","    }","    else if (!dir || dir === '.') {","        throw new Error('Cannot find package.json from unspecified directory');","    }","    return findInfo(pmodule, path.dirname(dir));","}","var PackageJSON = (function () {","    function PackageJSON(pkg, path) {","        if (path === void 0) { path = null; }","        this.path = path;","        assertVar(pkg, 'object', 'pkg');","        this._pkg = pkg;","    }","    Object.defineProperty(PackageJSON.prototype, \"raw\", {","        get: function () {","            return this._pkg;","        },","        enumerable: true,","        configurable: true","    });","    Object.defineProperty(PackageJSON.prototype, \"name\", {","        get: function () {","            return this._pkg.name || null;","        },","        enumerable: true,","        configurable: true","    });","    Object.defineProperty(PackageJSON.prototype, \"description\", {","        get: function () {","            return this._pkg.description || '';","        },","        enumerable: true,","        configurable: true","    });","    Object.defineProperty(PackageJSON.prototype, \"version\", {","        get: function () {","            return this._pkg.version || '0.0.0';","        },","        enumerable: true,","        configurable: true","    });","    PackageJSON.prototype.getNameVersion = function () {","        return this.name + ' ' + this.version;","    };","    PackageJSON.prototype.getKey = function () {","        return this.name + '-' + this.version;","    };","    PackageJSON.prototype.getHomepage = function (short) {","        if (short === void 0) { short = false; }","        var homepage = this._pkg.homepage;","        if (homepage) {","            if (short) {","                return homepage.replace(/(^https?:\\/\\/)|(\\/?$)/g, '');","            }","            return homepage;","        }","        if (short) {","            return '<no homepage>';","        }","        return '';","    };","    PackageJSON.find = function () {","        if (!PackageJSON._localPath) {","            PackageJSON._localPath = findInfo((module));","        }","        return PackageJSON._localPath;","    };","    PackageJSON.getLocal = function () {","        if (!PackageJSON._local) {","            var src = PackageJSON.find();","            if (!src) {","                throw (new Error('cannot find local package.json'));","            }","            PackageJSON._local = new PackageJSON(fileIO.readJSONSync(src), src);","        }","        return PackageJSON._local;","    };","    return PackageJSON;","})();","module.exports = PackageJSON;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"10":0,"11":0,"12":0,"14":0,"15":0,"17":0,"18":0,"20":0,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"29":1,"31":0,"36":1,"38":0,"43":1,"45":0,"50":1,"52":0,"57":1,"58":0,"60":1,"61":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"70":0,"72":0,"73":0,"75":0,"77":1,"78":0,"79":0,"81":0,"83":1,"84":0,"85":0,"86":0,"87":0,"89":0,"91":0,"93":1,"95":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/context/Config.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/context/Config.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":1,"36":0,"37":1,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":1,"51":0,"52":0,"53":1,"54":0,"55":0,"56":1,"57":0,"58":1,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":1,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":1,"114":0,"115":0,"116":0,"117":0,"118":1,"119":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"fnMap":{"1":{"name":"(anonymous_1)","line":14,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":26}}},"2":{"name":"Config","line":15,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":22}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":29},"end":{"line":20,"column":41}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":42},"end":{"line":30,"column":61}}},"5":{"name":"(anonymous_5)","line":39,"loc":{"start":{"line":39,"column":13},"end":{"line":39,"column":25}}},"6":{"name":"(anonymous_6)","line":46,"loc":{"start":{"line":46,"column":13},"end":{"line":46,"column":25}}},"7":{"name":"(anonymous_7)","line":53,"loc":{"start":{"line":53,"column":13},"end":{"line":53,"column":25}}},"8":{"name":"(anonymous_8)","line":59,"loc":{"start":{"line":59,"column":31},"end":{"line":59,"column":47}}},"9":{"name":"(anonymous_9)","line":71,"loc":{"start":{"line":71,"column":31},"end":{"line":71,"column":51}}},"10":{"name":"(anonymous_10)","line":75,"loc":{"start":{"line":75,"column":31},"end":{"line":75,"column":51}}},"11":{"name":"(anonymous_11)","line":79,"loc":{"start":{"line":79,"column":34},"end":{"line":79,"column":54}}},"12":{"name":"(anonymous_12)","line":83,"loc":{"start":{"line":83,"column":36},"end":{"line":83,"column":48}}},"13":{"name":"(anonymous_13)","line":86,"loc":{"start":{"line":86,"column":41},"end":{"line":86,"column":53}}},"14":{"name":"(anonymous_14)","line":87,"loc":{"start":{"line":87,"column":44},"end":{"line":87,"column":61}}},"15":{"name":"(anonymous_15)","line":91,"loc":{"start":{"line":91,"column":52},"end":{"line":91,"column":64}}},"16":{"name":"(anonymous_16)","line":93,"loc":{"start":{"line":93,"column":36},"end":{"line":93,"column":57}}},"17":{"name":"(anonymous_17)","line":98,"loc":{"start":{"line":98,"column":30},"end":{"line":98,"column":42}}},"18":{"name":"(anonymous_18)","line":111,"loc":{"start":{"line":111,"column":32},"end":{"line":111,"column":48}}},"19":{"name":"(anonymous_19)","line":119,"loc":{"start":{"line":119,"column":36},"end":{"line":119,"column":48}}},"20":{"name":"(anonymous_20)","line":122,"loc":{"start":{"line":122,"column":39},"end":{"line":122,"column":63}}},"21":{"name":"(anonymous_21)","line":127,"loc":{"start":{"line":127,"column":33},"end":{"line":127,"column":56}}},"22":{"name":"(anonymous_22)","line":140,"loc":{"start":{"line":140,"column":48},"end":{"line":140,"column":68}}},"23":{"name":"(anonymous_23)","line":148,"loc":{"start":{"line":148,"column":54},"end":{"line":148,"column":69}}},"24":{"name":"(anonymous_24)","line":149,"loc":{"start":{"line":149,"column":49},"end":{"line":149,"column":72}}},"25":{"name":"(anonymous_25)","line":154,"loc":{"start":{"line":154,"column":36},"end":{"line":154,"column":59}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":48}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":60}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":54}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":47}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":45}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":44}},"13":{"start":{"line":14,"column":0},"end":{"line":160,"column":5}},"14":{"start":{"line":15,"column":4},"end":{"line":19,"column":5}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":48}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":44}},"17":{"start":{"line":18,"column":8},"end":{"line":18,"column":21}},"18":{"start":{"line":20,"column":4},"end":{"line":29,"column":6}},"19":{"start":{"line":21,"column":8},"end":{"line":21,"column":37}},"20":{"start":{"line":22,"column":8},"end":{"line":22,"column":43}},"21":{"start":{"line":23,"column":8},"end":{"line":23,"column":41}},"22":{"start":{"line":24,"column":8},"end":{"line":24,"column":36}},"23":{"start":{"line":25,"column":8},"end":{"line":25,"column":40}},"24":{"start":{"line":26,"column":8},"end":{"line":26,"column":30}},"25":{"start":{"line":27,"column":8},"end":{"line":27,"column":64}},"26":{"start":{"line":28,"column":8},"end":{"line":28,"column":32}},"27":{"start":{"line":30,"column":4},"end":{"line":37,"column":6}},"28":{"start":{"line":31,"column":8},"end":{"line":31,"column":44}},"29":{"start":{"line":32,"column":8},"end":{"line":32,"column":61}},"30":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"31":{"start":{"line":34,"column":12},"end":{"line":34,"column":27}},"32":{"start":{"line":36,"column":8},"end":{"line":36,"column":46}},"33":{"start":{"line":38,"column":4},"end":{"line":44,"column":7}},"34":{"start":{"line":40,"column":12},"end":{"line":40,"column":43}},"35":{"start":{"line":45,"column":4},"end":{"line":51,"column":7}},"36":{"start":{"line":47,"column":12},"end":{"line":47,"column":43}},"37":{"start":{"line":52,"column":4},"end":{"line":58,"column":7}},"38":{"start":{"line":54,"column":12},"end":{"line":54,"column":46}},"39":{"start":{"line":59,"column":4},"end":{"line":70,"column":6}},"40":{"start":{"line":60,"column":8},"end":{"line":60,"column":44}},"41":{"start":{"line":61,"column":8},"end":{"line":61,"column":16}},"42":{"start":{"line":62,"column":8},"end":{"line":67,"column":9}},"43":{"start":{"line":63,"column":12},"end":{"line":63,"column":53}},"44":{"start":{"line":66,"column":12},"end":{"line":66,"column":50}},"45":{"start":{"line":68,"column":8},"end":{"line":68,"column":25}},"46":{"start":{"line":69,"column":8},"end":{"line":69,"column":48}},"47":{"start":{"line":71,"column":4},"end":{"line":74,"column":6}},"48":{"start":{"line":72,"column":8},"end":{"line":72,"column":50}},"49":{"start":{"line":73,"column":8},"end":{"line":73,"column":45}},"50":{"start":{"line":75,"column":4},"end":{"line":78,"column":6}},"51":{"start":{"line":76,"column":8},"end":{"line":76,"column":50}},"52":{"start":{"line":77,"column":8},"end":{"line":77,"column":45}},"53":{"start":{"line":79,"column":4},"end":{"line":82,"column":6}},"54":{"start":{"line":80,"column":8},"end":{"line":80,"column":50}},"55":{"start":{"line":81,"column":8},"end":{"line":81,"column":41}},"56":{"start":{"line":83,"column":4},"end":{"line":85,"column":6}},"57":{"start":{"line":84,"column":8},"end":{"line":84,"column":40}},"58":{"start":{"line":86,"column":4},"end":{"line":90,"column":6}},"59":{"start":{"line":87,"column":8},"end":{"line":89,"column":11}},"60":{"start":{"line":88,"column":12},"end":{"line":88,"column":30}},"61":{"start":{"line":91,"column":4},"end":{"line":97,"column":6}},"62":{"start":{"line":92,"column":8},"end":{"line":92,"column":22}},"63":{"start":{"line":93,"column":8},"end":{"line":95,"column":11}},"64":{"start":{"line":94,"column":12},"end":{"line":94,"column":99}},"65":{"start":{"line":96,"column":8},"end":{"line":96,"column":20}},"66":{"start":{"line":98,"column":4},"end":{"line":118,"column":6}},"67":{"start":{"line":99,"column":8},"end":{"line":99,"column":36}},"68":{"start":{"line":100,"column":8},"end":{"line":100,"column":36}},"69":{"start":{"line":101,"column":8},"end":{"line":101,"column":30}},"70":{"start":{"line":102,"column":8},"end":{"line":102,"column":28}},"71":{"start":{"line":103,"column":8},"end":{"line":103,"column":30}},"72":{"start":{"line":104,"column":8},"end":{"line":106,"column":9}},"73":{"start":{"line":105,"column":12},"end":{"line":105,"column":38}},"74":{"start":{"line":107,"column":8},"end":{"line":109,"column":9}},"75":{"start":{"line":108,"column":12},"end":{"line":108,"column":36}},"76":{"start":{"line":110,"column":8},"end":{"line":110,"column":28}},"77":{"start":{"line":111,"column":8},"end":{"line":115,"column":11}},"78":{"start":{"line":112,"column":12},"end":{"line":114,"column":14}},"79":{"start":{"line":116,"column":8},"end":{"line":116,"column":32}},"80":{"start":{"line":117,"column":8},"end":{"line":117,"column":20}},"81":{"start":{"line":119,"column":4},"end":{"line":121,"column":6}},"82":{"start":{"line":120,"column":8},"end":{"line":120,"column":63}},"83":{"start":{"line":122,"column":4},"end":{"line":126,"column":6}},"84":{"start":{"line":123,"column":8},"end":{"line":123,"column":47}},"85":{"start":{"line":123,"column":32},"end":{"line":123,"column":45}},"86":{"start":{"line":124,"column":8},"end":{"line":124,"column":44}},"87":{"start":{"line":125,"column":8},"end":{"line":125,"column":63}},"88":{"start":{"line":127,"column":4},"end":{"line":153,"column":6}},"89":{"start":{"line":128,"column":8},"end":{"line":128,"column":25}},"90":{"start":{"line":129,"column":8},"end":{"line":129,"column":47}},"91":{"start":{"line":129,"column":32},"end":{"line":129,"column":45}},"92":{"start":{"line":130,"column":8},"end":{"line":130,"column":42}},"93":{"start":{"line":131,"column":8},"end":{"line":131,"column":39}},"94":{"start":{"line":132,"column":8},"end":{"line":132,"column":32}},"95":{"start":{"line":133,"column":8},"end":{"line":133,"column":30}},"96":{"start":{"line":134,"column":8},"end":{"line":134,"column":36}},"97":{"start":{"line":135,"column":8},"end":{"line":135,"column":30}},"98":{"start":{"line":136,"column":8},"end":{"line":136,"column":28}},"99":{"start":{"line":137,"column":8},"end":{"line":137,"column":34}},"100":{"start":{"line":138,"column":8},"end":{"line":138,"column":86}},"101":{"start":{"line":139,"column":8},"end":{"line":146,"column":9}},"102":{"start":{"line":140,"column":12},"end":{"line":145,"column":15}},"103":{"start":{"line":141,"column":16},"end":{"line":141,"column":52}},"104":{"start":{"line":142,"column":16},"end":{"line":142,"column":59}},"105":{"start":{"line":143,"column":16},"end":{"line":143,"column":50}},"106":{"start":{"line":144,"column":16},"end":{"line":144,"column":58}},"107":{"start":{"line":147,"column":8},"end":{"line":147,"column":96}},"108":{"start":{"line":148,"column":8},"end":{"line":148,"column":117}},"109":{"start":{"line":148,"column":71},"end":{"line":148,"column":113}},"110":{"start":{"line":149,"column":8},"end":{"line":152,"column":15}},"111":{"start":{"line":150,"column":12},"end":{"line":150,"column":36}},"112":{"start":{"line":151,"column":12},"end":{"line":151,"column":26}},"113":{"start":{"line":154,"column":4},"end":{"line":158,"column":6}},"114":{"start":{"line":155,"column":8},"end":{"line":155,"column":47}},"115":{"start":{"line":155,"column":32},"end":{"line":155,"column":45}},"116":{"start":{"line":156,"column":8},"end":{"line":156,"column":36}},"117":{"start":{"line":157,"column":8},"end":{"line":157,"column":20}},"118":{"start":{"line":159,"column":4},"end":{"line":159,"column":18}},"119":{"start":{"line":161,"column":0},"end":{"line":161,"column":24}}},"branchMap":{"1":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":33,"column":8}},{"start":{"line":33,"column":8},"end":{"line":33,"column":8}}]},"2":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":62,"column":8}},{"start":{"line":62,"column":8},"end":{"line":62,"column":8}}]},"3":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":8},"end":{"line":104,"column":8}},{"start":{"line":104,"column":8},"end":{"line":104,"column":8}}]},"4":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":8},"end":{"line":107,"column":8}},{"start":{"line":107,"column":8},"end":{"line":107,"column":8}}]},"5":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":123,"column":8}},{"start":{"line":123,"column":8},"end":{"line":123,"column":8}}]},"6":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":8},"end":{"line":129,"column":8}},{"start":{"line":129,"column":8},"end":{"line":129,"column":8}}]},"7":{"line":138,"type":"cond-expr","locations":[{"start":{"line":138,"column":53},"end":{"line":138,"column":63}},{"start":{"line":138,"column":66},"end":{"line":138,"column":84}}]},"8":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":8},"end":{"line":139,"column":8}},{"start":{"line":139,"column":8},"end":{"line":139,"column":8}}]},"9":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":8},"end":{"line":155,"column":8}},{"start":{"line":155,"column":8},"end":{"line":155,"column":8}}]}},"code":["'use strict';","var path = require('path');","var Joi = require('joi');","var typeOf = require('../../xm/typeOf');","var assertVar = require('../../xm/assertVar');","var collection = require('../../xm/collection');","var JSONStabilizer = require('../../xm/lib/JSONStabilizer');","var Const = require('../context/Const');","var InstalledDef = require('../context/InstalledDef');","var DefVersion = require('../data/DefVersion');","var DefCommit = require('../data/DefCommit');","var Def = require('../data/Def');","var tsdSchema = require('../schema/config');","var Config = (function () {","    function Config() {","        this._installed = new collection.Hash();","        this._stable = new JSONStabilizer();","        this.reset();","    }","    Config.prototype.reset = function () {","        this.path = Const.typingsDir;","        this.version = Const.configVersion;","        this.repo = Const.definitelyRepo;","        this.ref = Const.mainBranch;","        this.stats = Const.statsDefault;","        this.otherFields = {};","        this.bundle = Const.typingsDir + '/' + Const.bundleFile;","        this._installed.clear();","    };","    Config.prototype.resolveTypingsPath = function (baseDir) {","        var cfgFull = path.resolve(baseDir);","        var typings = this.path.replace(/[\\\\\\/]/g, path.sep);","        if (/^([\\\\\\/]|\\w:)/.test(this.path)) {","            return typings;","        }","        return path.resolve(cfgFull, typings);","    };","    Object.defineProperty(Config.prototype, \"repoOwner\", {","        get: function () {","            return this.repo.split('/')[0];","        },","        enumerable: true,","        configurable: true","    });","    Object.defineProperty(Config.prototype, \"repoProject\", {","        get: function () {","            return this.repo.split('/')[1];","        },","        enumerable: true,","        configurable: true","    });","    Object.defineProperty(Config.prototype, \"repoRef\", {","        get: function () {","            return this.repo + '#' + this.ref;","        },","        enumerable: true,","        configurable: true","    });","    Config.prototype.addFile = function (file) {","        assertVar(file, DefVersion, 'file');","        var def;","        if (this._installed.has(file.def.path)) {","            def = this._installed.get(file.def.path);","        }","        else {","            def = new InstalledDef(file.def.path);","        }","        def.update(file);","        this._installed.set(file.def.path, def);","    };","    Config.prototype.hasFile = function (filePath) {","        assertVar(filePath, 'string', 'filePath');","        return this._installed.has(filePath);","    };","    Config.prototype.getFile = function (filePath) {","        assertVar(filePath, 'string', 'filePath');","        return this._installed.get(filePath);","    };","    Config.prototype.removeFile = function (filePath) {","        assertVar(filePath, 'string', 'filePath');","        this._installed.delete(filePath);","    };","    Config.prototype.getInstalled = function () {","        return this._installed.values();","    };","    Config.prototype.getInstalledPaths = function () {","        return this._installed.values().map(function (value) {","            return value.path;","        });","    };","    Config.prototype.getInstalledAsDefVersionList = function () {","        var defs = [];","        this.getInstalled().forEach(function (installed) {","            defs.push(new DefVersion(new Def(installed.path), new DefCommit(installed.commitSha)));","        });","        return defs;","    };","    Config.prototype.toJSON = function () {","        var json = this.otherFields;","        json.version = this.version;","        json.repo = this.repo;","        json.ref = this.ref;","        json.path = this.path;","        if (this.bundle) {","            json.bundle = this.bundle;","        }","        if (this.stats !== Const.statsDefault) {","            json.stats = this.stats;","        }","        json.installed = {};","        this._installed.forEach(function (file) {","            json.installed[file.path] = {","                commit: file.commitSha","            };","        });","        this.validateJSON(json);","        return json;","    };","    Config.prototype.toJSONString = function () {","        return this._stable.toJSONString(this.toJSON(), false);","    };","    Config.prototype.parseJSONString = function (input, label) {","        if (label === void 0) { label = null; }","        assertVar(input, 'string', 'input');","        this.parseJSON(this._stable.parseString(input), label);","    };","    Config.prototype.parseJSON = function (json, label) {","        var _this = this;","        if (label === void 0) { label = null; }","        assertVar(json, 'object', 'json');","        this.validateJSON(json, label);","        this._installed.clear();","        this.path = json.path;","        this.version = json.version;","        this.repo = json.repo;","        this.ref = json.ref;","        this.bundle = json.bundle;","        this.stats = (typeOf.isBoolean(json.stats) ? json.stats : Const.statsDefault);","        if (json.installed) {","            Object.keys(json.installed).forEach(function (filePath) {","                var data = json.installed[filePath];","                var installed = new InstalledDef(filePath);","                installed.commitSha = data.commit;","                _this._installed.set(filePath, installed);","            });","        }","        var reservedFields = ['path', 'version', 'repo', 'ref', 'bundle', 'stats', 'installed'];","        var otherFieldKeys = Object.keys(json).filter(function (key) { return reservedFields.indexOf(key) === -1; });","        this.otherFields = otherFieldKeys.reduce(function (fields, key) {","            fields[key] = json[key];","            return fields;","        }, {});","    };","    Config.prototype.validateJSON = function (json, label) {","        if (label === void 0) { label = null; }","        Joi.assert(json, tsdSchema);","        return json;","    };","    return Config;","})();","module.exports = Config;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"30":1,"31":0,"32":0,"33":0,"34":0,"36":0,"38":1,"40":0,"45":1,"47":0,"52":1,"54":0,"59":1,"60":0,"61":0,"62":0,"63":0,"66":0,"68":0,"69":0,"71":1,"72":0,"73":0,"75":1,"76":0,"77":0,"79":1,"80":0,"81":0,"83":1,"84":0,"86":1,"87":0,"88":0,"91":1,"92":0,"93":0,"94":0,"96":0,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"107":0,"108":0,"110":0,"111":0,"112":0,"116":0,"117":0,"119":1,"120":0,"122":1,"123":0,"124":0,"125":0,"127":1,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"147":0,"148":0,"149":0,"150":0,"151":0,"154":1,"155":0,"156":0,"157":0,"159":1,"161":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/collection.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/collection.js","s":{"1":1,"2":0,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":0,"11":1,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":1,"22":0,"23":0,"24":0,"25":1,"26":0,"27":1,"28":1,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":1,"39":0,"40":0,"41":0,"42":1,"43":0,"44":1,"45":0,"46":1,"47":0,"48":1,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":1,"72":1,"73":1,"74":0,"75":0,"76":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"fnMap":{"1":{"name":"dict","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":16}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":23}}},"3":{"name":"Set","line":8,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":20}}},"4":{"name":"(anonymous_4)","line":12,"loc":{"start":{"line":12,"column":24},"end":{"line":12,"column":41}}},"5":{"name":"(anonymous_5)","line":15,"loc":{"start":{"line":15,"column":24},"end":{"line":15,"column":41}}},"6":{"name":"(anonymous_6)","line":21,"loc":{"start":{"line":21,"column":27},"end":{"line":21,"column":44}}},"7":{"name":"(anonymous_7)","line":27,"loc":{"start":{"line":27,"column":27},"end":{"line":27,"column":39}}},"8":{"name":"(anonymous_8)","line":30,"loc":{"start":{"line":30,"column":28},"end":{"line":30,"column":48}}},"9":{"name":"(anonymous_9)","line":37,"loc":{"start":{"line":37,"column":13},"end":{"line":37,"column":25}}},"10":{"name":"(anonymous_10)","line":46,"loc":{"start":{"line":46,"column":12},"end":{"line":46,"column":24}}},"11":{"name":"Hash","line":47,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":21}}},"12":{"name":"(anonymous_12)","line":51,"loc":{"start":{"line":51,"column":35},"end":{"line":51,"column":50}}},"13":{"name":"(anonymous_13)","line":56,"loc":{"start":{"line":56,"column":25},"end":{"line":56,"column":40}}},"14":{"name":"(anonymous_14)","line":59,"loc":{"start":{"line":59,"column":25},"end":{"line":59,"column":40}}},"15":{"name":"(anonymous_15)","line":65,"loc":{"start":{"line":65,"column":25},"end":{"line":65,"column":47}}},"16":{"name":"(anonymous_16)","line":68,"loc":{"start":{"line":68,"column":28},"end":{"line":68,"column":43}}},"17":{"name":"(anonymous_17)","line":71,"loc":{"start":{"line":71,"column":27},"end":{"line":71,"column":39}}},"18":{"name":"(anonymous_18)","line":74,"loc":{"start":{"line":74,"column":27},"end":{"line":74,"column":40}}},"19":{"name":"(anonymous_19)","line":79,"loc":{"start":{"line":79,"column":26},"end":{"line":79,"column":38}}},"20":{"name":"(anonymous_20)","line":86,"loc":{"start":{"line":86,"column":28},"end":{"line":86,"column":40}}},"21":{"name":"(anonymous_21)","line":93,"loc":{"start":{"line":93,"column":29},"end":{"line":93,"column":49}}},"22":{"name":"(anonymous_22)","line":101,"loc":{"start":{"line":101,"column":13},"end":{"line":101,"column":25}}},"23":{"name":"enumNames","line":114,"loc":{"start":{"line":114,"column":0},"end":{"line":114,"column":27}}},"24":{"name":"(anonymous_24)","line":115,"loc":{"start":{"line":115,"column":38},"end":{"line":115,"column":55}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":4,"column":1}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":31}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":20}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":53}},"5":{"start":{"line":7,"column":0},"end":{"line":44,"column":5}},"6":{"start":{"line":8,"column":4},"end":{"line":11,"column":5}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":23}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":28}},"9":{"start":{"line":12,"column":4},"end":{"line":14,"column":6}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":45}},"11":{"start":{"line":15,"column":4},"end":{"line":20,"column":6}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":41}},"13":{"start":{"line":17,"column":8},"end":{"line":19,"column":9}},"14":{"start":{"line":18,"column":12},"end":{"line":18,"column":34}},"15":{"start":{"line":21,"column":4},"end":{"line":26,"column":6}},"16":{"start":{"line":22,"column":8},"end":{"line":22,"column":41}},"17":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"18":{"start":{"line":24,"column":12},"end":{"line":24,"column":35}},"19":{"start":{"line":27,"column":4},"end":{"line":29,"column":6}},"20":{"start":{"line":28,"column":8},"end":{"line":28,"column":34}},"21":{"start":{"line":30,"column":4},"end":{"line":35,"column":6}},"22":{"start":{"line":31,"column":8},"end":{"line":31,"column":37}},"23":{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},"24":{"start":{"line":33,"column":12},"end":{"line":33,"column":32}},"25":{"start":{"line":36,"column":4},"end":{"line":42,"column":7}},"26":{"start":{"line":38,"column":12},"end":{"line":38,"column":36}},"27":{"start":{"line":43,"column":4},"end":{"line":43,"column":15}},"28":{"start":{"line":45,"column":0},"end":{"line":45,"column":18}},"29":{"start":{"line":46,"column":0},"end":{"line":112,"column":5}},"30":{"start":{"line":47,"column":4},"end":{"line":55,"column":5}},"31":{"start":{"line":48,"column":8},"end":{"line":48,"column":25}},"32":{"start":{"line":49,"column":8},"end":{"line":49,"column":27}},"33":{"start":{"line":50,"column":8},"end":{"line":54,"column":9}},"34":{"start":{"line":51,"column":12},"end":{"line":53,"column":15}},"35":{"start":{"line":52,"column":16},"end":{"line":52,"column":41}},"36":{"start":{"line":56,"column":4},"end":{"line":58,"column":6}},"37":{"start":{"line":57,"column":8},"end":{"line":57,"column":32}},"38":{"start":{"line":59,"column":4},"end":{"line":64,"column":6}},"39":{"start":{"line":60,"column":8},"end":{"line":62,"column":9}},"40":{"start":{"line":61,"column":12},"end":{"line":61,"column":34}},"41":{"start":{"line":63,"column":8},"end":{"line":63,"column":20}},"42":{"start":{"line":65,"column":4},"end":{"line":67,"column":6}},"43":{"start":{"line":66,"column":8},"end":{"line":66,"column":31}},"44":{"start":{"line":68,"column":4},"end":{"line":70,"column":6}},"45":{"start":{"line":69,"column":8},"end":{"line":69,"column":30}},"46":{"start":{"line":71,"column":4},"end":{"line":73,"column":6}},"47":{"start":{"line":72,"column":8},"end":{"line":72,"column":27}},"48":{"start":{"line":74,"column":4},"end":{"line":78,"column":6}},"49":{"start":{"line":75,"column":8},"end":{"line":77,"column":9}},"50":{"start":{"line":76,"column":12},"end":{"line":76,"column":36}},"51":{"start":{"line":79,"column":4},"end":{"line":85,"column":6}},"52":{"start":{"line":80,"column":8},"end":{"line":80,"column":22}},"53":{"start":{"line":81,"column":8},"end":{"line":83,"column":9}},"54":{"start":{"line":82,"column":12},"end":{"line":82,"column":27}},"55":{"start":{"line":84,"column":8},"end":{"line":84,"column":20}},"56":{"start":{"line":86,"column":4},"end":{"line":92,"column":6}},"57":{"start":{"line":87,"column":8},"end":{"line":87,"column":24}},"58":{"start":{"line":88,"column":8},"end":{"line":90,"column":9}},"59":{"start":{"line":89,"column":12},"end":{"line":89,"column":40}},"60":{"start":{"line":91,"column":8},"end":{"line":91,"column":22}},"61":{"start":{"line":93,"column":4},"end":{"line":99,"column":6}},"62":{"start":{"line":94,"column":8},"end":{"line":94,"column":30}},"63":{"start":{"line":95,"column":8},"end":{"line":98,"column":9}},"64":{"start":{"line":96,"column":12},"end":{"line":96,"column":29}},"65":{"start":{"line":97,"column":12},"end":{"line":97,"column":42}},"66":{"start":{"line":100,"column":4},"end":{"line":110,"column":7}},"67":{"start":{"line":102,"column":12},"end":{"line":102,"column":25}},"68":{"start":{"line":103,"column":12},"end":{"line":105,"column":13}},"69":{"start":{"line":104,"column":16},"end":{"line":104,"column":23}},"70":{"start":{"line":106,"column":12},"end":{"line":106,"column":24}},"71":{"start":{"line":111,"column":4},"end":{"line":111,"column":16}},"72":{"start":{"line":113,"column":0},"end":{"line":113,"column":20}},"73":{"start":{"line":114,"column":0},"end":{"line":118,"column":1}},"74":{"start":{"line":115,"column":4},"end":{"line":117,"column":7}},"75":{"start":{"line":116,"column":8},"end":{"line":116,"column":36}},"76":{"start":{"line":119,"column":0},"end":{"line":119,"column":30}}},"branchMap":{"1":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":20},"end":{"line":10,"column":21}},{"start":{"line":10,"column":25},"end":{"line":10,"column":27}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":8}},{"start":{"line":17,"column":8},"end":{"line":17,"column":8}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":23,"column":8}},{"start":{"line":23,"column":8},"end":{"line":23,"column":8}}]},"4":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":50,"column":8}},{"start":{"line":50,"column":8},"end":{"line":50,"column":8}}]},"5":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":8},"end":{"line":60,"column":8}},{"start":{"line":60,"column":8},"end":{"line":60,"column":8}}]}},"code":["'use strict';","function dict() {","    return Object.create(null);","}","exports.dict = dict;","var hasOwnProperty = Object.prototype.hasOwnProperty;","var Set = (function () {","    function Set(d) {","        this.list = [];","        this.list = d || [];","    }","    Set.prototype.has = function (value) {","        return this.list.indexOf(value) > -1;","    };","    Set.prototype.add = function (value) {","        var i = this.list.indexOf(value);","        if (i < 0) {","            this.list.push(value);","        }","    };","    Set.prototype.delete = function (value) {","        var i = this.list.indexOf(value);","        if (i > -1) {","            this.list.splice(i, 1);","        }","    };","    Set.prototype.values = function () {","        return this.list.slice(0);","    };","    Set.prototype.forEach = function (iterator) {","        var arr = this.list.slice(0);","        for (var i = 0, ii = arr.length; i < ii; i++) {","            iterator(arr[i], i);","        }","    };","    Object.defineProperty(Set.prototype, \"size\", {","        get: function () {","            return this.list.length;","        },","        enumerable: true,","        configurable: true","    });","    return Set;","})();","exports.Set = Set;","var Hash = (function () {","    function Hash(d) {","        var _this = this;","        this.dict = dict();","        if (d) {","            Object.keys(d).forEach(function (key) {","                _this.dict[key] = d[key];","            });","        }","    }","    Hash.prototype.has = function (key) {","        return key in this.dict;","    };","    Hash.prototype.get = function (key) {","        if (key in this.dict) {","            return this.dict[key];","        }","        return null;","    };","    Hash.prototype.set = function (key, value) {","        this.dict[key] = value;","    };","    Hash.prototype.delete = function (key) {","        delete this.dict[key];","    };","    Hash.prototype.clear = function () {","        this.dict = dict();","    };","    Hash.prototype.merge = function (d) {","        for (var key in d) {","            this.dict[key] = d[key];","        }","    };","    Hash.prototype.keys = function () {","        var keys = [];","        for (var key in this.dict) {","            keys.push(key);","        }","        return keys;","    };","    Hash.prototype.values = function () {","        var values = [];","        for (var key in this.dict) {","            values.push(this.dict[key]);","        }","        return values;","    };","    Hash.prototype.forEach = function (iterator) {","        var arr = this.keys();","        for (var i = 0, ii = arr.length; i < ii; i++) {","            var key = arr[i];","            iterator(this.dict[key], key);","        }","    };","    Object.defineProperty(Hash.prototype, \"size\", {","        get: function () {","            var size = 0;","            for (var key in this.dict) {","                size++;","            }","            return size;","        },","        enumerable: true,","        configurable: true","    });","    return Hash;","})();","exports.Hash = Hash;","function enumNames(enumer) {","    return Object.keys(enumer).filter(function (value) {","        return !/^\\d+$/.test(value);","    });","}","exports.enumNames = enumNames;",""],"l":{"2":1,"3":0,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"12":1,"13":0,"15":1,"16":0,"17":0,"18":0,"21":1,"22":0,"23":0,"24":0,"27":1,"28":0,"30":1,"31":0,"32":0,"33":0,"36":1,"38":0,"43":1,"45":1,"46":1,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"56":1,"57":0,"59":1,"60":0,"61":0,"63":0,"65":1,"66":0,"68":1,"69":0,"71":1,"72":0,"74":1,"75":0,"76":0,"79":1,"80":0,"81":0,"82":0,"84":0,"86":1,"87":0,"88":0,"89":0,"91":0,"93":1,"94":0,"95":0,"96":0,"97":0,"100":1,"102":0,"103":0,"104":0,"106":0,"111":1,"113":1,"114":1,"115":0,"116":0,"119":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/lib/JSONStabilizer.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/lib/JSONStabilizer.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":1,"95":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":22},"end":{"line":9,"column":34}}},"2":{"name":"JSONStabilizer","line":10,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":42}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":13},"end":{"line":20,"column":25}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":43},"end":{"line":29,"column":65}}},"5":{"name":"(anonymous_5)","line":36,"loc":{"start":{"line":36,"column":37},"end":{"line":36,"column":59}}},"6":{"name":"(anonymous_6)","line":72,"loc":{"start":{"line":72,"column":40},"end":{"line":72,"column":58}}},"7":{"name":"(anonymous_7)","line":78,"loc":{"start":{"line":78,"column":30},"end":{"line":78,"column":45}}},"8":{"name":"(anonymous_8)","line":88,"loc":{"start":{"line":88,"column":44},"end":{"line":88,"column":60}}},"9":{"name":"(anonymous_9)","line":93,"loc":{"start":{"line":93,"column":26},"end":{"line":93,"column":41}}},"10":{"name":"(anonymous_10)","line":105,"loc":{"start":{"line":105,"column":21},"end":{"line":105,"column":36}}},"11":{"name":"(anonymous_11)","line":111,"loc":{"start":{"line":111,"column":44},"end":{"line":111,"column":74}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":34}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":42}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":25}},"8":{"start":{"line":9,"column":0},"end":{"line":127,"column":5}},"9":{"start":{"line":10,"column":4},"end":{"line":18,"column":5}},"10":{"start":{"line":11,"column":8},"end":{"line":11,"column":44}},"11":{"start":{"line":11,"column":32},"end":{"line":11,"column":42}},"12":{"start":{"line":12,"column":8},"end":{"line":12,"column":47}},"13":{"start":{"line":12,"column":32},"end":{"line":12,"column":45}},"14":{"start":{"line":13,"column":8},"end":{"line":13,"column":23}},"15":{"start":{"line":14,"column":8},"end":{"line":14,"column":27}},"16":{"start":{"line":15,"column":8},"end":{"line":15,"column":46}},"17":{"start":{"line":16,"column":8},"end":{"line":16,"column":27}},"18":{"start":{"line":17,"column":8},"end":{"line":17,"column":46}},"19":{"start":{"line":19,"column":4},"end":{"line":28,"column":7}},"20":{"start":{"line":21,"column":12},"end":{"line":23,"column":13}},"21":{"start":{"line":22,"column":16},"end":{"line":22,"column":40}},"22":{"start":{"line":24,"column":12},"end":{"line":24,"column":24}},"23":{"start":{"line":29,"column":4},"end":{"line":35,"column":6}},"24":{"start":{"line":30,"column":8},"end":{"line":30,"column":51}},"25":{"start":{"line":31,"column":8},"end":{"line":31,"column":37}},"26":{"start":{"line":32,"column":8},"end":{"line":32,"column":31}},"27":{"start":{"line":33,"column":8},"end":{"line":33,"column":30}},"28":{"start":{"line":34,"column":8},"end":{"line":34,"column":22}},"29":{"start":{"line":36,"column":4},"end":{"line":71,"column":6}},"30":{"start":{"line":37,"column":8},"end":{"line":37,"column":54}},"31":{"start":{"line":38,"column":8},"end":{"line":38,"column":23}},"32":{"start":{"line":39,"column":8},"end":{"line":39,"column":23}},"33":{"start":{"line":40,"column":8},"end":{"line":40,"column":29}},"34":{"start":{"line":41,"column":8},"end":{"line":41,"column":18}},"35":{"start":{"line":42,"column":8},"end":{"line":42,"column":31}},"36":{"start":{"line":43,"column":8},"end":{"line":54,"column":9}},"37":{"start":{"line":44,"column":12},"end":{"line":44,"column":70}},"38":{"start":{"line":45,"column":12},"end":{"line":45,"column":26}},"39":{"start":{"line":46,"column":12},"end":{"line":53,"column":13}},"40":{"start":{"line":47,"column":16},"end":{"line":52,"column":17}},"41":{"start":{"line":48,"column":20},"end":{"line":48,"column":29}},"42":{"start":{"line":51,"column":20},"end":{"line":51,"column":29}},"43":{"start":{"line":55,"column":8},"end":{"line":55,"column":39}},"44":{"start":{"line":56,"column":8},"end":{"line":68,"column":9}},"45":{"start":{"line":57,"column":12},"end":{"line":57,"column":34}},"46":{"start":{"line":58,"column":12},"end":{"line":58,"column":45}},"47":{"start":{"line":59,"column":12},"end":{"line":67,"column":13}},"48":{"start":{"line":60,"column":16},"end":{"line":60,"column":46}},"49":{"start":{"line":61,"column":16},"end":{"line":66,"column":17}},"50":{"start":{"line":62,"column":20},"end":{"line":62,"column":29}},"51":{"start":{"line":65,"column":20},"end":{"line":65,"column":29}},"52":{"start":{"line":69,"column":8},"end":{"line":69,"column":59}},"53":{"start":{"line":70,"column":8},"end":{"line":70,"column":59}},"54":{"start":{"line":72,"column":4},"end":{"line":87,"column":6}},"55":{"start":{"line":73,"column":8},"end":{"line":73,"column":25}},"56":{"start":{"line":74,"column":8},"end":{"line":74,"column":46}},"57":{"start":{"line":75,"column":8},"end":{"line":75,"column":40}},"58":{"start":{"line":76,"column":8},"end":{"line":76,"column":46}},"59":{"start":{"line":77,"column":8},"end":{"line":86,"column":9}},"60":{"start":{"line":78,"column":12},"end":{"line":85,"column":15}},"61":{"start":{"line":79,"column":16},"end":{"line":84,"column":17}},"62":{"start":{"line":80,"column":20},"end":{"line":80,"column":68}},"63":{"start":{"line":81,"column":20},"end":{"line":81,"column":41}},"64":{"start":{"line":82,"column":20},"end":{"line":82,"column":48}},"65":{"start":{"line":83,"column":20},"end":{"line":83,"column":48}},"66":{"start":{"line":88,"column":4},"end":{"line":110,"column":6}},"67":{"start":{"line":89,"column":8},"end":{"line":89,"column":25}},"68":{"start":{"line":90,"column":8},"end":{"line":90,"column":42}},"69":{"start":{"line":91,"column":8},"end":{"line":91,"column":21}},"70":{"start":{"line":92,"column":8},"end":{"line":92,"column":37}},"71":{"start":{"line":93,"column":8},"end":{"line":104,"column":11}},"72":{"start":{"line":94,"column":12},"end":{"line":94,"column":38}},"73":{"start":{"line":95,"column":12},"end":{"line":103,"column":13}},"74":{"start":{"line":96,"column":16},"end":{"line":96,"column":34}},"75":{"start":{"line":97,"column":16},"end":{"line":102,"column":17}},"76":{"start":{"line":98,"column":20},"end":{"line":98,"column":75}},"77":{"start":{"line":101,"column":20},"end":{"line":101,"column":41}},"78":{"start":{"line":105,"column":8},"end":{"line":108,"column":11}},"79":{"start":{"line":106,"column":12},"end":{"line":106,"column":33}},"80":{"start":{"line":107,"column":12},"end":{"line":107,"column":33}},"81":{"start":{"line":109,"column":8},"end":{"line":109,"column":19}},"82":{"start":{"line":111,"column":4},"end":{"line":125,"column":6}},"83":{"start":{"line":112,"column":8},"end":{"line":112,"column":62}},"84":{"start":{"line":112,"column":39},"end":{"line":112,"column":60}},"85":{"start":{"line":113,"column":8},"end":{"line":113,"column":42}},"86":{"start":{"line":114,"column":8},"end":{"line":116,"column":9}},"87":{"start":{"line":115,"column":12},"end":{"line":115,"column":43}},"88":{"start":{"line":117,"column":8},"end":{"line":117,"column":64}},"89":{"start":{"line":118,"column":8},"end":{"line":120,"column":9}},"90":{"start":{"line":119,"column":12},"end":{"line":119,"column":56}},"91":{"start":{"line":121,"column":8},"end":{"line":123,"column":9}},"92":{"start":{"line":122,"column":12},"end":{"line":122,"column":34}},"93":{"start":{"line":124,"column":8},"end":{"line":124,"column":19}},"94":{"start":{"line":126,"column":4},"end":{"line":126,"column":26}},"95":{"start":{"line":128,"column":0},"end":{"line":128,"column":32}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":11,"column":8}},{"start":{"line":11,"column":8},"end":{"line":11,"column":8}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":12,"column":8}},{"start":{"line":12,"column":8},"end":{"line":12,"column":8}}]},"3":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":21},"end":{"line":17,"column":26}},{"start":{"line":17,"column":30},"end":{"line":17,"column":45}}]},"4":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":12},"end":{"line":21,"column":12}},{"start":{"line":21,"column":12},"end":{"line":21,"column":12}}]},"5":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":15},"end":{"line":43,"column":30}},{"start":{"line":43,"column":35},"end":{"line":43,"column":68}}]},"6":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":48},"end":{"line":44,"column":63}},{"start":{"line":44,"column":67},"end":{"line":44,"column":68}}]},"7":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":12},"end":{"line":46,"column":12}},{"start":{"line":46,"column":12},"end":{"line":46,"column":12}}]},"8":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":16},"end":{"line":47,"column":16}},{"start":{"line":47,"column":16},"end":{"line":47,"column":16}}]},"9":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":8},"end":{"line":56,"column":8}},{"start":{"line":56,"column":8},"end":{"line":56,"column":8}}]},"10":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":12},"end":{"line":59,"column":12}},{"start":{"line":59,"column":12},"end":{"line":59,"column":12}}]},"11":{"line":59,"type":"binary-expr","locations":[{"start":{"line":59,"column":16},"end":{"line":59,"column":21}},{"start":{"line":59,"column":25},"end":{"line":59,"column":44}}]},"12":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":16},"end":{"line":61,"column":16}},{"start":{"line":61,"column":16},"end":{"line":61,"column":16}}]},"13":{"line":70,"type":"cond-expr","locations":[{"start":{"line":70,"column":44},"end":{"line":70,"column":50}},{"start":{"line":70,"column":53},"end":{"line":70,"column":57}}]},"14":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":8},"end":{"line":77,"column":8}},{"start":{"line":77,"column":8},"end":{"line":77,"column":8}}]},"15":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":16},"end":{"line":79,"column":16}},{"start":{"line":79,"column":16},"end":{"line":79,"column":16}}]},"16":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":12},"end":{"line":95,"column":12}},{"start":{"line":95,"column":12},"end":{"line":95,"column":12}}]},"17":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":16},"end":{"line":97,"column":16}},{"start":{"line":97,"column":16},"end":{"line":97,"column":16}}]},"18":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":20},"end":{"line":97,"column":41}},{"start":{"line":97,"column":45},"end":{"line":97,"column":71}}]},"19":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":8},"end":{"line":112,"column":8}},{"start":{"line":112,"column":8},"end":{"line":112,"column":8}}]},"20":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"21":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":8},"end":{"line":118,"column":8}},{"start":{"line":118,"column":8},"end":{"line":118,"column":8}}]},"22":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":8},"end":{"line":121,"column":8}},{"start":{"line":121,"column":8},"end":{"line":121,"column":8}}]}},"code":["'use strict';","var detectIndent = require('detect-indent');","var CodeStyle = require('../lib/CodeStyle');","var collection = require('../collection');","var assertVar = require('../assertVar');","var typeOf = require('../typeOf');","var sniffExp = /([ \\t]*).*((?:\\r?\\n)|$)/g;","var lastEnd = /(\\r?\\n)$/;","var JSONStabilizer = (function () {","    function JSONStabilizer(depth, style) {","        if (depth === void 0) { depth = 2; }","        if (style === void 0) { style = null; }","        this.keys = [];","        this.parent = null;","        this.children = new collection.Hash();","        this.depth = depth;","        this.style = style || new CodeStyle();","    }","    Object.defineProperty(JSONStabilizer.prototype, \"root\", {","        get: function () {","            if (this.parent) {","                return this.parent.root;","            }","            return this;","        },","        enumerable: true,","        configurable: true","    });","    JSONStabilizer.prototype.parseString = function (jsonString) {","        var object = JSON.parse(jsonString.trim());","        this.style = new CodeStyle();","        this.sniff(jsonString);","        this.snapshot(object);","        return object;","    };","    JSONStabilizer.prototype.sniff = function (jsonString) {","        assertVar(jsonString, 'string', 'jsonString');","        var eolWin = 0;","        var eolNix = 0;","        var sampleLines = 10;","        var match;","        sniffExp.lastIndex = 0;","        while (sampleLines > 0 && (match = sniffExp.exec(jsonString))) {","            sniffExp.lastIndex = match.index + (match[0].length || 1);","            sampleLines--;","            if (match[2].length > 0) {","                if (match[2] === '\\r\\n') {","                    eolWin++;","                }","                else {","                    eolNix++;","                }","            }","        }","        this.style.trailingEOL = false;","        if (jsonString.length > 2) {","            lastEnd.lastIndex = 0;","            match = lastEnd.exec(jsonString);","            if (match && match[1].length > 0) {","                this.style.trailingEOL = true;","                if (match[1] === '\\r\\n') {","                    eolWin++;","                }","                else {","                    eolNix++;","                }","            }","        }","        this.style.indent = detectIndent(jsonString, '  ');","        this.style.eol = (eolWin > eolNix ? '\\r\\n' : '\\n');","    };","    JSONStabilizer.prototype.snapshot = function (object) {","        var _this = this;","        assertVar(object, 'object', 'object');","        this.keys = Object.keys(object);","        this.children = new collection.Hash();","        if (this.depth > 0) {","            this.keys.forEach(function (key) {","                if (typeOf.isObject(object[key])) {","                    var child = new JSONStabilizer(_this.depth - 1);","                    child.parent = _this;","                    _this.children[key] = child;","                    child.snapshot(object[key]);","                }","            });","        }","    };","    JSONStabilizer.prototype.getStablized = function (json) {","        var _this = this;","        assertVar(json, 'object', 'json');","        var ret = {};","        var have = Object.keys(json);","        this.keys.forEach(function (key) {","            var i = have.indexOf(key);","            if (i > -1) {","                have.splice(i, 1);","                if (key in _this.children && typeOf.isObject(json[key])) {","                    ret[key] = _this.children[key].getStablized(json[key]);","                }","                else {","                    ret[key] = json[key];","                }","            }","        });","        have.forEach(function (key) {","            _this.keys.push(key);","            ret[key] = json[key];","        });","        return ret;","    };","    JSONStabilizer.prototype.toJSONString = function (json, assumeStable) {","        if (assumeStable === void 0) { assumeStable = false; }","        assertVar(json, 'object', 'json');","        if (!assumeStable) {","            json = this.getStablized(json);","        }","        var str = JSON.stringify(json, null, this.style.indent);","        if (this.style.eol !== '\\n') {","            str = str.replace(/\\r?\\n/g, this.style.eol);","        }","        if (this.style.trailingEOL) {","            str += this.style.eol;","        }","        return str;","    };","    return JSONStabilizer;","})();","module.exports = JSONStabilizer;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"19":1,"21":0,"22":0,"24":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"51":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"65":0,"69":0,"70":0,"72":1,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"88":1,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"101":0,"105":0,"106":0,"107":0,"109":0,"111":1,"112":0,"113":0,"114":0,"115":0,"117":0,"118":0,"119":0,"121":0,"122":0,"124":0,"126":1,"128":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/lib/CodeStyle.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/lib/CodeStyle.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1},"b":{},"f":{"1":1,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":29}}},"2":{"name":"CodeStyle","line":3,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":25}}},"3":{"name":"(anonymous_3)","line":8,"loc":{"start":{"line":8,"column":32},"end":{"line":8,"column":44}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":16,"column":5}},"2":{"start":{"line":3,"column":4},"end":{"line":7,"column":5}},"3":{"start":{"line":4,"column":8},"end":{"line":4,"column":24}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":32}},"6":{"start":{"line":8,"column":4},"end":{"line":14,"column":6}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":36}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":29}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":35}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":45}},"11":{"start":{"line":13,"column":8},"end":{"line":13,"column":21}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":21}},"13":{"start":{"line":17,"column":0},"end":{"line":17,"column":27}}},"branchMap":{},"code":["'use strict';","var CodeStyle = (function () {","    function CodeStyle() {","        this.eol = '\\n';","        this.indent = '  ';","        this.trailingEOL = true;","    }","    CodeStyle.prototype.clone = function () {","        var style = new CodeStyle();","        style.eol = this.eol;","        style.indent = this.indent;","        style.trailingEOL = this.trailingEOL;","        return style;","    };","    return CodeStyle;","})();","module.exports = CodeStyle;",""],"l":{"2":1,"3":1,"4":0,"5":0,"6":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"15":1,"17":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/context/Const.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/context/Const.js","s":{"1":1,"2":1,"3":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":15,"column":2}},"2":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}},"3":{"start":{"line":17,"column":0},"end":{"line":17,"column":23}}},"branchMap":{},"code":["'use strict';","var Const = {","    rc: '.tsdrc',","    ident: 'tsd',","    configFile: 'tsd.json',","    typingsDir: 'typings',","    cacheDir: 'tsd-cache',","    bundleFile: 'tsd.d.ts',","    settings: 'settings.json',","    configVersion: 'v4',","    definitelyRepo: 'borisyankov/DefinitelyTyped',","    mainBranch: 'master',","    statsDefault: true,","    shaShorten: 6","};","Object.freeze(Const);","module.exports = Const;",""],"l":{"2":1,"16":1,"17":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/context/InstalledDef.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/context/InstalledDef.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":1,"18":1},"b":{"1":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":32}}},"2":{"name":"InstalledDef","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":32}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":36},"end":{"line":12,"column":52}}},"4":{"name":"(anonymous_4)","line":19,"loc":{"start":{"line":19,"column":38},"end":{"line":19,"column":50}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":46}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":47}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"4":{"start":{"line":5,"column":0},"end":{"line":23,"column":5}},"5":{"start":{"line":6,"column":4},"end":{"line":11,"column":5}},"6":{"start":{"line":7,"column":8},"end":{"line":10,"column":9}},"7":{"start":{"line":8,"column":12},"end":{"line":8,"column":46}},"8":{"start":{"line":9,"column":12},"end":{"line":9,"column":29}},"9":{"start":{"line":12,"column":4},"end":{"line":18,"column":6}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":44}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":52}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":63}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":34}},"14":{"start":{"line":17,"column":8},"end":{"line":17,"column":47}},"15":{"start":{"line":19,"column":4},"end":{"line":21,"column":6}},"16":{"start":{"line":20,"column":8},"end":{"line":20,"column":25}},"17":{"start":{"line":22,"column":4},"end":{"line":22,"column":24}},"18":{"start":{"line":24,"column":0},"end":{"line":24,"column":30}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":7,"column":8}},{"start":{"line":7,"column":8},"end":{"line":7,"column":8}}]}},"code":["'use strict';","var assertVar = require('../../xm/assertVar');","var DefVersion = require('../data/DefVersion');","var DefCommit = require('../data/DefCommit');","var InstalledDef = (function () {","    function InstalledDef(path) {","        if (path) {","            assertVar(path, 'string', 'path');","            this.path = path;","        }","    }","    InstalledDef.prototype.update = function (file) {","        assertVar(file, DefVersion, 'file');","        assertVar(file.commit, DefCommit, 'commit');","        assertVar(file.commit.commitSha, 'sha1', 'commit.sha');","        this.path = file.def.path;","        this.commitSha = file.commit.commitSha;","    };","    InstalledDef.prototype.toString = function () {","        return this.path;","    };","    return InstalledDef;","})();","module.exports = InstalledDef;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"19":1,"20":0,"22":1,"24":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/DefVersion.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/DefVersion.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":1,"30":0,"31":1,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":18},"end":{"line":8,"column":30}}},"2":{"name":"DefVersion","line":9,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":37}}},"3":{"name":"(anonymous_3)","line":22,"loc":{"start":{"line":22,"column":35},"end":{"line":22,"column":50}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":13},"end":{"line":30,"column":25}}},"5":{"name":"(anonymous_5)","line":40,"loc":{"start":{"line":40,"column":13},"end":{"line":40,"column":25}}},"6":{"name":"(anonymous_6)","line":47,"loc":{"start":{"line":47,"column":13},"end":{"line":47,"column":25}}},"7":{"name":"(anonymous_7)","line":53,"loc":{"start":{"line":53,"column":36},"end":{"line":53,"column":48}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":39}},"7":{"start":{"line":8,"column":0},"end":{"line":61,"column":5}},"8":{"start":{"line":9,"column":4},"end":{"line":21,"column":5}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":24}},"10":{"start":{"line":11,"column":8},"end":{"line":11,"column":27}},"11":{"start":{"line":12,"column":8},"end":{"line":12,"column":29}},"12":{"start":{"line":13,"column":8},"end":{"line":13,"column":31}},"13":{"start":{"line":14,"column":8},"end":{"line":14,"column":28}},"14":{"start":{"line":15,"column":8},"end":{"line":15,"column":25}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":35}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":47}},"17":{"start":{"line":18,"column":8},"end":{"line":18,"column":23}},"18":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"19":{"start":{"line":20,"column":8},"end":{"line":20,"column":55}},"20":{"start":{"line":22,"column":4},"end":{"line":28,"column":6}},"21":{"start":{"line":23,"column":8},"end":{"line":23,"column":39}},"22":{"start":{"line":24,"column":8},"end":{"line":26,"column":9}},"23":{"start":{"line":25,"column":12},"end":{"line":25,"column":84}},"24":{"start":{"line":27,"column":8},"end":{"line":27,"column":28}},"25":{"start":{"line":29,"column":4},"end":{"line":38,"column":7}},"26":{"start":{"line":31,"column":12},"end":{"line":33,"column":13}},"27":{"start":{"line":32,"column":16},"end":{"line":32,"column":28}},"28":{"start":{"line":34,"column":12},"end":{"line":34,"column":63}},"29":{"start":{"line":39,"column":4},"end":{"line":45,"column":7}},"30":{"start":{"line":41,"column":12},"end":{"line":41,"column":33}},"31":{"start":{"line":46,"column":4},"end":{"line":52,"column":7}},"32":{"start":{"line":48,"column":12},"end":{"line":48,"column":80}},"33":{"start":{"line":53,"column":4},"end":{"line":59,"column":6}},"34":{"start":{"line":54,"column":8},"end":{"line":54,"column":21}},"35":{"start":{"line":55,"column":8},"end":{"line":55,"column":55}},"36":{"start":{"line":56,"column":8},"end":{"line":56,"column":79}},"37":{"start":{"line":57,"column":8},"end":{"line":57,"column":73}},"38":{"start":{"line":58,"column":8},"end":{"line":58,"column":19}},"39":{"start":{"line":60,"column":4},"end":{"line":60,"column":22}},"40":{"start":{"line":62,"column":0},"end":{"line":62,"column":28}}},"branchMap":{"1":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":8}},{"start":{"line":24,"column":8},"end":{"line":24,"column":8}}]},"2":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":12},"end":{"line":24,"column":25}},{"start":{"line":24,"column":29},"end":{"line":24,"column":50}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":31,"column":12}},{"start":{"line":31,"column":12},"end":{"line":31,"column":12}}]},"4":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":16},"end":{"line":31,"column":25}},{"start":{"line":31,"column":29},"end":{"line":31,"column":41}}]},"5":{"line":48,"type":"cond-expr","locations":[{"start":{"line":48,"column":35},"end":{"line":48,"column":66}},{"start":{"line":48,"column":69},"end":{"line":48,"column":79}}]},"6":{"line":55,"type":"cond-expr","locations":[{"start":{"line":55,"column":27},"end":{"line":55,"column":40}},{"start":{"line":55,"column":43},"end":{"line":55,"column":53}}]},"7":{"line":56,"type":"cond-expr","locations":[{"start":{"line":56,"column":38},"end":{"line":56,"column":61}},{"start":{"line":56,"column":64},"end":{"line":56,"column":77}}]},"8":{"line":57,"type":"cond-expr","locations":[{"start":{"line":57,"column":40},"end":{"line":57,"column":57}},{"start":{"line":57,"column":60},"end":{"line":57,"column":71}}]}},"code":["'use strict';","var VError = require('verror');","var assertVar = require('../../xm/assertVar');","var objectUtils = require('../../xm/objectUtils');","var defUtil = require('../util/defUtil');","var Def = require('./Def');","var DefCommit = require('./DefCommit');","var DefVersion = (function () {","    function DefVersion(def, commit) {","        this.def = null;","        this.commit = null;","        this._blobSha = null;","        this.dependencies = [];","        this.solved = false;","        this.info = null;","        assertVar(def, Def, 'def');","        assertVar(commit, DefCommit, 'commit');","        this.def = def;","        this.commit = commit;","        objectUtils.lockProps(this, ['def', 'commit']);","    }","    DefVersion.prototype.setBlob = function (sha) {","        assertVar(sha, 'sha1', 'blob');","        if (this._blobSha && this._blobSha !== sha) {","            throw new VError('already got a blob but %s != %s', this._blobSha, sha);","        }","        this._blobSha = sha;","    };","    Object.defineProperty(DefVersion.prototype, \"key\", {","        get: function () {","            if (!this.def || !this.commit) {","                return null;","            }","            return this.def.path + '-' + this.commit.commitSha;","        },","        enumerable: true,","        configurable: true","    });","    Object.defineProperty(DefVersion.prototype, \"blobSha\", {","        get: function () {","            return this._blobSha;","        },","        enumerable: true,","        configurable: true","    });","    Object.defineProperty(DefVersion.prototype, \"blobShaShort\", {","        get: function () {","            return this._blobSha ? defUtil.shaShort(this._blobSha) : '<no sha>';","        },","        enumerable: true,","        configurable: true","    });","    DefVersion.prototype.toString = function () {","        var str = '';","        str += (this.def ? this.def.path : '<no def>');","        str += ' : ' + (this.commit ? this.commit.commitShort : '<no commit>');","        str += ' : ' + (this._blobSha ? this.blobShaShort : '<no blob>');","        return str;","    };","    return DefVersion;","})();","module.exports = DefVersion;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"22":1,"23":0,"24":0,"25":0,"27":0,"29":1,"31":0,"32":0,"34":0,"39":1,"41":0,"46":1,"48":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"60":1,"62":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/objectUtils.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/objectUtils.js","s":{"1":1,"2":1,"3":0,"4":1,"5":1,"6":0,"7":0,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"defineProp","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}}},"2":{"name":"defineProps","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}}},"3":{"name":"(anonymous_3)","line":8,"loc":{"start":{"line":8,"column":26},"end":{"line":8,"column":46}}},"4":{"name":"lockProps","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":43}}},"5":{"name":"(anonymous_5)","line":16,"loc":{"start":{"line":16,"column":36},"end":{"line":16,"column":56}}},"6":{"name":"(anonymous_6)","line":21,"loc":{"start":{"line":21,"column":22},"end":{"line":21,"column":42}}},"7":{"name":"lockPrimitives","line":29,"loc":{"start":{"line":29,"column":0},"end":{"line":29,"column":32}}},"8":{"name":"(anonymous_8)","line":30,"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":52}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"2":{"start":{"line":3,"column":0},"end":{"line":5,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":54}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":32}},"5":{"start":{"line":7,"column":0},"end":{"line":11,"column":1}},"6":{"start":{"line":8,"column":4},"end":{"line":10,"column":7}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":47}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":34}},"9":{"start":{"line":13,"column":0},"end":{"line":27,"column":1}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":47}},"11":{"start":{"line":14,"column":30},"end":{"line":14,"column":45}},"12":{"start":{"line":15,"column":4},"end":{"line":26,"column":5}},"13":{"start":{"line":16,"column":8},"end":{"line":18,"column":11}},"14":{"start":{"line":17,"column":12},"end":{"line":17,"column":73}},"15":{"start":{"line":21,"column":8},"end":{"line":25,"column":11}},"16":{"start":{"line":22,"column":12},"end":{"line":24,"column":13}},"17":{"start":{"line":23,"column":16},"end":{"line":23,"column":77}},"18":{"start":{"line":28,"column":0},"end":{"line":28,"column":30}},"19":{"start":{"line":29,"column":0},"end":{"line":35,"column":1}},"20":{"start":{"line":30,"column":4},"end":{"line":34,"column":7}},"21":{"start":{"line":31,"column":8},"end":{"line":33,"column":9}},"22":{"start":{"line":32,"column":12},"end":{"line":32,"column":73}},"23":{"start":{"line":36,"column":0},"end":{"line":36,"column":40}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"2":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":12}},{"start":{"line":22,"column":12},"end":{"line":22,"column":12}}]},"4":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":16},"end":{"line":22,"column":24}},{"start":{"line":22,"column":28},"end":{"line":22,"column":63}}]},"5":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":8}},{"start":{"line":31,"column":8},"end":{"line":31,"column":8}}]}},"code":["'use strict';","var typeOf = require('./typeOf');","function defineProp(object, property, settings) {","    Object.defineProperty(object, property, settings);","}","exports.defineProp = defineProp;","function defineProps(object, propertyNames, settings) {","    propertyNames.forEach(function (property) {","        defineProp(object, property, settings);","    });","}","exports.defineProps = defineProps;","function lockProps(object, props, ownOnly) {","    if (ownOnly === void 0) { ownOnly = true; }","    if (!props) {","        Object.keys(object).forEach(function (property) {","            Object.defineProperty(object, property, { writable: false });","        });","    }","    else {","        props.forEach(function (property) {","            if (!ownOnly || typeOf.hasOwnProp(object, property)) {","                Object.defineProperty(object, property, { writable: false });","            }","        });","    }","}","exports.lockProps = lockProps;","function lockPrimitives(object) {","    Object.keys(object).forEach(function (property) {","        if (typeOf.isPrimitive(object[property])) {","            Object.defineProperty(object, property, { writable: false });","        }","    });","}","exports.lockPrimitives = lockPrimitives;",""],"l":{"2":1,"3":1,"4":0,"6":1,"7":1,"8":0,"9":0,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"21":0,"22":0,"23":0,"28":1,"29":1,"30":0,"31":0,"32":0,"36":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/util/defUtil.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/util/defUtil.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":1,"11":1,"12":0,"13":0,"14":1,"15":1,"16":0,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":1,"50":0,"51":0,"52":1,"53":1,"54":0,"55":0,"56":1,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":1,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":1,"90":1,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":1,"102":1,"103":0,"104":0,"105":0,"106":0,"107":0,"108":1,"109":1,"110":0,"111":0,"112":0,"113":0,"114":0,"115":1,"116":1,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":1,"125":1,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":1,"134":1,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":1,"142":1,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":1,"157":1,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":1,"168":1,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":1,"179":1,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},"fnMap":{"1":{"name":"shaShort","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":23}}},"2":{"name":"getDefs","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":23}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":20},"end":{"line":15,"column":35}}},"4":{"name":"getHeads","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":24}}},"5":{"name":"(anonymous_5)","line":21,"loc":{"start":{"line":21,"column":20},"end":{"line":21,"column":35}}},"6":{"name":"getHistoryTop","line":26,"loc":{"start":{"line":26,"column":0},"end":{"line":26,"column":29}}},"7":{"name":"(anonymous_7)","line":27,"loc":{"start":{"line":27,"column":20},"end":{"line":27,"column":35}}},"8":{"name":"getHistoryBottom","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":38,"column":32}}},"9":{"name":"(anonymous_9)","line":39,"loc":{"start":{"line":39,"column":20},"end":{"line":39,"column":35}}},"10":{"name":"getLatest","line":50,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":25}}},"11":{"name":"getRecent","line":60,"loc":{"start":{"line":60,"column":0},"end":{"line":60,"column":25}}},"12":{"name":"getPaths","line":70,"loc":{"start":{"line":70,"column":0},"end":{"line":70,"column":24}}},"13":{"name":"(anonymous_13)","line":71,"loc":{"start":{"line":71,"column":20},"end":{"line":71,"column":35}}},"14":{"name":"getPathsOf","line":76,"loc":{"start":{"line":76,"column":0},"end":{"line":76,"column":26}}},"15":{"name":"(anonymous_15)","line":77,"loc":{"start":{"line":77,"column":20},"end":{"line":77,"column":36}}},"16":{"name":"uniqueDefVersion","line":82,"loc":{"start":{"line":82,"column":0},"end":{"line":82,"column":32}}},"17":{"name":"uniqueDefs","line":96,"loc":{"start":{"line":96,"column":0},"end":{"line":96,"column":26}}},"18":{"name":"extractReferenceTags","line":110,"loc":{"start":{"line":110,"column":0},"end":{"line":110,"column":38}}},"19":{"name":"extractExternals","line":126,"loc":{"start":{"line":126,"column":0},"end":{"line":126,"column":34}}},"20":{"name":"contains","line":141,"loc":{"start":{"line":141,"column":0},"end":{"line":141,"column":30}}},"21":{"name":"containsDef","line":151,"loc":{"start":{"line":151,"column":0},"end":{"line":151,"column":32}}},"22":{"name":"mergeDependencies","line":161,"loc":{"start":{"line":161,"column":0},"end":{"line":161,"column":41}}},"23":{"name":"mergeDependenciesOf","line":173,"loc":{"start":{"line":173,"column":0},"end":{"line":173,"column":43}}},"24":{"name":"matchCommit","line":185,"loc":{"start":{"line":185,"column":0},"end":{"line":185,"column":38}}},"25":{"name":"fileCompare","line":196,"loc":{"start":{"line":196,"column":0},"end":{"line":196,"column":29}}},"26":{"name":"defCompare","line":218,"loc":{"start":{"line":218,"column":0},"end":{"line":218,"column":28}}},"27":{"name":"defSemverCompare","line":234,"loc":{"start":{"line":234,"column":0},"end":{"line":234,"column":34}}},"28":{"name":"fileCommitCompare","line":250,"loc":{"start":{"line":250,"column":0},"end":{"line":250,"column":35}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":79}},"6":{"start":{"line":7,"column":0},"end":{"line":12,"column":1}},"7":{"start":{"line":8,"column":4},"end":{"line":10,"column":5}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":26}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":43}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":28}},"11":{"start":{"line":14,"column":0},"end":{"line":18,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":17,"column":7}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":23}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":26}},"15":{"start":{"line":20,"column":0},"end":{"line":24,"column":1}},"16":{"start":{"line":21,"column":4},"end":{"line":23,"column":7}},"17":{"start":{"line":22,"column":8},"end":{"line":22,"column":24}},"18":{"start":{"line":25,"column":0},"end":{"line":25,"column":28}},"19":{"start":{"line":26,"column":0},"end":{"line":36,"column":1}},"20":{"start":{"line":27,"column":4},"end":{"line":35,"column":7}},"21":{"start":{"line":28,"column":8},"end":{"line":33,"column":9}},"22":{"start":{"line":29,"column":12},"end":{"line":29,"column":34}},"23":{"start":{"line":31,"column":13},"end":{"line":33,"column":9}},"24":{"start":{"line":32,"column":12},"end":{"line":32,"column":52}},"25":{"start":{"line":34,"column":8},"end":{"line":34,"column":24}},"26":{"start":{"line":37,"column":0},"end":{"line":37,"column":38}},"27":{"start":{"line":38,"column":0},"end":{"line":48,"column":1}},"28":{"start":{"line":39,"column":4},"end":{"line":47,"column":7}},"29":{"start":{"line":40,"column":8},"end":{"line":45,"column":9}},"30":{"start":{"line":41,"column":12},"end":{"line":41,"column":34}},"31":{"start":{"line":43,"column":13},"end":{"line":45,"column":9}},"32":{"start":{"line":44,"column":12},"end":{"line":44,"column":73}},"33":{"start":{"line":46,"column":8},"end":{"line":46,"column":24}},"34":{"start":{"line":49,"column":0},"end":{"line":49,"column":44}},"35":{"start":{"line":50,"column":0},"end":{"line":58,"column":1}},"36":{"start":{"line":51,"column":4},"end":{"line":56,"column":5}},"37":{"start":{"line":52,"column":8},"end":{"line":52,"column":23}},"38":{"start":{"line":54,"column":9},"end":{"line":56,"column":5}},"39":{"start":{"line":55,"column":8},"end":{"line":55,"column":41}},"40":{"start":{"line":57,"column":4},"end":{"line":57,"column":16}},"41":{"start":{"line":59,"column":0},"end":{"line":59,"column":30}},"42":{"start":{"line":60,"column":0},"end":{"line":68,"column":1}},"43":{"start":{"line":61,"column":4},"end":{"line":66,"column":5}},"44":{"start":{"line":62,"column":8},"end":{"line":62,"column":23}},"45":{"start":{"line":64,"column":9},"end":{"line":66,"column":5}},"46":{"start":{"line":65,"column":8},"end":{"line":65,"column":55}},"47":{"start":{"line":67,"column":4},"end":{"line":67,"column":16}},"48":{"start":{"line":69,"column":0},"end":{"line":69,"column":30}},"49":{"start":{"line":70,"column":0},"end":{"line":74,"column":1}},"50":{"start":{"line":71,"column":4},"end":{"line":73,"column":7}},"51":{"start":{"line":72,"column":8},"end":{"line":72,"column":24}},"52":{"start":{"line":75,"column":0},"end":{"line":75,"column":28}},"53":{"start":{"line":76,"column":0},"end":{"line":80,"column":1}},"54":{"start":{"line":77,"column":4},"end":{"line":79,"column":7}},"55":{"start":{"line":78,"column":8},"end":{"line":78,"column":29}},"56":{"start":{"line":81,"column":0},"end":{"line":81,"column":32}},"57":{"start":{"line":82,"column":0},"end":{"line":94,"column":1}},"58":{"start":{"line":83,"column":4},"end":{"line":83,"column":17}},"59":{"start":{"line":84,"column":4},"end":{"line":92,"column":5}},"60":{"start":{"line":84,"column":11},"end":{"line":92,"column":5}},"61":{"start":{"line":85,"column":8},"end":{"line":85,"column":28}},"62":{"start":{"line":86,"column":8},"end":{"line":90,"column":9}},"63":{"start":{"line":87,"column":12},"end":{"line":89,"column":13}},"64":{"start":{"line":88,"column":16},"end":{"line":88,"column":31}},"65":{"start":{"line":91,"column":8},"end":{"line":91,"column":24}},"66":{"start":{"line":93,"column":4},"end":{"line":93,"column":15}},"67":{"start":{"line":95,"column":0},"end":{"line":95,"column":44}},"68":{"start":{"line":96,"column":0},"end":{"line":108,"column":1}},"69":{"start":{"line":97,"column":4},"end":{"line":97,"column":17}},"70":{"start":{"line":98,"column":4},"end":{"line":106,"column":5}},"71":{"start":{"line":98,"column":11},"end":{"line":106,"column":5}},"72":{"start":{"line":99,"column":8},"end":{"line":99,"column":28}},"73":{"start":{"line":100,"column":8},"end":{"line":104,"column":9}},"74":{"start":{"line":101,"column":12},"end":{"line":103,"column":13}},"75":{"start":{"line":102,"column":16},"end":{"line":102,"column":31}},"76":{"start":{"line":105,"column":8},"end":{"line":105,"column":24}},"77":{"start":{"line":107,"column":4},"end":{"line":107,"column":15}},"78":{"start":{"line":109,"column":0},"end":{"line":109,"column":32}},"79":{"start":{"line":110,"column":0},"end":{"line":123,"column":1}},"80":{"start":{"line":111,"column":4},"end":{"line":111,"column":17}},"81":{"start":{"line":112,"column":4},"end":{"line":112,"column":14}},"82":{"start":{"line":113,"column":4},"end":{"line":115,"column":5}},"83":{"start":{"line":114,"column":8},"end":{"line":114,"column":73}},"84":{"start":{"line":116,"column":4},"end":{"line":116,"column":34}},"85":{"start":{"line":117,"column":4},"end":{"line":121,"column":5}},"86":{"start":{"line":118,"column":8},"end":{"line":120,"column":9}},"87":{"start":{"line":119,"column":12},"end":{"line":119,"column":31}},"88":{"start":{"line":122,"column":4},"end":{"line":122,"column":15}},"89":{"start":{"line":124,"column":0},"end":{"line":124,"column":52}},"90":{"start":{"line":125,"column":0},"end":{"line":125,"column":70}},"91":{"start":{"line":126,"column":0},"end":{"line":139,"column":1}},"92":{"start":{"line":127,"column":4},"end":{"line":127,"column":17}},"93":{"start":{"line":128,"column":4},"end":{"line":128,"column":14}},"94":{"start":{"line":129,"column":4},"end":{"line":131,"column":5}},"95":{"start":{"line":130,"column":8},"end":{"line":130,"column":73}},"96":{"start":{"line":132,"column":4},"end":{"line":132,"column":34}},"97":{"start":{"line":133,"column":4},"end":{"line":137,"column":5}},"98":{"start":{"line":134,"column":8},"end":{"line":136,"column":9}},"99":{"start":{"line":135,"column":12},"end":{"line":135,"column":31}},"100":{"start":{"line":138,"column":4},"end":{"line":138,"column":15}},"101":{"start":{"line":140,"column":0},"end":{"line":140,"column":44}},"102":{"start":{"line":141,"column":0},"end":{"line":149,"column":1}},"103":{"start":{"line":142,"column":4},"end":{"line":142,"column":26}},"104":{"start":{"line":143,"column":4},"end":{"line":147,"column":5}},"105":{"start":{"line":144,"column":8},"end":{"line":146,"column":9}},"106":{"start":{"line":145,"column":12},"end":{"line":145,"column":24}},"107":{"start":{"line":148,"column":4},"end":{"line":148,"column":17}},"108":{"start":{"line":150,"column":0},"end":{"line":150,"column":28}},"109":{"start":{"line":151,"column":0},"end":{"line":159,"column":1}},"110":{"start":{"line":152,"column":4},"end":{"line":152,"column":21}},"111":{"start":{"line":153,"column":4},"end":{"line":157,"column":5}},"112":{"start":{"line":154,"column":8},"end":{"line":156,"column":9}},"113":{"start":{"line":155,"column":12},"end":{"line":155,"column":24}},"114":{"start":{"line":158,"column":4},"end":{"line":158,"column":17}},"115":{"start":{"line":160,"column":0},"end":{"line":160,"column":34}},"116":{"start":{"line":161,"column":0},"end":{"line":171,"column":1}},"117":{"start":{"line":162,"column":4},"end":{"line":162,"column":26}},"118":{"start":{"line":163,"column":4},"end":{"line":169,"column":5}},"119":{"start":{"line":164,"column":8},"end":{"line":164,"column":27}},"120":{"start":{"line":165,"column":8},"end":{"line":168,"column":9}},"121":{"start":{"line":166,"column":12},"end":{"line":166,"column":30}},"122":{"start":{"line":167,"column":12},"end":{"line":167,"column":59}},"123":{"start":{"line":170,"column":4},"end":{"line":170,"column":18}},"124":{"start":{"line":172,"column":0},"end":{"line":172,"column":46}},"125":{"start":{"line":173,"column":0},"end":{"line":183,"column":1}},"126":{"start":{"line":174,"column":4},"end":{"line":174,"column":26}},"127":{"start":{"line":175,"column":4},"end":{"line":181,"column":5}},"128":{"start":{"line":176,"column":8},"end":{"line":176,"column":32}},"129":{"start":{"line":177,"column":8},"end":{"line":180,"column":9}},"130":{"start":{"line":178,"column":12},"end":{"line":178,"column":30}},"131":{"start":{"line":179,"column":12},"end":{"line":179,"column":59}},"132":{"start":{"line":182,"column":4},"end":{"line":182,"column":18}},"133":{"start":{"line":184,"column":0},"end":{"line":184,"column":50}},"134":{"start":{"line":185,"column":0},"end":{"line":194,"column":1}},"135":{"start":{"line":186,"column":4},"end":{"line":186,"column":17}},"136":{"start":{"line":187,"column":4},"end":{"line":192,"column":5}},"137":{"start":{"line":188,"column":8},"end":{"line":188,"column":27}},"138":{"start":{"line":189,"column":8},"end":{"line":191,"column":9}},"139":{"start":{"line":190,"column":12},"end":{"line":190,"column":27}},"140":{"start":{"line":193,"column":4},"end":{"line":193,"column":15}},"141":{"start":{"line":195,"column":0},"end":{"line":195,"column":34}},"142":{"start":{"line":196,"column":0},"end":{"line":216,"column":1}},"143":{"start":{"line":197,"column":4},"end":{"line":199,"column":5}},"144":{"start":{"line":198,"column":8},"end":{"line":198,"column":17}},"145":{"start":{"line":200,"column":4},"end":{"line":202,"column":5}},"146":{"start":{"line":201,"column":8},"end":{"line":201,"column":18}},"147":{"start":{"line":203,"column":4},"end":{"line":208,"column":5}},"148":{"start":{"line":204,"column":8},"end":{"line":204,"column":18}},"149":{"start":{"line":206,"column":9},"end":{"line":208,"column":5}},"150":{"start":{"line":207,"column":8},"end":{"line":207,"column":17}},"151":{"start":{"line":209,"column":4},"end":{"line":214,"column":5}},"152":{"start":{"line":210,"column":8},"end":{"line":210,"column":18}},"153":{"start":{"line":212,"column":9},"end":{"line":214,"column":5}},"154":{"start":{"line":213,"column":8},"end":{"line":213,"column":17}},"155":{"start":{"line":215,"column":4},"end":{"line":215,"column":13}},"156":{"start":{"line":217,"column":0},"end":{"line":217,"column":34}},"157":{"start":{"line":218,"column":0},"end":{"line":232,"column":1}},"158":{"start":{"line":219,"column":4},"end":{"line":221,"column":5}},"159":{"start":{"line":220,"column":8},"end":{"line":220,"column":17}},"160":{"start":{"line":222,"column":4},"end":{"line":224,"column":5}},"161":{"start":{"line":223,"column":8},"end":{"line":223,"column":18}},"162":{"start":{"line":225,"column":4},"end":{"line":230,"column":5}},"163":{"start":{"line":226,"column":8},"end":{"line":226,"column":18}},"164":{"start":{"line":228,"column":9},"end":{"line":230,"column":5}},"165":{"start":{"line":229,"column":8},"end":{"line":229,"column":17}},"166":{"start":{"line":231,"column":4},"end":{"line":231,"column":13}},"167":{"start":{"line":233,"column":0},"end":{"line":233,"column":32}},"168":{"start":{"line":234,"column":0},"end":{"line":248,"column":1}},"169":{"start":{"line":235,"column":4},"end":{"line":237,"column":5}},"170":{"start":{"line":236,"column":8},"end":{"line":236,"column":17}},"171":{"start":{"line":238,"column":4},"end":{"line":240,"column":5}},"172":{"start":{"line":239,"column":8},"end":{"line":239,"column":18}},"173":{"start":{"line":241,"column":4},"end":{"line":246,"column":5}},"174":{"start":{"line":242,"column":8},"end":{"line":242,"column":18}},"175":{"start":{"line":244,"column":9},"end":{"line":246,"column":5}},"176":{"start":{"line":245,"column":8},"end":{"line":245,"column":17}},"177":{"start":{"line":247,"column":4},"end":{"line":247,"column":48}},"178":{"start":{"line":249,"column":0},"end":{"line":249,"column":44}},"179":{"start":{"line":250,"column":0},"end":{"line":260,"column":1}},"180":{"start":{"line":251,"column":4},"end":{"line":251,"column":51}},"181":{"start":{"line":252,"column":4},"end":{"line":252,"column":51}},"182":{"start":{"line":253,"column":4},"end":{"line":255,"column":5}},"183":{"start":{"line":254,"column":8},"end":{"line":254,"column":17}},"184":{"start":{"line":256,"column":4},"end":{"line":258,"column":5}},"185":{"start":{"line":257,"column":8},"end":{"line":257,"column":18}},"186":{"start":{"line":259,"column":4},"end":{"line":259,"column":45}},"187":{"start":{"line":261,"column":0},"end":{"line":261,"column":46}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":8,"column":4}},{"start":{"line":8,"column":4},"end":{"line":8,"column":4}}]},"2":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":8}},{"start":{"line":28,"column":8},"end":{"line":28,"column":8}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":13},"end":{"line":31,"column":13}},{"start":{"line":31,"column":13},"end":{"line":31,"column":13}}]},"4":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":40,"column":8}},{"start":{"line":40,"column":8},"end":{"line":40,"column":8}}]},"5":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":13},"end":{"line":43,"column":13}},{"start":{"line":43,"column":13},"end":{"line":43,"column":13}}]},"6":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]},"7":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":9},"end":{"line":54,"column":9}},{"start":{"line":54,"column":9},"end":{"line":54,"column":9}}]},"8":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":4}},{"start":{"line":61,"column":4},"end":{"line":61,"column":4}}]},"9":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":9},"end":{"line":64,"column":9}},{"start":{"line":64,"column":9},"end":{"line":64,"column":9}}]},"10":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":12},"end":{"line":87,"column":12}},{"start":{"line":87,"column":12},"end":{"line":87,"column":12}}]},"11":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":12},"end":{"line":101,"column":12}},{"start":{"line":101,"column":12},"end":{"line":101,"column":12}}]},"12":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":4}},{"start":{"line":113,"column":4},"end":{"line":113,"column":4}}]},"13":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":8},"end":{"line":118,"column":8}},{"start":{"line":118,"column":8},"end":{"line":118,"column":8}}]},"14":{"line":118,"type":"binary-expr","locations":[{"start":{"line":118,"column":12},"end":{"line":118,"column":28}},{"start":{"line":118,"column":32},"end":{"line":118,"column":51}}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":4},"end":{"line":129,"column":4}},{"start":{"line":129,"column":4},"end":{"line":129,"column":4}}]},"16":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":8},"end":{"line":134,"column":8}},{"start":{"line":134,"column":8},"end":{"line":134,"column":8}}]},"17":{"line":134,"type":"binary-expr","locations":[{"start":{"line":134,"column":12},"end":{"line":134,"column":29}},{"start":{"line":134,"column":33},"end":{"line":134,"column":52}}]},"18":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":8},"end":{"line":144,"column":8}},{"start":{"line":144,"column":8},"end":{"line":144,"column":8}}]},"19":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":8},"end":{"line":154,"column":8}},{"start":{"line":154,"column":8},"end":{"line":154,"column":8}}]},"20":{"line":162,"type":"binary-expr","locations":[{"start":{"line":162,"column":13},"end":{"line":162,"column":19}},{"start":{"line":162,"column":23},"end":{"line":162,"column":25}}]},"21":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":8},"end":{"line":165,"column":8}},{"start":{"line":165,"column":8},"end":{"line":165,"column":8}}]},"22":{"line":174,"type":"binary-expr","locations":[{"start":{"line":174,"column":13},"end":{"line":174,"column":19}},{"start":{"line":174,"column":23},"end":{"line":174,"column":25}}]},"23":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":8},"end":{"line":177,"column":8}},{"start":{"line":177,"column":8},"end":{"line":177,"column":8}}]},"24":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":8},"end":{"line":189,"column":8}},{"start":{"line":189,"column":8},"end":{"line":189,"column":8}}]},"25":{"line":189,"type":"binary-expr","locations":[{"start":{"line":189,"column":12},"end":{"line":189,"column":23}},{"start":{"line":189,"column":27},"end":{"line":189,"column":62}}]},"26":{"line":197,"type":"if","locations":[{"start":{"line":197,"column":4},"end":{"line":197,"column":4}},{"start":{"line":197,"column":4},"end":{"line":197,"column":4}}]},"27":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":4},"end":{"line":200,"column":4}},{"start":{"line":200,"column":4},"end":{"line":200,"column":4}}]},"28":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":4},"end":{"line":203,"column":4}},{"start":{"line":203,"column":4},"end":{"line":203,"column":4}}]},"29":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":9},"end":{"line":206,"column":9}},{"start":{"line":206,"column":9},"end":{"line":206,"column":9}}]},"30":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":4},"end":{"line":209,"column":4}},{"start":{"line":209,"column":4},"end":{"line":209,"column":4}}]},"31":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":9},"end":{"line":212,"column":9}},{"start":{"line":212,"column":9},"end":{"line":212,"column":9}}]},"32":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":4},"end":{"line":219,"column":4}},{"start":{"line":219,"column":4},"end":{"line":219,"column":4}}]},"33":{"line":222,"type":"if","locations":[{"start":{"line":222,"column":4},"end":{"line":222,"column":4}},{"start":{"line":222,"column":4},"end":{"line":222,"column":4}}]},"34":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":4},"end":{"line":225,"column":4}},{"start":{"line":225,"column":4},"end":{"line":225,"column":4}}]},"35":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":9},"end":{"line":228,"column":9}},{"start":{"line":228,"column":9},"end":{"line":228,"column":9}}]},"36":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":4},"end":{"line":235,"column":4}},{"start":{"line":235,"column":4},"end":{"line":235,"column":4}}]},"37":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":4},"end":{"line":238,"column":4}},{"start":{"line":238,"column":4},"end":{"line":238,"column":4}}]},"38":{"line":241,"type":"if","locations":[{"start":{"line":241,"column":4},"end":{"line":241,"column":4}},{"start":{"line":241,"column":4},"end":{"line":241,"column":4}}]},"39":{"line":241,"type":"binary-expr","locations":[{"start":{"line":241,"column":8},"end":{"line":241,"column":17}},{"start":{"line":241,"column":21},"end":{"line":241,"column":31}}]},"40":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":9},"end":{"line":244,"column":9}},{"start":{"line":244,"column":9},"end":{"line":244,"column":9}}]},"41":{"line":244,"type":"binary-expr","locations":[{"start":{"line":244,"column":13},"end":{"line":244,"column":23}},{"start":{"line":244,"column":27},"end":{"line":244,"column":36}}]},"42":{"line":251,"type":"binary-expr","locations":[{"start":{"line":251,"column":17},"end":{"line":251,"column":26}},{"start":{"line":251,"column":30},"end":{"line":251,"column":50}}]},"43":{"line":252,"type":"binary-expr","locations":[{"start":{"line":252,"column":17},"end":{"line":252,"column":26}},{"start":{"line":252,"column":30},"end":{"line":252,"column":50}}]},"44":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":4},"end":{"line":253,"column":4}},{"start":{"line":253,"column":4},"end":{"line":253,"column":4}}]},"45":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":4},"end":{"line":256,"column":4}},{"start":{"line":256,"column":4},"end":{"line":256,"column":4}}]}},"code":["'use strict';","var VError = require('verror');","var semver = require('semver');","var dateUtils = require('../../xm/dateUtils');","var Const = require('../context/Const');","var referenceTagExp = /<reference[ \\t]*path=[\"']?([\\w\\.\\/_-]*)[\"']?[ \\t]*\\/>/g;","function shaShort(sha) {","    if (!sha) {","        return '<no sha>';","    }","    return sha.substr(0, Const.shaShorten);","}","exports.shaShort = shaShort;","function getDefs(list) {","    return list.map(function (def) {","        return def.def;","    });","}","exports.getDefs = getDefs;","function getHeads(list) {","    return list.map(function (def) {","        return def.head;","    });","}","exports.getHeads = getHeads;","function getHistoryTop(list) {","    return list.map(function (def) {","        if (def.history.length === 1) {","            return def.history[0];","        }","        else if (def.history.length > 0) {","            return def.history.sort(fileCompare)[0];","        }","        return def.head;","    });","}","exports.getHistoryTop = getHistoryTop;","function getHistoryBottom(list) {","    return list.map(function (def) {","        if (def.history.length === 1) {","            return def.history[0];","        }","        else if (def.history.length > 0) {","            return def.history.sort(fileCompare)[def.history.length - 1];","        }","        return def.head;","    });","}","exports.getHistoryBottom = getHistoryBottom;","function getLatest(list) {","    if (list.length === 1) {","        return list[0];","    }","    else if (list.length > 1) {","        return list.sort(fileCompare)[0];","    }","    return null;","}","exports.getLatest = getLatest;","function getRecent(list) {","    if (list.length === 1) {","        return list[0];","    }","    else if (list.length > 1) {","        return list.sort(fileCompare)[list.length - 1];","    }","    return null;","}","exports.getRecent = getRecent;","function getPaths(list) {","    return list.map(function (def) {","        return def.path;","    });","}","exports.getPaths = getPaths;","function getPathsOf(list) {","    return list.map(function (file) {","        return file.def.path;","    });","}","exports.getPathsOf = getPathsOf;","function uniqueDefVersion(list) {","    var ret = [];","    outer: for (var i = 0, ii = list.length; i < ii; i++) {","        var check = list[i];","        for (var j = 0, jj = ret.length; j < jj; j++) {","            if (check.def.path === ret[j].def.path) {","                continue outer;","            }","        }","        ret.push(check);","    }","    return ret;","}","exports.uniqueDefVersion = uniqueDefVersion;","function uniqueDefs(list) {","    var ret = [];","    outer: for (var i = 0, ii = list.length; i < ii; i++) {","        var check = list[i];","        for (var j = 0, jj = ret.length; j < jj; j++) {","            if (check.path === ret[j].path) {","                continue outer;","            }","        }","        ret.push(check);","    }","    return ret;","}","exports.uniqueDefs = uniqueDefs;","function extractReferenceTags(source) {","    var ret = [];","    var match;","    if (!referenceTagExp.global) {","        throw new VError('referenceTagExp RegExp must have global flag');","    }","    referenceTagExp.lastIndex = 0;","    while ((match = referenceTagExp.exec(source))) {","        if (match.length > 0 && match[1].length > 0) {","            ret.push(match[1]);","        }","    }","    return ret;","}","exports.extractReferenceTags = extractReferenceTags;","var externalModules = /(?:^|\\r?\\n)declare module *(['\"])(\\w+)\\1\\s*{/g;","function extractExternals(source) {","    var ret = [];","    var match;","    if (!externalModules.global) {","        throw new VError('referenceTagExp RegExp must have global flag');","    }","    externalModules.lastIndex = 0;","    while ((match = externalModules.exec(source))) {","        if (match.length >= 2 && match[2].length > 0) {","            ret.push(match[2]);","        }","    }","    return ret;","}","exports.extractExternals = extractExternals;","function contains(list, file) {","    var p = file.def.path;","    for (var i = 0, ii = list.length; i < ii; i++) {","        if (list[i].def.path === p) {","            return true;","        }","    }","    return false;","}","exports.contains = contains;","function containsDef(list, def) {","    var p = def.path;","    for (var i = 0, ii = list.length; i < ii; i++) {","        if (list[i].path === p) {","            return true;","        }","    }","    return false;","}","exports.containsDef = containsDef;","function mergeDependencies(list, target) {","    target = target || [];","    for (var i = 0, ii = list.length; i < ii; i++) {","        var file = list[i];","        if (!contains(target, file)) {","            target.push(file);","            mergeDependenciesOf(file.dependencies, target);","        }","    }","    return target;","}","exports.mergeDependencies = mergeDependencies;","function mergeDependenciesOf(list, target) {","    target = target || [];","    for (var i = 0, ii = list.length; i < ii; i++) {","        var file = list[i].head;","        if (!contains(target, file)) {","            target.push(file);","            mergeDependenciesOf(file.dependencies, target);","        }","    }","    return target;","}","exports.mergeDependenciesOf = mergeDependenciesOf;","function matchCommit(list, commitSha) {","    var ret = [];","    for (var i = 0, ii = list.length; i < ii; i++) {","        var file = list[i];","        if (file.commit && file.commit.commitSha === commitSha) {","            ret.push(file);","        }","    }","    return ret;","}","exports.matchCommit = matchCommit;","function fileCompare(aa, bb) {","    if (!bb) {","        return 1;","    }","    if (!aa) {","        return -1;","    }","    if (aa.def.path < bb.def.path) {","        return -1;","    }","    else if (aa.def.path > bb.def.path) {","        return 1;","    }","    if (aa.blobSha < bb.blobSha) {","        return -1;","    }","    else if (aa.blobSha > bb.blobSha) {","        return 1;","    }","    return 0;","}","exports.fileCompare = fileCompare;","function defCompare(aa, bb) {","    if (!bb) {","        return 1;","    }","    if (!aa) {","        return -1;","    }","    if (aa.path < bb.path) {","        return -1;","    }","    else if (aa.path > bb.path) {","        return 1;","    }","    return 0;","}","exports.defCompare = defCompare;","function defSemverCompare(aa, bb) {","    if (!bb) {","        return 1;","    }","    if (!aa) {","        return -1;","    }","    if (aa.semver && !bb.semver) {","        return -1;","    }","    else if (!aa.semver && bb.semver) {","        return 1;","    }","    return semver.compare(aa.semver, bb.semver);","}","exports.defSemverCompare = defSemverCompare;","function fileCommitCompare(aa, bb) {","    var aaDate = aa.commit && aa.commit.changeDate;","    var bbDate = bb.commit && bb.commit.changeDate;","    if (!bbDate) {","        return 1;","    }","    if (!aaDate) {","        return -1;","    }","    return dateUtils.compare(aaDate, bbDate);","}","exports.fileCommitCompare = fileCommitCompare;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"11":0,"13":1,"14":1,"15":0,"16":0,"19":1,"20":1,"21":0,"22":0,"25":1,"26":1,"27":0,"28":0,"29":0,"31":0,"32":0,"34":0,"37":1,"38":1,"39":0,"40":0,"41":0,"43":0,"44":0,"46":0,"49":1,"50":1,"51":0,"52":0,"54":0,"55":0,"57":0,"59":1,"60":1,"61":0,"62":0,"64":0,"65":0,"67":0,"69":1,"70":1,"71":0,"72":0,"75":1,"76":1,"77":0,"78":0,"81":1,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"91":0,"93":0,"95":1,"96":1,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"105":0,"107":0,"109":1,"110":1,"111":0,"112":0,"113":0,"114":0,"116":0,"117":0,"118":0,"119":0,"122":0,"124":1,"125":1,"126":1,"127":0,"128":0,"129":0,"130":0,"132":0,"133":0,"134":0,"135":0,"138":0,"140":1,"141":1,"142":0,"143":0,"144":0,"145":0,"148":0,"150":1,"151":1,"152":0,"153":0,"154":0,"155":0,"158":0,"160":1,"161":1,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"170":0,"172":1,"173":1,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"182":0,"184":1,"185":1,"186":0,"187":0,"188":0,"189":0,"190":0,"193":0,"195":1,"196":1,"197":0,"198":0,"200":0,"201":0,"203":0,"204":0,"206":0,"207":0,"209":0,"210":0,"212":0,"213":0,"215":0,"217":1,"218":1,"219":0,"220":0,"222":0,"223":0,"225":0,"226":0,"228":0,"229":0,"231":0,"233":1,"234":1,"235":0,"236":0,"238":0,"239":0,"241":0,"242":0,"244":0,"245":0,"247":0,"249":1,"250":1,"251":0,"252":0,"253":0,"254":0,"256":0,"257":0,"259":0,"261":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/dateUtils.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/dateUtils.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1,"12":0,"13":1,"14":1,"15":0,"16":1,"17":1,"18":0,"19":1,"20":1,"21":0,"22":1,"23":1,"24":0,"25":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0],"6":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"getISOString","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}}},"2":{"name":"toNiceUTC","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":25}}},"3":{"name":"isBeforeDate","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":36}}},"4":{"name":"isAfterDate","line":29,"loc":{"start":{"line":29,"column":0},"end":{"line":29,"column":35}}},"5":{"name":"isEqualDate","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":35}}},"6":{"name":"compare","line":39,"loc":{"start":{"line":39,"column":0},"end":{"line":39,"column":31}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":0},"end":{"line":13,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":13}},"5":{"start":{"line":6,"column":4},"end":{"line":11,"column":5}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":21}},"7":{"start":{"line":9,"column":9},"end":{"line":11,"column":5}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":31}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":46}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":36}},"11":{"start":{"line":15,"column":0},"end":{"line":21,"column":1}},"12":{"start":{"line":16,"column":4},"end":{"line":20,"column":62}},"13":{"start":{"line":22,"column":0},"end":{"line":22,"column":30}},"14":{"start":{"line":23,"column":0},"end":{"line":27,"column":1}},"15":{"start":{"line":24,"column":4},"end":{"line":26,"column":51}},"16":{"start":{"line":28,"column":0},"end":{"line":28,"column":36}},"17":{"start":{"line":29,"column":0},"end":{"line":33,"column":1}},"18":{"start":{"line":30,"column":4},"end":{"line":32,"column":51}},"19":{"start":{"line":34,"column":0},"end":{"line":34,"column":34}},"20":{"start":{"line":35,"column":0},"end":{"line":37,"column":1}},"21":{"start":{"line":36,"column":4},"end":{"line":36,"column":57}},"22":{"start":{"line":38,"column":0},"end":{"line":38,"column":34}},"23":{"start":{"line":39,"column":0},"end":{"line":41,"column":1}},"24":{"start":{"line":40,"column":4},"end":{"line":40,"column":45}},"25":{"start":{"line":42,"column":0},"end":{"line":42,"column":26}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":4}},{"start":{"line":6,"column":4},"end":{"line":6,"column":4}}]},"2":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":9},"end":{"line":9,"column":9}},{"start":{"line":9,"column":9},"end":{"line":9,"column":9}}]},"3":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":13},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":61}}]},"4":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":19},"end":{"line":12,"column":37}},{"start":{"line":12,"column":40},"end":{"line":12,"column":44}}]},"5":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":11},"end":{"line":24,"column":58}},{"start":{"line":25,"column":11},"end":{"line":25,"column":52}},{"start":{"line":26,"column":11},"end":{"line":26,"column":50}}]},"6":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":11},"end":{"line":30,"column":58}},{"start":{"line":31,"column":11},"end":{"line":31,"column":52}},{"start":{"line":32,"column":11},"end":{"line":32,"column":50}}]}},"code":["'use strict';","var stringUtils = require('./stringUtils');","var typeOf = require('./typeOf');","function getISOString(input) {","    var date;","    if (typeOf.isDate(input)) {","        date = input;","    }","    else if (typeOf.isString(input) || typeOf.isNumber(input)) {","        date = new Date(input);","    }","    return (date ? date.toISOString() : null);","}","exports.getISOString = getISOString;","function toNiceUTC(date) {","    return date.getUTCFullYear()","        + '-' + stringUtils.padLeftZero(date.getUTCMonth() + 1)","        + '-' + stringUtils.padLeftZero(date.getUTCDate())","        + ' ' + stringUtils.padLeftZero(date.getUTCHours())","        + ':' + stringUtils.padLeftZero(date.getUTCMinutes());","}","exports.toNiceUTC = toNiceUTC;","function isBeforeDate(actual, base) {","    return actual.getUTCFullYear() < base.getUTCFullYear()","        || actual.getUTCMonth() < base.getUTCMonth()","        || actual.getUTCDate() < base.getUTCDate();","}","exports.isBeforeDate = isBeforeDate;","function isAfterDate(actual, base) {","    return actual.getUTCFullYear() > base.getUTCFullYear()","        || actual.getUTCMonth() > base.getUTCMonth()","        || actual.getUTCDate() > base.getUTCDate();","}","exports.isAfterDate = isAfterDate;","function isEqualDate(actual, base) {","    return actual.toDateString() === base.toDateString();","}","exports.isEqualDate = isEqualDate;","function compare(date1, date2) {","    return date1.getTime() - date2.getTime();","}","exports.compare = compare;",""],"l":{"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"9":0,"10":0,"12":0,"14":1,"15":1,"16":0,"22":1,"23":1,"24":0,"28":1,"29":1,"30":0,"34":1,"35":1,"36":0,"38":1,"39":1,"40":0,"42":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/stringUtils.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/stringUtils.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"padLeftZero","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":36}}},"2":{"name":"wordWrap","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":19},"end":{"line":15,"column":42}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":9,"column":1}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":42}},"3":{"start":{"line":3,"column":29},"end":{"line":3,"column":40}},"4":{"start":{"line":4,"column":4},"end":{"line":4,"column":26}},"5":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"6":{"start":{"line":6,"column":8},"end":{"line":6,"column":20}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":13}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":34}},"9":{"start":{"line":11,"column":0},"end":{"line":37,"column":1}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":43}},"11":{"start":{"line":12,"column":29},"end":{"line":12,"column":41}},"12":{"start":{"line":13,"column":4},"end":{"line":13,"column":19}},"13":{"start":{"line":14,"column":4},"end":{"line":14,"column":38}},"14":{"start":{"line":15,"column":4},"end":{"line":35,"column":7}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":49}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":29}},"17":{"start":{"line":18,"column":8},"end":{"line":18,"column":20}},"18":{"start":{"line":19,"column":8},"end":{"line":19,"column":33}},"19":{"start":{"line":20,"column":8},"end":{"line":20,"column":31}},"20":{"start":{"line":21,"column":8},"end":{"line":21,"column":31}},"21":{"start":{"line":22,"column":8},"end":{"line":31,"column":9}},"22":{"start":{"line":23,"column":12},"end":{"line":23,"column":33}},"23":{"start":{"line":24,"column":12},"end":{"line":28,"column":13}},"24":{"start":{"line":25,"column":16},"end":{"line":25,"column":50}},"25":{"start":{"line":26,"column":16},"end":{"line":26,"column":33}},"26":{"start":{"line":27,"column":16},"end":{"line":27,"column":24}},"27":{"start":{"line":29,"column":12},"end":{"line":29,"column":35}},"28":{"start":{"line":30,"column":12},"end":{"line":30,"column":35}},"29":{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},"30":{"start":{"line":33,"column":12},"end":{"line":33,"column":46}},"31":{"start":{"line":36,"column":4},"end":{"line":36,"column":17}},"32":{"start":{"line":38,"column":0},"end":{"line":38,"column":28}}},"branchMap":{"1":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":4}},{"start":{"line":3,"column":4},"end":{"line":3,"column":4}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"3":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":24,"column":12}},{"start":{"line":24,"column":12},"end":{"line":24,"column":12}}]},"4":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":32,"column":8}},{"start":{"line":32,"column":8},"end":{"line":32,"column":8}}]}},"code":["'use strict';","function padLeftZero(input, length) {","    if (length === void 0) { length = 2; }","    var r = String(input);","    while (r.length < length) {","        r = '0' + r;","    }","    return r;","}","exports.padLeftZero = padLeftZero;","function wordWrap(input, length) {","    if (length === void 0) { length = 80; }","    var lines = [];","    var broken = input.split(/\\r?\\n/);","    broken.forEach(function (line, index) {","        var parts = line.trim().split(/[ \\t]+/g);","        var accumulator = [];","        var len = 0;","        var next = parts.shift();","        accumulator.push(next);","        len += next.length + 1;","        while (parts.length > 0) {","            next = parts.shift();","            if (len + next.length + 1 > length) {","                lines.push(accumulator.join(' '));","                accumulator = [];","                len = 0;","            }","            accumulator.push(next);","            len += next.length + 1;","        }","        if (accumulator.length > 0) {","            lines.push(accumulator.join(' '));","        }","    });","    return lines;","}","exports.wordWrap = wordWrap;",""],"l":{"2":1,"3":0,"4":0,"5":0,"6":0,"8":0,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"29":0,"30":0,"32":0,"33":0,"36":0,"38":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/Def.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/Def.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1,"51":0,"52":1,"53":6,"54":1,"55":10,"56":1,"57":0,"58":1,"59":0,"60":0,"61":0,"62":1,"63":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,10],"11":[0,0]},"f":{"1":1,"2":0,"3":0,"4":6,"5":10,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":22,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":23}}},"2":{"name":"Def","line":23,"loc":{"start":{"line":23,"column":4},"end":{"line":23,"column":23}}},"3":{"name":"(anonymous_3)","line":71,"loc":{"start":{"line":71,"column":29},"end":{"line":71,"column":41}}},"4":{"name":"(anonymous_4)","line":75,"loc":{"start":{"line":75,"column":13},"end":{"line":75,"column":25}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":13},"end":{"line":82,"column":25}}},"6":{"name":"(anonymous_6)","line":88,"loc":{"start":{"line":88,"column":20},"end":{"line":88,"column":36}}},"7":{"name":"(anonymous_7)","line":91,"loc":{"start":{"line":91,"column":18},"end":{"line":91,"column":34}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":50}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":87}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":81}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"8":{"start":{"line":9,"column":0},"end":{"line":17,"column":2}},"9":{"start":{"line":18,"column":0},"end":{"line":21,"column":2}},"10":{"start":{"line":22,"column":0},"end":{"line":98,"column":5}},"11":{"start":{"line":23,"column":4},"end":{"line":70,"column":5}},"12":{"start":{"line":24,"column":8},"end":{"line":24,"column":25}},"13":{"start":{"line":25,"column":8},"end":{"line":25,"column":28}},"14":{"start":{"line":26,"column":8},"end":{"line":26,"column":25}},"15":{"start":{"line":27,"column":8},"end":{"line":27,"column":27}},"16":{"start":{"line":28,"column":8},"end":{"line":28,"column":26}},"17":{"start":{"line":29,"column":8},"end":{"line":29,"column":30}},"18":{"start":{"line":30,"column":8},"end":{"line":30,"column":27}},"19":{"start":{"line":31,"column":8},"end":{"line":31,"column":25}},"20":{"start":{"line":32,"column":8},"end":{"line":32,"column":26}},"21":{"start":{"line":33,"column":8},"end":{"line":33,"column":27}},"22":{"start":{"line":34,"column":8},"end":{"line":34,"column":42}},"23":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"24":{"start":{"line":36,"column":12},"end":{"line":36,"column":65}},"25":{"start":{"line":38,"column":8},"end":{"line":38,"column":25}},"26":{"start":{"line":39,"column":8},"end":{"line":39,"column":67}},"27":{"start":{"line":40,"column":8},"end":{"line":40,"column":32}},"28":{"start":{"line":41,"column":8},"end":{"line":41,"column":45}},"29":{"start":{"line":42,"column":8},"end":{"line":42,"column":43}},"30":{"start":{"line":43,"column":8},"end":{"line":43,"column":30}},"31":{"start":{"line":44,"column":8},"end":{"line":48,"column":9}},"32":{"start":{"line":45,"column":12},"end":{"line":45,"column":33}},"33":{"start":{"line":46,"column":12},"end":{"line":46,"column":49}},"34":{"start":{"line":47,"column":12},"end":{"line":47,"column":47}},"35":{"start":{"line":49,"column":8},"end":{"line":49,"column":33}},"36":{"start":{"line":50,"column":8},"end":{"line":50,"column":50}},"37":{"start":{"line":51,"column":8},"end":{"line":67,"column":9}},"38":{"start":{"line":52,"column":12},"end":{"line":52,"column":34}},"39":{"start":{"line":53,"column":12},"end":{"line":55,"column":13}},"40":{"start":{"line":54,"column":16},"end":{"line":54,"column":28}},"41":{"start":{"line":56,"column":12},"end":{"line":58,"column":13}},"42":{"start":{"line":57,"column":16},"end":{"line":57,"column":35}},"43":{"start":{"line":59,"column":12},"end":{"line":59,"column":48}},"44":{"start":{"line":60,"column":12},"end":{"line":66,"column":13}},"45":{"start":{"line":61,"column":16},"end":{"line":61,"column":36}},"46":{"start":{"line":62,"column":16},"end":{"line":62,"column":37}},"47":{"start":{"line":63,"column":16},"end":{"line":63,"column":64}},"48":{"start":{"line":68,"column":8},"end":{"line":68,"column":94}},"49":{"start":{"line":69,"column":8},"end":{"line":69,"column":47}},"50":{"start":{"line":71,"column":4},"end":{"line":73,"column":6}},"51":{"start":{"line":72,"column":8},"end":{"line":72,"column":25}},"52":{"start":{"line":74,"column":4},"end":{"line":80,"column":7}},"53":{"start":{"line":76,"column":12},"end":{"line":76,"column":53}},"54":{"start":{"line":81,"column":4},"end":{"line":87,"column":7}},"55":{"start":{"line":83,"column":12},"end":{"line":83,"column":71}},"56":{"start":{"line":88,"column":4},"end":{"line":90,"column":6}},"57":{"start":{"line":89,"column":8},"end":{"line":89,"column":33}},"58":{"start":{"line":91,"column":4},"end":{"line":96,"column":6}},"59":{"start":{"line":92,"column":8},"end":{"line":94,"column":9}},"60":{"start":{"line":93,"column":12},"end":{"line":93,"column":24}},"61":{"start":{"line":95,"column":8},"end":{"line":95,"column":29}},"62":{"start":{"line":97,"column":4},"end":{"line":97,"column":15}},"63":{"start":{"line":99,"column":0},"end":{"line":99,"column":21}}},"branchMap":{"1":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":8}},{"start":{"line":35,"column":8},"end":{"line":35,"column":8}}]},"2":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":44,"column":8}},{"start":{"line":44,"column":8},"end":{"line":44,"column":8}}]},"3":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":12},"end":{"line":44,"column":28}},{"start":{"line":44,"column":32},"end":{"line":44,"column":68}}]},"4":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":8}},{"start":{"line":51,"column":8},"end":{"line":51,"column":8}}]},"5":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":12},"end":{"line":53,"column":12}},{"start":{"line":53,"column":12},"end":{"line":53,"column":12}}]},"6":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":12},"end":{"line":56,"column":12}},{"start":{"line":56,"column":12},"end":{"line":56,"column":12}}]},"7":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":16},"end":{"line":56,"column":35}},{"start":{"line":56,"column":39},"end":{"line":56,"column":73}}]},"8":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":12},"end":{"line":60,"column":12}},{"start":{"line":60,"column":12},"end":{"line":60,"column":12}}]},"9":{"line":68,"type":"cond-expr","locations":[{"start":{"line":68,"column":69},"end":{"line":68,"column":87}},{"start":{"line":68,"column":90},"end":{"line":68,"column":92}}]},"10":{"line":83,"type":"cond-expr","locations":[{"start":{"line":83,"column":46},"end":{"line":83,"column":64}},{"start":{"line":83,"column":67},"end":{"line":83,"column":69}}]},"11":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":8},"end":{"line":92,"column":8}},{"start":{"line":92,"column":8},"end":{"line":92,"column":8}}]}},"code":["'use strict';","var semver = require('semver');","var VError = require('verror');","var assertVar = require('../../xm/assertVar');","var objectUtils = require('../../xm/objectUtils');","var defExp = /^[a-z_](?:[\\._-]?[a-z0-9_])*(?:\\/[a-z_](?:[\\._-]?[a-z0-9_])*)+\\.d\\.ts$/i;","var versionEnd = /(?:-v?)(\\d+(?:\\.\\d+)*)(-[a-z](?:[_-]?[a-z0-9])*(?:\\.\\d+)*)?$/i;","var twoNums = /^\\d+\\.\\d+$/;","var lockProps = [","    'path',","    'project',","    'name',","    'semver',","    'label',","    'isLegacy',","    'isMain',","];","var legacyFolders = [","    'legacy',","    'releases'","];","var Def = (function () {","    function Def(path) {","        this.path = null;","        this.project = null;","        this.name = null;","        this.semver = null;","        this.label = null;","        this.isLegacy = false;","        this.isMain = true;","        this.head = null;","        this.history = [];","        this.releases = [];","        assertVar(path, 'string', 'path');","        if (!defExp.test(path)) {","            throw new VError('cannot part path %s to Def', path);","        }","        this.path = path;","        var parts = this.path.replace(/\\.d\\.ts$/, '').split(/\\//g);","        this.project = parts[0];","        this.name = parts.slice(1).join(':');","        this.isMain = (parts.length === 2);","        this.isLegacy = false;","        if (parts.length > 2 && legacyFolders.indexOf(parts[1]) > -1) {","            this.isLegacy = true;","            this.name = parts.slice(2).join(':');","            this.isMain = (parts.length === 3);","        }","        versionEnd.lastIndex = 0;","        var semMatch = versionEnd.exec(this.name);","        if (semMatch) {","            var sem = semMatch[1];","            if (twoNums.test(sem)) {","                sem += '.0';","            }","            if (semMatch.length > 2 && typeof semMatch[2] !== 'undefined') {","                sem += semMatch[2];","            }","            var valid = semver.valid(sem, true);","            if (valid) {","                this.semver = valid;","                this.isLegacy = true;","                this.name = this.name.substr(0, semMatch.index);","            }","            else {","            }","        }","        this.label = this.project + '/' + this.name + (this.semver ? '-v' + this.semver : '');","        objectUtils.lockProps(this, lockProps);","    }","    Def.prototype.toString = function () {","        return this.path;","    };","    Object.defineProperty(Def.prototype, \"pathTerm\", {","        get: function () {","            return this.path.replace(/\\.d\\.ts$/, '');","        },","        enumerable: true,","        configurable: true","    });","    Object.defineProperty(Def.prototype, \"nameTerm\", {","        get: function () {","            return this.name + (this.semver ? '-v' + this.semver : '');","        },","        enumerable: true,","        configurable: true","    });","    Def.isDefPath = function (path) {","        return defExp.test(path);","    };","    Def.getFrom = function (path) {","        if (!defExp.test(path)) {","            return null;","        }","        return new Def(path);","    };","    return Def;","})();","module.exports = Def;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"18":1,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"56":0,"57":0,"59":0,"60":0,"61":0,"62":0,"63":0,"68":0,"69":0,"71":1,"72":0,"74":1,"76":6,"81":1,"83":10,"88":1,"89":0,"91":1,"92":0,"93":0,"95":0,"97":1,"99":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/DefCommit.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/DefCommit.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":1,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":1,"37":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":17},"end":{"line":9,"column":29}}},"2":{"name":"DefCommit","line":10,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":34}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":36},"end":{"line":17,"column":54}}},"4":{"name":"(anonymous_4)","line":27,"loc":{"start":{"line":27,"column":38},"end":{"line":27,"column":50}}},"5":{"name":"(anonymous_5)","line":30,"loc":{"start":{"line":30,"column":35},"end":{"line":30,"column":47}}},"6":{"name":"(anonymous_6)","line":34,"loc":{"start":{"line":34,"column":13},"end":{"line":34,"column":25}}},"7":{"name":"(anonymous_7)","line":47,"loc":{"start":{"line":47,"column":13},"end":{"line":47,"column":25}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":55}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":61}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":67}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"8":{"start":{"line":9,"column":0},"end":{"line":54,"column":5}},"9":{"start":{"line":10,"column":4},"end":{"line":16,"column":5}},"10":{"start":{"line":11,"column":8},"end":{"line":11,"column":29}},"11":{"start":{"line":12,"column":8},"end":{"line":12,"column":46}},"12":{"start":{"line":13,"column":8},"end":{"line":13,"column":50}},"13":{"start":{"line":14,"column":8},"end":{"line":14,"column":35}},"14":{"start":{"line":15,"column":8},"end":{"line":15,"column":51}},"15":{"start":{"line":17,"column":4},"end":{"line":26,"column":6}},"16":{"start":{"line":18,"column":8},"end":{"line":18,"column":46}},"17":{"start":{"line":19,"column":8},"end":{"line":19,"column":105}},"18":{"start":{"line":20,"column":8},"end":{"line":20,"column":60}},"19":{"start":{"line":21,"column":8},"end":{"line":21,"column":66}},"20":{"start":{"line":22,"column":8},"end":{"line":22,"column":70}},"21":{"start":{"line":23,"column":8},"end":{"line":23,"column":76}},"22":{"start":{"line":24,"column":8},"end":{"line":24,"column":50}},"23":{"start":{"line":25,"column":8},"end":{"line":25,"column":28}},"24":{"start":{"line":27,"column":4},"end":{"line":29,"column":6}},"25":{"start":{"line":28,"column":8},"end":{"line":28,"column":28}},"26":{"start":{"line":30,"column":4},"end":{"line":32,"column":6}},"27":{"start":{"line":31,"column":8},"end":{"line":31,"column":30}},"28":{"start":{"line":33,"column":4},"end":{"line":45,"column":7}},"29":{"start":{"line":35,"column":12},"end":{"line":37,"column":13}},"30":{"start":{"line":36,"column":16},"end":{"line":36,"column":43}},"31":{"start":{"line":38,"column":12},"end":{"line":40,"column":13}},"32":{"start":{"line":39,"column":16},"end":{"line":39,"column":46}},"33":{"start":{"line":41,"column":12},"end":{"line":41,"column":24}},"34":{"start":{"line":46,"column":4},"end":{"line":52,"column":7}},"35":{"start":{"line":48,"column":12},"end":{"line":48,"column":82}},"36":{"start":{"line":53,"column":4},"end":{"line":53,"column":21}},"37":{"start":{"line":55,"column":0},"end":{"line":55,"column":27}}},"branchMap":{"1":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":12}},{"start":{"line":35,"column":12},"end":{"line":35,"column":12}}]},"2":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":12},"end":{"line":38,"column":12}},{"start":{"line":38,"column":12},"end":{"line":38,"column":12}}]},"3":{"line":48,"type":"cond-expr","locations":[{"start":{"line":48,"column":36},"end":{"line":48,"column":68}},{"start":{"line":48,"column":71},"end":{"line":48,"column":81}}]}},"code":["'use strict';","var assert = require('../../xm/assert');","var assertVar = require('../../xm/assertVar');","var objectUtils = require('../../xm/objectUtils');","var GithubUser = require('../../git/model/GithubUser');","var GitCommitUser = require('../../git/model/GitCommitUser');","var GitCommitMessage = require('../../git/model/GitCommitMessage');","var defUtil = require('../util/defUtil');","var DefCommit = (function () {","    function DefCommit(commitSha) {","        this.hasMeta = false;","        this.message = new GitCommitMessage();","        assertVar(commitSha, 'sha1', 'commitSha');","        this.commitSha = commitSha;","        objectUtils.lockProps(this, ['commitSha']);","    }","    DefCommit.prototype.parseJSON = function (commit) {","        assertVar(commit, 'object', 'commit');","        assert((commit.sha === this.commitSha), 'not my tree: {act}, {exp}', this.commitSha, commit.sha);","        this.hubAuthor = GithubUser.fromJSON(commit.author);","        this.hubCommitter = GithubUser.fromJSON(commit.committer);","        this.gitAuthor = GitCommitUser.fromJSON(commit.commit.author);","        this.gitCommitter = GitCommitUser.fromJSON(commit.commit.committer);","        this.message.parse(commit.commit.message);","        this.hasMeta = true;","    };","    DefCommit.prototype.hasMetaData = function () {","        return this.hasMeta;","    };","    DefCommit.prototype.toString = function () {","        return this.commitSha;","    };","    Object.defineProperty(DefCommit.prototype, \"changeDate\", {","        get: function () {","            if (this.gitAuthor) {","                return this.gitAuthor.date;","            }","            if (this.gitCommitter) {","                return this.gitCommitter.date;","            }","            return null;","        },","        enumerable: true,","        configurable: true","    });","    Object.defineProperty(DefCommit.prototype, \"commitShort\", {","        get: function () {","            return this.commitSha ? defUtil.shaShort(this.commitSha) : '<no sha>';","        },","        enumerable: true,","        configurable: true","    });","    return DefCommit;","})();","module.exports = DefCommit;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"27":1,"28":0,"30":1,"31":0,"33":1,"35":0,"36":0,"38":0,"39":0,"41":0,"46":1,"48":0,"53":1,"55":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/assert.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/assert.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0,0,0,0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"assert","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":64}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":51},"end":{"line":12,"column":72}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":48}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":37,"column":1}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":49}},"7":{"start":{"line":7,"column":31},"end":{"line":7,"column":47}},"8":{"start":{"line":8,"column":4},"end":{"line":10,"column":5}},"9":{"start":{"line":9,"column":8},"end":{"line":9,"column":15}},"10":{"start":{"line":11,"column":4},"end":{"line":35,"column":5}},"11":{"start":{"line":12,"column":8},"end":{"line":31,"column":11}},"12":{"start":{"line":13,"column":12},"end":{"line":30,"column":13}},"13":{"start":{"line":17,"column":20},"end":{"line":19,"column":21}},"14":{"start":{"line":18,"column":24},"end":{"line":18,"column":60}},"15":{"start":{"line":20,"column":20},"end":{"line":20,"column":26}},"16":{"start":{"line":24,"column":20},"end":{"line":26,"column":21}},"17":{"start":{"line":25,"column":24},"end":{"line":25,"column":62}},"18":{"start":{"line":27,"column":20},"end":{"line":27,"column":26}},"19":{"start":{"line":29,"column":20},"end":{"line":29,"column":33}},"20":{"start":{"line":34,"column":8},"end":{"line":34,"column":21}},"21":{"start":{"line":36,"column":4},"end":{"line":36,"column":103}},"22":{"start":{"line":38,"column":0},"end":{"line":38,"column":24}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":4}},{"start":{"line":7,"column":4},"end":{"line":7,"column":4}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":4},"end":{"line":8,"column":4}},{"start":{"line":8,"column":4},"end":{"line":8,"column":4}}]},"3":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"4":{"line":13,"type":"switch","locations":[{"start":{"line":14,"column":16},"end":{"line":14,"column":25}},{"start":{"line":15,"column":16},"end":{"line":15,"column":27}},{"start":{"line":16,"column":16},"end":{"line":20,"column":26}},{"start":{"line":21,"column":16},"end":{"line":21,"column":25}},{"start":{"line":22,"column":16},"end":{"line":22,"column":27}},{"start":{"line":23,"column":16},"end":{"line":27,"column":26}},{"start":{"line":28,"column":16},"end":{"line":29,"column":33}}]},"5":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":20},"end":{"line":17,"column":20}},{"start":{"line":17,"column":20},"end":{"line":17,"column":20}}]},"6":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":20},"end":{"line":24,"column":20}},{"start":{"line":24,"column":20},"end":{"line":24,"column":20}}]}},"code":["'use strict';","var AssertionError = require('assertion-error');","var typeOf = require('./typeOf');","var inspect = require('./inspect');","var typeOfAssert = typeOf.getTypeOfMap();","function assert(pass, message, actual, expected, showDiff, ssf) {","    if (showDiff === void 0) { showDiff = true; }","    if (!!pass) {","        return;","    }","    if (typeOf.isString(message)) {","        message = message.replace(/\\{([\\w]+)\\}/gi, function (match, id) {","            switch (id) {","                case 'a':","                case 'act':","                case 'actual':","                    if (arguments.length > 2) {","                        return inspect.toValueStrim(actual);","                    }","                    break;","                case 'e':","                case 'exp':","                case 'expected':","                    if (arguments.length > 3) {","                        return inspect.toValueStrim(expected);","                    }","                    break;","                default:","                    return match;","            }","        });","    }","    else {","        message = '';","    }","    throw new AssertionError(message, { actual: actual, expected: expected, showDiff: showDiff }, ssf);","}","module.exports = assert;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"11":0,"12":0,"13":0,"17":0,"18":0,"20":0,"24":0,"25":0,"27":0,"29":0,"34":0,"36":0,"38":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/model/GithubUser.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/model/GithubUser.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":18},"end":{"line":2,"column":30}}},"2":{"name":"GithubUser","line":3,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":26}}},"3":{"name":"(anonymous_3)","line":5,"loc":{"start":{"line":5,"column":36},"end":{"line":5,"column":48}}},"4":{"name":"(anonymous_4)","line":8,"loc":{"start":{"line":8,"column":26},"end":{"line":8,"column":42}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":19,"column":5}},"2":{"start":{"line":3,"column":4},"end":{"line":4,"column":5}},"3":{"start":{"line":5,"column":4},"end":{"line":7,"column":6}},"4":{"start":{"line":6,"column":8},"end":{"line":6,"column":102}},"5":{"start":{"line":8,"column":4},"end":{"line":17,"column":6}},"6":{"start":{"line":9,"column":8},"end":{"line":11,"column":9}},"7":{"start":{"line":10,"column":12},"end":{"line":10,"column":24}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":35}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":39}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":31}},"11":{"start":{"line":15,"column":8},"end":{"line":15,"column":41}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":19}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":22}},"14":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}}},"branchMap":{"1":{"line":6,"type":"cond-expr","locations":[{"start":{"line":6,"column":29},"end":{"line":6,"column":39}},{"start":{"line":6,"column":42},"end":{"line":6,"column":54}}]},"2":{"line":6,"type":"cond-expr","locations":[{"start":{"line":6,"column":69},"end":{"line":6,"column":88}},{"start":{"line":6,"column":91},"end":{"line":6,"column":100}}]},"3":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":8}},{"start":{"line":9,"column":8},"end":{"line":9,"column":8}}]}},"code":["'use strict';","var GithubUser = (function () {","    function GithubUser() {","    }","    GithubUser.prototype.toString = function () {","        return (this.login ? this.login : '<no login>') + (this.id ? '[' + this.id + ']' : '<no id>');","    };","    GithubUser.fromJSON = function (json) {","        if (!json) {","            return null;","        }","        var ret = new GithubUser();","        ret.id = parseInt(json.id, 10);","        ret.login = json.login;","        ret.avatar_url = json.avatar_url;","        return ret;","    };","    return GithubUser;","})();","module.exports = GithubUser;",""],"l":{"2":1,"3":1,"5":1,"6":0,"8":1,"9":0,"10":0,"12":0,"13":0,"14":0,"15":0,"16":0,"18":1,"20":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/model/GitCommitUser.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/model/GitCommitUser.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":21},"end":{"line":3,"column":33}}},"2":{"name":"GitCommitUser","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":29}}},"3":{"name":"(anonymous_3)","line":6,"loc":{"start":{"line":6,"column":39},"end":{"line":6,"column":51}}},"4":{"name":"(anonymous_4)","line":9,"loc":{"start":{"line":9,"column":29},"end":{"line":9,"column":45}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":46}},"2":{"start":{"line":3,"column":0},"end":{"line":22,"column":5}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":5}},"4":{"start":{"line":6,"column":4},"end":{"line":8,"column":6}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":114}},"6":{"start":{"line":9,"column":4},"end":{"line":20,"column":6}},"7":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"8":{"start":{"line":11,"column":12},"end":{"line":11,"column":24}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":53}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":55}},"11":{"start":{"line":15,"column":8},"end":{"line":15,"column":38}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":29}},"13":{"start":{"line":17,"column":8},"end":{"line":17,"column":31}},"14":{"start":{"line":18,"column":8},"end":{"line":18,"column":51}},"15":{"start":{"line":19,"column":8},"end":{"line":19,"column":19}},"16":{"start":{"line":21,"column":4},"end":{"line":21,"column":25}},"17":{"start":{"line":23,"column":0},"end":{"line":23,"column":31}}},"branchMap":{"1":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":28},"end":{"line":7,"column":37}},{"start":{"line":7,"column":40},"end":{"line":7,"column":51}}]},"2":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":75},"end":{"line":7,"column":97}},{"start":{"line":7,"column":100},"end":{"line":7,"column":112}}]},"3":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":10,"column":8}},{"start":{"line":10,"column":8},"end":{"line":10,"column":8}}]}},"code":["'use strict';","var assertVar = require('../../xm/assertVar');","var GitCommitUser = (function () {","    function GitCommitUser() {","    }","    GitCommitUser.prototype.toString = function () {","        return (this.name ? this.name : '<no name>') + ' ' + (this.email ? '<' + this.email + '>' : '<no email>');","    };","    GitCommitUser.fromJSON = function (json) {","        if (!json) {","            return null;","        }","        assertVar(json.name, 'string', ' json.name');","        assertVar(json.email, 'string', ' json.email');","        var ret = new GitCommitUser();","        ret.name = json.name;","        ret.email = json.email;","        ret.date = new Date(Date.parse(json.date));","        return ret;","    };","    return GitCommitUser;","})();","module.exports = GitCommitUser;",""],"l":{"2":1,"3":1,"4":1,"6":1,"7":0,"9":1,"10":0,"11":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"21":1,"23":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/model/GitCommitMessage.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/model/GitCommitMessage.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":1,"21":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":24},"end":{"line":3,"column":36}}},"2":{"name":"GitCommitMessage","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":36}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":55}}},"4":{"name":"(anonymous_4)","line":23,"loc":{"start":{"line":23,"column":42},"end":{"line":23,"column":54}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":72}},"2":{"start":{"line":3,"column":0},"end":{"line":27,"column":5}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":5}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":45}},"5":{"start":{"line":5,"column":31},"end":{"line":5,"column":43}},"6":{"start":{"line":6,"column":8},"end":{"line":8,"column":9}},"7":{"start":{"line":7,"column":12},"end":{"line":7,"column":29}},"8":{"start":{"line":10,"column":4},"end":{"line":22,"column":6}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":40}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":26}},"11":{"start":{"line":13,"column":8},"end":{"line":13,"column":23}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":40}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":54}},"14":{"start":{"line":16,"column":8},"end":{"line":21,"column":9}},"15":{"start":{"line":17,"column":12},"end":{"line":17,"column":51}},"16":{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},"17":{"start":{"line":19,"column":16},"end":{"line":19,"column":67}},"18":{"start":{"line":23,"column":4},"end":{"line":25,"column":6}},"19":{"start":{"line":24,"column":8},"end":{"line":24,"column":82}},"20":{"start":{"line":26,"column":4},"end":{"line":26,"column":28}},"21":{"start":{"line":28,"column":0},"end":{"line":28,"column":34}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":8}},{"start":{"line":5,"column":8},"end":{"line":5,"column":8}}]},"2":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":8}},{"start":{"line":6,"column":8},"end":{"line":6,"column":8}}]},"3":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":16,"column":8}},{"start":{"line":16,"column":8},"end":{"line":16,"column":8}}]},"4":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":12},"end":{"line":16,"column":17}},{"start":{"line":16,"column":21},"end":{"line":16,"column":37}}]},"5":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":12}},{"start":{"line":18,"column":12},"end":{"line":18,"column":12}}]},"6":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":16},"end":{"line":18,"column":32}},{"start":{"line":18,"column":36},"end":{"line":18,"column":64}},{"start":{"line":18,"column":68},"end":{"line":18,"column":83}}]},"7":{"line":24,"type":"cond-expr","locations":[{"start":{"line":24,"column":51},"end":{"line":24,"column":63}},{"start":{"line":24,"column":66},"end":{"line":24,"column":80}}]}},"code":["'use strict';","var subjectMessageExp = /^\\s*(\\S.*?\\S?)(?:\\s*[\\r\\n]\\s*([\\s\\S]*?))?\\s*$/;","var GitCommitMessage = (function () {","    function GitCommitMessage(text) {","        if (text === void 0) { text = null; }","        if (text) {","            this.parse(text);","        }","    }","    GitCommitMessage.prototype.parse = function (text) {","        this.text = String(text).trim();","        this.subject = '';","        this.body = '';","        subjectMessageExp.lastIndex = 0;","        var match = subjectMessageExp.exec(this.text);","        if (match && match.length > 1) {","            this.subject = String(match[1]).trim();","            if (match.length > 2 && typeof match[2] === 'string' && match[2] !== '') {","                this.body = match[2].replace(/\\r\\n/g, '\\n').trim();","            }","        }","    };","    GitCommitMessage.prototype.toString = function () {","        return (typeof this.subject === 'string' ? this.subject : '<no subject>');","    };","    return GitCommitMessage;","})();","module.exports = GitCommitMessage;",""],"l":{"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"23":1,"24":0,"26":1,"28":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/schema/config.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/schema/config.js","s":{"1":1,"2":1,"3":1,"4":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":25}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":53,"column":41}},"4":{"start":{"line":54,"column":0},"end":{"line":54,"column":24}}},"branchMap":{},"code":["'use strict';","var Joi = require('joi');","var Const = require('../context/Const');","var schema = Joi.object({","    version: Joi","        .string().regex(/^v\\d+$/)","        .default(Const.configVersion)","        .required()","        .description('config-format version'),","    path: Joi","        .string().regex(/^[\\w\\.-]+(?:\\/[\\w\\.-]+)*$/)","        .default(Const.typingsDir)","        .required()","        .description('path to definition directory'),","    repo: Joi","        .string().regex(/^[\\w\\.-]+\\/[\\w\\.-]+$/)","        .default(Const.definitelyRepo)","        .required()","        .description('github repository \"owner/name\"'),","    ref: Joi","        .string().regex(/^[\\w\\.-]+(?:\\/[\\w\\.-]+)*$/)","        .default(Const.mainBranch)","        .required()","        .description('git ref (branch/commit'),","    cache: Joi","        .string()","        .optional()","        .description('path to (shared) tsd-cache'),","    bundle: Joi","        .string().regex(/\\w+\\.ts$/)","        .default(Const.typingsDir + '/' + Const.bundleFile)","        .optional()","        .description('path to <reference /> bundle'),","    stats: Joi","        .boolean()","        .default(Const.statsDefault)","        .optional()","        .description('toggle stats tracking'),","    installed: Joi","        .object()","        .pattern(/^([a-z_](?:[\\._-]?[a-z0-9_]+)*)(\\/[a-z_](?:[\\._-]?[a-z0-9_]+)*)+\\.d\\.ts$/i, Joi.object({","        commit: Joi.string()","            .required()","            .regex(/^[0-9a-f]{6,40}$/)","            .description('git commit sha1 hash')","    }))","        .unknown(false)","        .optional()","        .description('installed definitions')","}).options({","    convert: false,","    allowUnknown: true","}).description('TSD config & data file');","module.exports = schema;",""],"l":{"2":1,"3":1,"4":1,"54":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/context/Paths.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/context/Paths.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":1,"11":0,"12":1,"13":0,"14":1,"15":0,"16":1,"17":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":13},"end":{"line":4,"column":25}}},"2":{"name":"Paths","line":5,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":21}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":28},"end":{"line":10,"column":40}}},"4":{"name":"(anonymous_4)","line":13,"loc":{"start":{"line":13,"column":24},"end":{"line":13,"column":36}}},"5":{"name":"(anonymous_5)","line":16,"loc":{"start":{"line":16,"column":24},"end":{"line":16,"column":36}}},"6":{"name":"(anonymous_6)","line":19,"loc":{"start":{"line":19,"column":28},"end":{"line":19,"column":40}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":23,"column":5}},"4":{"start":{"line":5,"column":4},"end":{"line":9,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":52}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":72}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":68}},"8":{"start":{"line":10,"column":4},"end":{"line":12,"column":6}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":86}},"10":{"start":{"line":13,"column":4},"end":{"line":15,"column":6}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":61}},"12":{"start":{"line":16,"column":4},"end":{"line":18,"column":6}},"13":{"start":{"line":17,"column":8},"end":{"line":17,"column":90}},"14":{"start":{"line":19,"column":4},"end":{"line":21,"column":6}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":74}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":17}},"17":{"start":{"line":24,"column":0},"end":{"line":24,"column":23}}},"branchMap":{"1":{"line":11,"type":"cond-expr","locations":[{"start":{"line":11,"column":47},"end":{"line":11,"column":61}},{"start":{"line":11,"column":64},"end":{"line":11,"column":84}}]},"2":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":16},"end":{"line":14,"column":32}},{"start":{"line":14,"column":36},"end":{"line":14,"column":59}}]},"3":{"line":17,"type":"cond-expr","locations":[{"start":{"line":17,"column":47},"end":{"line":17,"column":66}},{"start":{"line":17,"column":69},"end":{"line":17,"column":88}}]}},"code":["'use strict';","var path = require('path');","var Const = require('./Const');","var Paths = (function () {","    function Paths() {","        this.startCwd = path.resolve(process.cwd());","        this.configFile = path.resolve(this.startCwd, Const.configFile);","        this.cacheDir = path.resolve(this.startCwd, Const.cacheDir);","    }","    Paths.getCacheDirName = function () {","        return (process.platform === 'win32' ? Const.cacheDir : '.' + Const.cacheDir);","    };","    Paths.getUserHome = function () {","        return (process.env.HOME || process.env.USERPROFILE);","    };","    Paths.getUserRoot = function () {","        return (process.platform === 'win32' ? process.env.APPDATA : Paths.getUserHome());","    };","    Paths.getUserCacheDir = function () {","        return path.resolve(Paths.getUserRoot(), Paths.getCacheDirName());","    };","    return Paths;","})();","module.exports = Paths;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"10":1,"11":0,"13":1,"14":0,"16":1,"17":0,"19":1,"20":0,"22":1,"24":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/Query.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/Query.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":1,"16":0,"17":0,"18":1,"19":6,"20":1,"21":0,"22":0,"23":1,"24":1},"b":{"1":[0,0],"2":[6,6,6]},"f":{"1":1,"2":0,"3":0,"4":0,"5":6,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":13},"end":{"line":5,"column":25}}},"2":{"name":"Query","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":28}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":37},"end":{"line":15,"column":56}}},"4":{"name":"(anonymous_4)","line":19,"loc":{"start":{"line":19,"column":38},"end":{"line":19,"column":55}}},"5":{"name":"(anonymous_5)","line":24,"loc":{"start":{"line":24,"column":13},"end":{"line":24,"column":25}}},"6":{"name":"(anonymous_6)","line":30,"loc":{"start":{"line":30,"column":31},"end":{"line":30,"column":43}}},"7":{"name":"(anonymous_7)","line":31,"loc":{"start":{"line":31,"column":33},"end":{"line":31,"column":52}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":46}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":49}},"4":{"start":{"line":5,"column":0},"end":{"line":36,"column":5}},"5":{"start":{"line":6,"column":4},"end":{"line":14,"column":5}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":27}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":31}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":33}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":54}},"10":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"11":{"start":{"line":12,"column":12},"end":{"line":12,"column":57}},"12":{"start":{"line":15,"column":4},"end":{"line":18,"column":6}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":48}},"14":{"start":{"line":17,"column":8},"end":{"line":17,"column":53}},"15":{"start":{"line":19,"column":4},"end":{"line":22,"column":6}},"16":{"start":{"line":20,"column":8},"end":{"line":20,"column":44}},"17":{"start":{"line":21,"column":8},"end":{"line":21,"column":56}},"18":{"start":{"line":23,"column":4},"end":{"line":29,"column":7}},"19":{"start":{"line":25,"column":12},"end":{"line":25,"column":82}},"20":{"start":{"line":30,"column":4},"end":{"line":34,"column":6}},"21":{"start":{"line":31,"column":8},"end":{"line":33,"column":22}},"22":{"start":{"line":32,"column":12},"end":{"line":32,"column":35}},"23":{"start":{"line":35,"column":4},"end":{"line":35,"column":17}},"24":{"start":{"line":37,"column":0},"end":{"line":37,"column":23}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":11,"column":8}},{"start":{"line":11,"column":8},"end":{"line":11,"column":8}}]},"2":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":22},"end":{"line":25,"column":38}},{"start":{"line":25,"column":42},"end":{"line":25,"column":60}},{"start":{"line":25,"column":64},"end":{"line":25,"column":80}}]}},"code":["'use strict';","var assertVar = require('../../xm/assertVar');","var NameMatcher = require('./NameMatcher');","var VersionMatcher = require('./VersionMatcher');","var Query = (function () {","    function Query(pattern) {","        this.patterns = [];","        this.parseInfo = false;","        this.loadHistory = false;","        assertVar(pattern, 'string', 'pattern', true);","        if (pattern) {","            this.patterns.push(new NameMatcher(pattern));","        }","    }","    Query.prototype.addNamePattern = function (pattern) {","        assertVar(pattern, 'string', 'pattern');","        this.patterns.push(new NameMatcher(pattern));","    };","    Query.prototype.setVersionRange = function (range) {","        assertVar(range, 'string', 'range');","        this.versionMatcher = new VersionMatcher(range);","    };","    Object.defineProperty(Query.prototype, \"requiresHistory\", {","        get: function () {","            return !!(this.dateMatcher || this.commitMatcher || this.loadHistory);","        },","        enumerable: true,","        configurable: true","    });","    Query.prototype.toString = function () {","        return this.patterns.map(function (matcher) {","            return matcher.pattern;","        }).join(', ');","    };","    return Query;","})();","module.exports = Query;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"15":1,"16":0,"17":0,"19":1,"20":0,"21":0,"23":1,"25":6,"30":1,"31":0,"32":0,"35":1,"37":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/NameMatcher.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/NameMatcher.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":0,"10":1,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":19},"end":{"line":5,"column":31}}},"2":{"name":"NameMatcher","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":34}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":35},"end":{"line":10,"column":51}}},"4":{"name":"(anonymous_4)","line":13,"loc":{"start":{"line":13,"column":37},"end":{"line":13,"column":49}}},"5":{"name":"(anonymous_5)","line":16,"loc":{"start":{"line":16,"column":42},"end":{"line":16,"column":54}}},"6":{"name":"(anonymous_6)","line":41,"loc":{"start":{"line":41,"column":23},"end":{"line":41,"column":39}}},"7":{"name":"(anonymous_7)","line":46,"loc":{"start":{"line":46,"column":23},"end":{"line":46,"column":39}}},"8":{"name":"(anonymous_8)","line":52,"loc":{"start":{"line":52,"column":19},"end":{"line":52,"column":35}}},"9":{"name":"(anonymous_9)","line":57,"loc":{"start":{"line":57,"column":19},"end":{"line":57,"column":35}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"4":{"start":{"line":5,"column":0},"end":{"line":63,"column":5}},"5":{"start":{"line":6,"column":4},"end":{"line":9,"column":5}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":48}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":31}},"8":{"start":{"line":10,"column":4},"end":{"line":12,"column":6}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":49}},"10":{"start":{"line":13,"column":4},"end":{"line":15,"column":6}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":28}},"12":{"start":{"line":16,"column":4},"end":{"line":61,"column":6}},"13":{"start":{"line":17,"column":8},"end":{"line":19,"column":9}},"14":{"start":{"line":18,"column":12},"end":{"line":18,"column":64}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":46}},"16":{"start":{"line":21,"column":8},"end":{"line":21,"column":27}},"17":{"start":{"line":22,"column":8},"end":{"line":22,"column":24}},"18":{"start":{"line":23,"column":8},"end":{"line":25,"column":10}},"19":{"start":{"line":26,"column":8},"end":{"line":38,"column":9}},"20":{"start":{"line":27,"column":12},"end":{"line":29,"column":13}},"21":{"start":{"line":28,"column":16},"end":{"line":28,"column":67}},"22":{"start":{"line":32,"column":12},"end":{"line":34,"column":13}},"23":{"start":{"line":33,"column":16},"end":{"line":33,"column":70}},"24":{"start":{"line":35,"column":12},"end":{"line":37,"column":13}},"25":{"start":{"line":36,"column":16},"end":{"line":36,"column":83}},"26":{"start":{"line":39,"column":8},"end":{"line":60,"column":9}},"27":{"start":{"line":40,"column":12},"end":{"line":49,"column":13}},"28":{"start":{"line":41,"column":16},"end":{"line":43,"column":18}},"29":{"start":{"line":42,"column":20},"end":{"line":42,"column":82}},"30":{"start":{"line":46,"column":16},"end":{"line":48,"column":18}},"31":{"start":{"line":47,"column":20},"end":{"line":47,"column":50}},"32":{"start":{"line":51,"column":13},"end":{"line":60,"column":9}},"33":{"start":{"line":52,"column":12},"end":{"line":54,"column":14}},"34":{"start":{"line":53,"column":16},"end":{"line":53,"column":52}},"35":{"start":{"line":57,"column":12},"end":{"line":59,"column":14}},"36":{"start":{"line":58,"column":16},"end":{"line":58,"column":28}},"37":{"start":{"line":62,"column":4},"end":{"line":62,"column":23}},"38":{"start":{"line":64,"column":0},"end":{"line":64,"column":29}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":8}},{"start":{"line":17,"column":8},"end":{"line":17,"column":8}}]},"2":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":26,"column":8}},{"start":{"line":26,"column":8},"end":{"line":26,"column":8}}]},"3":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":12},"end":{"line":27,"column":12}},{"start":{"line":27,"column":12},"end":{"line":27,"column":12}}]},"4":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":35}},{"start":{"line":27,"column":39},"end":{"line":27,"column":55}}]},"5":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":12},"end":{"line":32,"column":12}},{"start":{"line":32,"column":12},"end":{"line":32,"column":12}}]},"6":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":16},"end":{"line":32,"column":35}},{"start":{"line":32,"column":39},"end":{"line":32,"column":55}}]},"7":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":12}},{"start":{"line":35,"column":12},"end":{"line":35,"column":12}}]},"8":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":16},"end":{"line":35,"column":35}},{"start":{"line":35,"column":39},"end":{"line":35,"column":55}}]},"9":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":8},"end":{"line":39,"column":8}},{"start":{"line":39,"column":8},"end":{"line":39,"column":8}}]},"10":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":12},"end":{"line":40,"column":12}},{"start":{"line":40,"column":12},"end":{"line":40,"column":12}}]},"11":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":27},"end":{"line":42,"column":55}},{"start":{"line":42,"column":59},"end":{"line":42,"column":81}}]},"12":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":13},"end":{"line":51,"column":13}},{"start":{"line":51,"column":13},"end":{"line":51,"column":13}}]}},"code":["'use strict';","var VError = require('verror');","var minimatch = require('minimatch');","var assertVar = require('../../xm/assertVar');","var NameMatcher = (function () {","    function NameMatcher(pattern) {","        assertVar(pattern, 'string', 'pattern');","        this.pattern = pattern;","    }","    NameMatcher.prototype.filter = function (list) {","        return list.filter(this.getFilterFunc());","    };","    NameMatcher.prototype.toString = function () {","        return this.pattern;","    };","    NameMatcher.prototype.getFilterFunc = function () {","        if (!this.pattern) {","            throw (new VError('NameMatcher undefined pattern'));","        }","        var parts = this.pattern.split(/\\//g);","        var projectPattern;","        var namePattern;","        var miniopts = {","            nocase: true","        };","        if (parts.length === 1) {","            if (parts[0].length > 0 && parts[0] !== '*') {","                namePattern = minimatch.filter(parts[0], miniopts);","            }","        }","        else {","            if (parts[0].length > 0 && parts[0] !== '*') {","                projectPattern = minimatch.filter(parts[0], miniopts);","            }","            if (parts[1].length > 0 && parts[1] !== '*') {","                namePattern = minimatch.filter(parts.slice(1).join(':'), miniopts);","            }","        }","        if (namePattern) {","            if (projectPattern) {","                return function (file) {","                    return projectPattern(file.project) && namePattern(file.name);","                };","            }","            else {","                return function (file) {","                    return namePattern(file.name);","                };","            }","        }","        else if (projectPattern) {","            return function (file) {","                return projectPattern(file.project);","            };","        }","        else {","            return function (file) {","                return true;","            };","        }","    };","    return NameMatcher;","})();","module.exports = NameMatcher;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"10":1,"11":0,"13":1,"14":0,"16":1,"17":0,"18":0,"20":0,"21":0,"22":0,"23":0,"26":0,"27":0,"28":0,"32":0,"33":0,"35":0,"36":0,"39":0,"40":0,"41":0,"42":0,"46":0,"47":0,"51":0,"52":0,"53":0,"57":0,"58":0,"62":1,"64":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/VersionMatcher.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/VersionMatcher.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":1,"48":1,"49":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":7,"loc":{"start":{"line":7,"column":22},"end":{"line":7,"column":34}}},"2":{"name":"VersionMatcher","line":8,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":35}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":38},"end":{"line":20,"column":54}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":30},"end":{"line":25,"column":50}}},"5":{"name":"(anonymous_5)","line":36,"loc":{"start":{"line":36,"column":40},"end":{"line":36,"column":55}}},"6":{"name":"(anonymous_6)","line":40,"loc":{"start":{"line":40,"column":39},"end":{"line":40,"column":60}}},"7":{"name":"(anonymous_7)","line":41,"loc":{"start":{"line":41,"column":29},"end":{"line":41,"column":44}}},"8":{"name":"(anonymous_8)","line":54,"loc":{"start":{"line":54,"column":41},"end":{"line":54,"column":57}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":26}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":59}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":0},"end":{"line":73,"column":5}},"7":{"start":{"line":8,"column":4},"end":{"line":19,"column":5}},"8":{"start":{"line":9,"column":8},"end":{"line":18,"column":9}},"9":{"start":{"line":10,"column":12},"end":{"line":10,"column":31}},"10":{"start":{"line":12,"column":13},"end":{"line":18,"column":9}},"11":{"start":{"line":13,"column":12},"end":{"line":13,"column":56}},"12":{"start":{"line":14,"column":12},"end":{"line":14,"column":83}},"13":{"start":{"line":17,"column":12},"end":{"line":17,"column":47}},"14":{"start":{"line":20,"column":4},"end":{"line":53,"column":6}},"15":{"start":{"line":21,"column":8},"end":{"line":21,"column":25}},"16":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"17":{"start":{"line":23,"column":12},"end":{"line":23,"column":33}},"18":{"start":{"line":25,"column":8},"end":{"line":34,"column":32}},"19":{"start":{"line":26,"column":12},"end":{"line":26,"column":50}},"20":{"start":{"line":27,"column":12},"end":{"line":32,"column":13}},"21":{"start":{"line":28,"column":16},"end":{"line":28,"column":34}},"22":{"start":{"line":31,"column":16},"end":{"line":31,"column":32}},"23":{"start":{"line":33,"column":12},"end":{"line":33,"column":23}},"24":{"start":{"line":35,"column":8},"end":{"line":39,"column":9}},"25":{"start":{"line":36,"column":12},"end":{"line":38,"column":15}},"26":{"start":{"line":37,"column":16},"end":{"line":37,"column":49}},"27":{"start":{"line":40,"column":8},"end":{"line":52,"column":15}},"28":{"start":{"line":41,"column":12},"end":{"line":50,"column":15}},"29":{"start":{"line":42,"column":16},"end":{"line":49,"column":17}},"30":{"start":{"line":43,"column":20},"end":{"line":45,"column":21}},"31":{"start":{"line":44,"column":24},"end":{"line":44,"column":39}},"32":{"start":{"line":47,"column":21},"end":{"line":49,"column":17}},"33":{"start":{"line":48,"column":20},"end":{"line":48,"column":35}},"34":{"start":{"line":51,"column":12},"end":{"line":51,"column":24}},"35":{"start":{"line":54,"column":4},"end":{"line":69,"column":6}},"36":{"start":{"line":55,"column":8},"end":{"line":55,"column":19}},"37":{"start":{"line":56,"column":8},"end":{"line":67,"column":9}},"38":{"start":{"line":57,"column":12},"end":{"line":57,"column":30}},"39":{"start":{"line":58,"column":12},"end":{"line":66,"column":13}},"40":{"start":{"line":59,"column":16},"end":{"line":59,"column":27}},"41":{"start":{"line":61,"column":17},"end":{"line":66,"column":13}},"42":{"start":{"line":62,"column":16},"end":{"line":62,"column":29}},"43":{"start":{"line":64,"column":17},"end":{"line":66,"column":13}},"44":{"start":{"line":65,"column":16},"end":{"line":65,"column":29}},"45":{"start":{"line":68,"column":8},"end":{"line":68,"column":22}},"46":{"start":{"line":70,"column":4},"end":{"line":70,"column":37}},"47":{"start":{"line":71,"column":4},"end":{"line":71,"column":31}},"48":{"start":{"line":72,"column":4},"end":{"line":72,"column":26}},"49":{"start":{"line":74,"column":0},"end":{"line":74,"column":32}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":8}},{"start":{"line":9,"column":8},"end":{"line":9,"column":8}}]},"2":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":12},"end":{"line":9,"column":43}},{"start":{"line":9,"column":47},"end":{"line":9,"column":75}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":13},"end":{"line":12,"column":13}},{"start":{"line":12,"column":13},"end":{"line":12,"column":13}}]},"4":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":22,"column":8}},{"start":{"line":22,"column":8},"end":{"line":22,"column":8}}]},"5":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":23}},{"start":{"line":22,"column":27},"end":{"line":22,"column":60}}]},"6":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":12},"end":{"line":27,"column":12}},{"start":{"line":27,"column":12},"end":{"line":27,"column":12}}]},"7":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":8}},{"start":{"line":35,"column":8},"end":{"line":35,"column":8}}]},"8":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":16},"end":{"line":42,"column":16}},{"start":{"line":42,"column":16},"end":{"line":42,"column":16}}]},"9":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":20},"end":{"line":43,"column":20}},{"start":{"line":43,"column":20},"end":{"line":43,"column":20}}]},"10":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":21},"end":{"line":47,"column":21}},{"start":{"line":47,"column":21},"end":{"line":47,"column":21}}]},"11":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":12},"end":{"line":58,"column":12}},{"start":{"line":58,"column":12},"end":{"line":58,"column":12}}]},"12":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":17},"end":{"line":61,"column":17}},{"start":{"line":61,"column":17},"end":{"line":61,"column":17}}]},"13":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":17},"end":{"line":64,"column":17}},{"start":{"line":64,"column":17},"end":{"line":64,"column":17}}]}},"code":["'use strict';","var semver = require('semver');","var assert = require('../../xm/assert');","var intMax = 900719925474;","var semverMax = 'v' + intMax + '.' + intMax + '.' + intMax;","var semverMin = 'v' + 0 + '.' + 0 + '.' + 0;","var VersionMatcher = (function () {","    function VersionMatcher(range) {","        if (range === VersionMatcher.latest || range === VersionMatcher.all) {","            this.range = range;","        }","        else if (range) {","            this.range = semver.validRange(range, true);","            assert(!!this.range, 'expected {a} to be a valid semver-range', range);","        }","        else {","            this.range = VersionMatcher.latest;","        }","    }","    VersionMatcher.prototype.filter = function (list) {","        var _this = this;","        if (!this.range || this.range === VersionMatcher.all) {","            return list.slice(0);","        }","        var map = list.reduce(function (map, def) {","            var id = def.project + '/' + def.name;","            if (id in map) {","                map[id].push(def);","            }","            else {","                map[id] = [def];","            }","            return map;","        }, Object.create(null));","        if (this.range === VersionMatcher.latest) {","            return Object.keys(map).map(function (key) {","                return _this.getLatest(map[key]);","            });","        }","        return Object.keys(map).reduce(function (memo, key) {","            map[key].forEach(function (def) {","                if (!def.semver) {","                    if (semver.satisfies(semverMax, _this.range)) {","                        memo.push(def);","                    }","                }","                else if (semver.satisfies(def.semver, _this.range)) {","                    memo.push(def);","                }","            });","            return memo;","        }, []);","    };","    VersionMatcher.prototype.getLatest = function (list) {","        var latest;","        for (var i = 0, ii = list.length; i < ii; i++) {","            var def = list[i];","            if (!def.semver) {","                return def;","            }","            else if (!latest) {","                latest = def;","            }","            else if (semver.gt(def.semver, latest.semver)) {","                latest = def;","            }","        }","        return latest;","    };","    VersionMatcher.latest = 'latest';","    VersionMatcher.all = 'all';","    return VersionMatcher;","})();","module.exports = VersionMatcher;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"12":0,"13":0,"14":0,"17":0,"20":1,"21":0,"22":0,"23":0,"25":0,"26":0,"27":0,"28":0,"31":0,"33":0,"35":0,"36":0,"37":0,"40":0,"41":0,"42":0,"43":0,"44":0,"47":0,"48":0,"51":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"61":0,"62":0,"64":0,"65":0,"68":0,"70":1,"71":1,"72":1,"74":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/Selection.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/Selection.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1},"b":{"1":[0,0]},"f":{"1":1,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":29}}},"2":{"name":"Selection","line":5,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":30}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":46}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":11,"column":5}},"4":{"start":{"line":5,"column":4},"end":{"line":9,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":47}},"6":{"start":{"line":6,"column":32},"end":{"line":6,"column":45}},"7":{"start":{"line":7,"column":8},"end":{"line":7,"column":47}},"8":{"start":{"line":8,"column":8},"end":{"line":8,"column":27}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":21}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":27}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":8}},{"start":{"line":6,"column":8},"end":{"line":6,"column":8}}]}},"code":["'use strict';","var assertVar = require('../../xm/assertVar');","var Query = require('./Query');","var Selection = (function () {","    function Selection(query) {","        if (query === void 0) { query = null; }","        assertVar(query, Query, 'query', true);","        this.query = query;","    }","    return Selection;","})();","module.exports = Selection;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"10":1,"12":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/InstallResult.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/InstallResult.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1},"b":{},"f":{"1":1,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":21},"end":{"line":5,"column":33}}},"2":{"name":"InstallResult","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":36}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":48}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":36}},"4":{"start":{"line":5,"column":0},"end":{"line":14,"column":5}},"5":{"start":{"line":6,"column":4},"end":{"line":12,"column":5}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":45}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":45}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":45}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":47}},"10":{"start":{"line":11,"column":8},"end":{"line":11,"column":31}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":25}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":31}}},"branchMap":{},"code":["'use strict';","var collection = require('../../xm/collection');","var assertVar = require('../../xm/assertVar');","var Options = require('../Options');","var InstallResult = (function () {","    function InstallResult(options) {","        this.written = new collection.Hash();","        this.removed = new collection.Hash();","        this.skipped = new collection.Hash();","        assertVar(options, Options, 'options');","        this.options = options;","    }","    return InstallResult;","})();","module.exports = InstallResult;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"13":1,"15":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/Options.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/Options.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":1,"2":1,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":15},"end":{"line":4,"column":27}}},"2":{"name":"Options","line":5,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":23}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":23},"end":{"line":16,"column":39}}},"4":{"name":"(anonymous_4)","line":19,"loc":{"start":{"line":19,"column":38},"end":{"line":19,"column":53}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"3":{"start":{"line":4,"column":0},"end":{"line":30,"column":5}},"4":{"start":{"line":5,"column":4},"end":{"line":15,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":28}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":28}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":26}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":41}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":36}},"10":{"start":{"line":11,"column":8},"end":{"line":11,"column":34}},"11":{"start":{"line":12,"column":8},"end":{"line":12,"column":32}},"12":{"start":{"line":13,"column":8},"end":{"line":13,"column":36}},"13":{"start":{"line":14,"column":8},"end":{"line":14,"column":31}},"14":{"start":{"line":16,"column":4},"end":{"line":27,"column":6}},"15":{"start":{"line":17,"column":8},"end":{"line":17,"column":33}},"16":{"start":{"line":18,"column":8},"end":{"line":25,"column":9}},"17":{"start":{"line":19,"column":12},"end":{"line":24,"column":15}},"18":{"start":{"line":20,"column":16},"end":{"line":23,"column":17}},"19":{"start":{"line":21,"column":20},"end":{"line":21,"column":85}},"20":{"start":{"line":22,"column":20},"end":{"line":22,"column":42}},"21":{"start":{"line":26,"column":8},"end":{"line":26,"column":20}},"22":{"start":{"line":28,"column":4},"end":{"line":28,"column":48}},"23":{"start":{"line":29,"column":4},"end":{"line":29,"column":19}},"24":{"start":{"line":31,"column":0},"end":{"line":31,"column":25}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":8}},{"start":{"line":18,"column":8},"end":{"line":18,"column":8}}]},"2":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":16},"end":{"line":20,"column":16}},{"start":{"line":20,"column":16},"end":{"line":20,"column":16}}]}},"code":["'use strict';","var typeOf = require('../xm/typeOf');","var assertVar = require('../xm/assertVar');","var Options = (function () {","    function Options() {","        this.minMatches = 0;","        this.maxMatches = 0;","        this.limitApi = 5;","        this.resolveDependencies = false;","        this.overwriteFiles = false;","        this.saveToConfig = false;","        this.saveBundle = false;","        this.reinstallClean = false;","        this.addToBundles = [];","    }","    Options.fromJSON = function (json) {","        var opts = new Options();","        if (json) {","            Object.keys(opts).forEach(function (key) {","                if (key in json) {","                    assertVar(json[key], typeOf.get(opts[key]), 'json[' + key + ']');","                    opts[key] = json[key];","                }","            });","        }","        return opts;","    };","    Options.main = Object.freeze(new Options());","    return Options;","})();","module.exports = Options;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"26":0,"28":1,"29":1,"31":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/Core.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/Core.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":14,"loc":{"start":{"line":14,"column":12},"end":{"line":14,"column":24}}},"2":{"name":"Core","line":15,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":27}}},"3":{"name":"(anonymous_3)","line":29,"loc":{"start":{"line":29,"column":34},"end":{"line":29,"column":46}}},"4":{"name":"(anonymous_4)","line":42,"loc":{"start":{"line":42,"column":34},"end":{"line":42,"column":63}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":46}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":48}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":49}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":45}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":47}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":37}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":47}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":41}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":39}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":37}},"13":{"start":{"line":14,"column":0},"end":{"line":55,"column":5}},"14":{"start":{"line":15,"column":4},"end":{"line":28,"column":5}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":62}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":62}},"17":{"start":{"line":18,"column":8},"end":{"line":18,"column":47}},"18":{"start":{"line":19,"column":8},"end":{"line":19,"column":31}},"19":{"start":{"line":20,"column":8},"end":{"line":20,"column":44}},"20":{"start":{"line":21,"column":8},"end":{"line":21,"column":41}},"21":{"start":{"line":22,"column":8},"end":{"line":22,"column":48}},"22":{"start":{"line":23,"column":8},"end":{"line":23,"column":47}},"23":{"start":{"line":24,"column":8},"end":{"line":24,"column":43}},"24":{"start":{"line":25,"column":8},"end":{"line":25,"column":45}},"25":{"start":{"line":26,"column":8},"end":{"line":26,"column":43}},"26":{"start":{"line":27,"column":8},"end":{"line":27,"column":28}},"27":{"start":{"line":29,"column":4},"end":{"line":41,"column":6}},"28":{"start":{"line":30,"column":8},"end":{"line":30,"column":108}},"29":{"start":{"line":31,"column":8},"end":{"line":31,"column":88}},"30":{"start":{"line":32,"column":8},"end":{"line":32,"column":88}},"31":{"start":{"line":33,"column":8},"end":{"line":33,"column":93}},"32":{"start":{"line":34,"column":8},"end":{"line":39,"column":9}},"33":{"start":{"line":35,"column":12},"end":{"line":35,"column":70}},"34":{"start":{"line":38,"column":12},"end":{"line":38,"column":58}},"35":{"start":{"line":40,"column":8},"end":{"line":40,"column":66}},"36":{"start":{"line":42,"column":4},"end":{"line":53,"column":6}},"37":{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},"38":{"start":{"line":44,"column":12},"end":{"line":44,"column":60}},"39":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"40":{"start":{"line":47,"column":12},"end":{"line":47,"column":60}},"41":{"start":{"line":49,"column":8},"end":{"line":49,"column":38}},"42":{"start":{"line":50,"column":8},"end":{"line":50,"column":51}},"43":{"start":{"line":51,"column":8},"end":{"line":51,"column":85}},"44":{"start":{"line":52,"column":8},"end":{"line":52,"column":85}},"45":{"start":{"line":54,"column":4},"end":{"line":54,"column":16}},"46":{"start":{"line":56,"column":0},"end":{"line":56,"column":22}}},"branchMap":{"1":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":20},"end":{"line":33,"column":48}},{"start":{"line":33,"column":52},"end":{"line":33,"column":92}}]},"2":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":34,"column":8}},{"start":{"line":34,"column":8},"end":{"line":34,"column":8}}]},"3":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":43,"column":8}},{"start":{"line":43,"column":8},"end":{"line":43,"column":8}}]},"4":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"5":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":12},"end":{"line":46,"column":19}},{"start":{"line":46,"column":23},"end":{"line":46,"column":46}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":30},"end":{"line":50,"column":37}},{"start":{"line":50,"column":41},"end":{"line":50,"column":49}}]}},"code":["'use strict';","var assertVar = require('../../xm/assertVar');","var typeOf = require('../../xm/typeOf');","var CacheMode = require('../../http/CacheMode');","var GithubRepo = require('../../git/GithubRepo');","var Context = require('../context/Context');","var IndexManager = require('./IndexManager');","var SelectorQuery = require('./SelectorQuery');","var ConfigIO = require('./ConfigIO');","var ContentLoader = require('./ContentLoader');","var InfoParser = require('./InfoParser');","var Installer = require('./Installer');","var Resolver = require('./Resolver');","var Core = (function () {","    function Core(context) {","        this._apiCacheMode = CacheMode[CacheMode.allowUpdate];","        this._rawCacheMode = CacheMode[CacheMode.allowUpdate];","        assertVar(context, Context, 'context');","        this.context = context;","        this.index = new IndexManager(this);","        this.config = new ConfigIO(this);","        this.selector = new SelectorQuery(this);","        this.content = new ContentLoader(this);","        this.parser = new InfoParser(this);","        this.installer = new Installer(this);","        this.resolver = new Resolver(this);","        this.updateConfig();","    }","    Core.prototype.updateConfig = function () {","        this.repo = new GithubRepo(this.context.config, this.context.paths.cacheDir, this.context.settings);","        this.repo.api.headers['user-agent'] = this.context.packageInfo.getNameVersion();","        this.repo.raw.headers['user-agent'] = this.context.packageInfo.getNameVersion();","        var token = process.env.TSD_GITHUB_TOKEN || this.context.settings.getValue('/token');","        if (typeOf.isString(token)) {","            this.repo.api.headers['authorization'] = 'token ' + token;","        }","        else {","            delete this.repo.api.headers['authorization'];","        }","        this.useCacheMode(this._apiCacheMode, this._rawCacheMode);","    };","    Core.prototype.useCacheMode = function (modeName, rawMode) {","        if (!(modeName in CacheMode)) {","            throw new Error('invalid CacheMode' + modeName);","        }","        if (rawMode && !(rawMode in CacheMode)) {","            throw new Error('invalid CacheMode ' + rawMode);","        }","        this._apiCacheMode = modeName;","        this._rawCacheMode = (rawMode || modeName);","        this.repo.api.cache.opts.cache.applyCacheMode(CacheMode[this._apiCacheMode]);","        this.repo.raw.cache.opts.cache.applyCacheMode(CacheMode[this._rawCacheMode]);","    };","    return Core;","})();","module.exports = Core;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"38":0,"40":0,"42":1,"43":0,"44":0,"46":0,"47":0,"49":0,"50":0,"51":0,"52":0,"54":1,"56":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/CacheMode.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/CacheMode.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"b":{"1":[1,1]},"f":{"1":1},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":1},"end":{"line":3,"column":22}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":14}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":34}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":58}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":60}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":60}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":60}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":60}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":3},"end":{"line":9,"column":12}},{"start":{"line":9,"column":17},"end":{"line":9,"column":31}}]}},"code":["'use strict';","var CacheMode;","(function (CacheMode) {","    CacheMode[CacheMode[\"forceLocal\"] = 1] = \"forceLocal\";","    CacheMode[CacheMode[\"forceRemote\"] = 2] = \"forceRemote\";","    CacheMode[CacheMode[\"forceUpdate\"] = 3] = \"forceUpdate\";","    CacheMode[CacheMode[\"allowRemote\"] = 4] = \"allowRemote\";","    CacheMode[CacheMode[\"allowUpdate\"] = 5] = \"allowUpdate\";","})(CacheMode || (CacheMode = {}));","module.exports = CacheMode;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/GithubRepo.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/GithubRepo.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":1,"20":0,"21":1,"22":0,"23":0,"24":1,"25":1},"b":{},"f":{"1":1,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":18},"end":{"line":8,"column":30}}},"2":{"name":"GithubRepo","line":9,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":48}}},"3":{"name":"(anonymous_3)","line":19,"loc":{"start":{"line":19,"column":39},"end":{"line":19,"column":51}}},"4":{"name":"(anonymous_4)","line":22,"loc":{"start":{"line":22,"column":36},"end":{"line":22,"column":48}}},"5":{"name":"(anonymous_5)","line":26,"loc":{"start":{"line":26,"column":13},"end":{"line":26,"column":32}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":51}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":46}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":46}},"7":{"start":{"line":8,"column":0},"end":{"line":34,"column":5}},"8":{"start":{"line":9,"column":4},"end":{"line":18,"column":5}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":46}},"10":{"start":{"line":11,"column":8},"end":{"line":11,"column":50}},"11":{"start":{"line":12,"column":8},"end":{"line":12,"column":45}},"12":{"start":{"line":13,"column":8},"end":{"line":13,"column":29}},"13":{"start":{"line":14,"column":8},"end":{"line":14,"column":41}},"14":{"start":{"line":15,"column":8},"end":{"line":15,"column":88}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":91}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":91}},"17":{"start":{"line":19,"column":4},"end":{"line":21,"column":6}},"18":{"start":{"line":20,"column":8},"end":{"line":20,"column":69}},"19":{"start":{"line":22,"column":4},"end":{"line":24,"column":6}},"20":{"start":{"line":23,"column":8},"end":{"line":23,"column":69}},"21":{"start":{"line":25,"column":4},"end":{"line":32,"column":7}},"22":{"start":{"line":27,"column":12},"end":{"line":27,"column":39}},"23":{"start":{"line":28,"column":12},"end":{"line":28,"column":39}},"24":{"start":{"line":33,"column":4},"end":{"line":33,"column":22}},"25":{"start":{"line":35,"column":0},"end":{"line":35,"column":28}}},"branchMap":{},"code":["'use strict';","var path = require('path');","var assertVar = require('../xm/assertVar');","var JSONPointer = require('../xm/lib/JSONPointer');","var GithubURLs = require('./GithubURLs');","var GithubAPI = require('./loader/GithubAPI');","var GithubRaw = require('./loader/GithubRaw');","var GithubRepo = (function () {","    function GithubRepo(config, storeDir, opts) {","        assertVar(config, 'object', 'config');","        assertVar(storeDir, 'string', 'storeDir');","        assertVar(opts, JSONPointer, 'opts');","        this.config = config;","        this.urls = new GithubURLs(this);","        this.storeDir = path.join(storeDir.replace(/[\\\\\\/]+$/, ''), this.getCacheKey());","        this.api = new GithubAPI(this.urls, opts.getChild('git/api'), opts, this.storeDir);","        this.raw = new GithubRaw(this.urls, opts.getChild('git/raw'), opts, this.storeDir);","    }","    GithubRepo.prototype.getCacheKey = function () {","        return this.config.repoOwner + '-' + this.config.repoProject;","    };","    GithubRepo.prototype.toString = function () {","        return this.config.repoOwner + '/' + this.config.repoProject;","    };","    Object.defineProperty(GithubRepo.prototype, \"verbose\", {","        set: function (verbose) {","            this.api.verbose = verbose;","            this.raw.verbose = verbose;","        },","        enumerable: true,","        configurable: true","    });","    return GithubRepo;","})();","module.exports = GithubRepo;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"19":1,"20":0,"22":1,"23":0,"25":1,"27":0,"28":0,"33":1,"35":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/GithubURLs.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/GithubURLs.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":1,"37":0,"38":1,"39":0,"40":1,"41":0,"42":1,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":1,"51":0,"52":1,"53":0,"54":0,"55":1,"56":0,"57":0,"58":1,"59":0,"60":0,"61":1,"62":0,"63":0,"64":1,"65":0,"66":0,"67":1,"68":0,"69":1,"70":1},"b":{"1":[1,1,1],"2":[0,0],"3":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":44},"end":{"line":2,"column":60}}},"2":{"name":"__","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":18}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":18},"end":{"line":10,"column":36}}},"4":{"name":"GithubURLs","line":12,"loc":{"start":{"line":12,"column":4},"end":{"line":12,"column":30}}},"5":{"name":"(anonymous_5)","line":33,"loc":{"start":{"line":33,"column":34},"end":{"line":33,"column":54}}},"6":{"name":"(anonymous_6)","line":40,"loc":{"start":{"line":40,"column":31},"end":{"line":40,"column":43}}},"7":{"name":"(anonymous_7)","line":43,"loc":{"start":{"line":43,"column":32},"end":{"line":43,"column":44}}},"8":{"name":"(anonymous_8)","line":46,"loc":{"start":{"line":46,"column":31},"end":{"line":46,"column":43}}},"9":{"name":"(anonymous_9)","line":49,"loc":{"start":{"line":49,"column":35},"end":{"line":49,"column":56}}},"10":{"name":"(anonymous_10)","line":57,"loc":{"start":{"line":57,"column":36},"end":{"line":57,"column":57}}},"11":{"name":"(anonymous_11)","line":65,"loc":{"start":{"line":65,"column":39},"end":{"line":65,"column":51}}},"12":{"name":"(anonymous_12)","line":68,"loc":{"start":{"line":68,"column":37},"end":{"line":68,"column":53}}},"13":{"name":"(anonymous_13)","line":74,"loc":{"start":{"line":74,"column":35},"end":{"line":74,"column":62}}},"14":{"name":"(anonymous_14)","line":81,"loc":{"start":{"line":81,"column":42},"end":{"line":81,"column":58}}},"15":{"name":"(anonymous_15)","line":87,"loc":{"start":{"line":87,"column":37},"end":{"line":87,"column":66}}},"16":{"name":"(anonymous_16)","line":94,"loc":{"start":{"line":94,"column":35},"end":{"line":94,"column":50}}},"17":{"name":"(anonymous_17)","line":100,"loc":{"start":{"line":100,"column":37},"end":{"line":100,"column":49}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":58}},"3":{"start":{"line":3,"column":21},"end":{"line":3,"column":58}},"4":{"start":{"line":3,"column":46},"end":{"line":3,"column":58}},"5":{"start":{"line":4,"column":4},"end":{"line":4,"column":43}},"6":{"start":{"line":4,"column":20},"end":{"line":4,"column":41}},"7":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"9":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":49}},"11":{"start":{"line":10,"column":0},"end":{"line":104,"column":15}},"12":{"start":{"line":11,"column":4},"end":{"line":11,"column":34}},"13":{"start":{"line":12,"column":4},"end":{"line":32,"column":5}},"14":{"start":{"line":13,"column":8},"end":{"line":13,"column":26}},"15":{"start":{"line":14,"column":8},"end":{"line":14,"column":60}},"16":{"start":{"line":15,"column":8},"end":{"line":15,"column":49}},"17":{"start":{"line":16,"column":8},"end":{"line":16,"column":69}},"18":{"start":{"line":17,"column":8},"end":{"line":17,"column":74}},"19":{"start":{"line":18,"column":8},"end":{"line":18,"column":42}},"20":{"start":{"line":19,"column":8},"end":{"line":19,"column":26}},"21":{"start":{"line":20,"column":8},"end":{"line":20,"column":45}},"22":{"start":{"line":21,"column":8},"end":{"line":21,"column":43}},"23":{"start":{"line":22,"column":8},"end":{"line":22,"column":67}},"24":{"start":{"line":23,"column":8},"end":{"line":23,"column":73}},"25":{"start":{"line":24,"column":8},"end":{"line":24,"column":43}},"26":{"start":{"line":25,"column":8},"end":{"line":25,"column":91}},"27":{"start":{"line":26,"column":8},"end":{"line":26,"column":72}},"28":{"start":{"line":27,"column":8},"end":{"line":27,"column":65}},"29":{"start":{"line":28,"column":8},"end":{"line":28,"column":71}},"30":{"start":{"line":29,"column":8},"end":{"line":29,"column":79}},"31":{"start":{"line":30,"column":8},"end":{"line":30,"column":69}},"32":{"start":{"line":31,"column":8},"end":{"line":31,"column":69}},"33":{"start":{"line":33,"column":4},"end":{"line":39,"column":6}},"34":{"start":{"line":34,"column":8},"end":{"line":37,"column":11}},"35":{"start":{"line":38,"column":8},"end":{"line":38,"column":60}},"36":{"start":{"line":40,"column":4},"end":{"line":42,"column":6}},"37":{"start":{"line":41,"column":8},"end":{"line":41,"column":34}},"38":{"start":{"line":43,"column":4},"end":{"line":45,"column":6}},"39":{"start":{"line":44,"column":8},"end":{"line":44,"column":35}},"40":{"start":{"line":46,"column":4},"end":{"line":48,"column":6}},"41":{"start":{"line":47,"column":8},"end":{"line":47,"column":34}},"42":{"start":{"line":49,"column":4},"end":{"line":56,"column":6}},"43":{"start":{"line":50,"column":8},"end":{"line":50,"column":40}},"44":{"start":{"line":51,"column":8},"end":{"line":51,"column":42}},"45":{"start":{"line":52,"column":8},"end":{"line":55,"column":11}},"46":{"start":{"line":57,"column":4},"end":{"line":64,"column":6}},"47":{"start":{"line":58,"column":8},"end":{"line":58,"column":40}},"48":{"start":{"line":59,"column":8},"end":{"line":59,"column":42}},"49":{"start":{"line":60,"column":8},"end":{"line":63,"column":11}},"50":{"start":{"line":65,"column":4},"end":{"line":67,"column":6}},"51":{"start":{"line":66,"column":8},"end":{"line":66,"column":42}},"52":{"start":{"line":68,"column":4},"end":{"line":73,"column":6}},"53":{"start":{"line":69,"column":8},"end":{"line":69,"column":42}},"54":{"start":{"line":70,"column":8},"end":{"line":72,"column":11}},"55":{"start":{"line":74,"column":4},"end":{"line":80,"column":6}},"56":{"start":{"line":75,"column":8},"end":{"line":75,"column":40}},"57":{"start":{"line":76,"column":8},"end":{"line":79,"column":11}},"58":{"start":{"line":81,"column":4},"end":{"line":86,"column":6}},"59":{"start":{"line":82,"column":8},"end":{"line":82,"column":42}},"60":{"start":{"line":83,"column":8},"end":{"line":85,"column":11}},"61":{"start":{"line":87,"column":4},"end":{"line":93,"column":6}},"62":{"start":{"line":88,"column":8},"end":{"line":88,"column":44}},"63":{"start":{"line":89,"column":8},"end":{"line":92,"column":11}},"64":{"start":{"line":94,"column":4},"end":{"line":99,"column":6}},"65":{"start":{"line":95,"column":8},"end":{"line":95,"column":38}},"66":{"start":{"line":96,"column":8},"end":{"line":98,"column":11}},"67":{"start":{"line":100,"column":4},"end":{"line":102,"column":6}},"68":{"start":{"line":101,"column":8},"end":{"line":101,"column":40}},"69":{"start":{"line":103,"column":4},"end":{"line":103,"column":22}},"70":{"start":{"line":105,"column":0},"end":{"line":105,"column":28}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":7,"column":1}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":21}},{"start":{"line":3,"column":21},"end":{"line":3,"column":21}}]},"3":{"line":78,"type":"cond-expr","locations":[{"start":{"line":78,"column":36},"end":{"line":78,"column":37}},{"start":{"line":78,"column":40},"end":{"line":78,"column":41}}]}},"code":["'use strict';","var __extends = (this && this.__extends) || function (d, b) {","    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];","    function __() { this.constructor = d; }","    __.prototype = b.prototype;","    d.prototype = new __();","};","var assertVar = require('../xm/assertVar');","var URLManager = require('../xm/lib/URLManager');","var GithubURLs = (function (_super) {","    __extends(GithubURLs, _super);","    function GithubURLs(repo) {","        _super.call(this);","        this._base = 'https://github.com/{owner}/{project}';","        this._apiBase = 'https://api.github.com';","        this._api = 'https://api.github.com/repos/{owner}/{project}';","        this._raw = 'https://raw.githubusercontent.com/{owner}/{project}';","        assertVar(repo, 'object', 'repo');","        this._repo = repo;","        this.addTemplate('base', this._base);","        this.addTemplate('raw', this._raw);","        this.addTemplate('rawFile', this._raw + '/{+ref}/{+path}');","        this.addTemplate('htmlFile', this._base + '/blob/{ref}/{+path}');","        this.addTemplate('api', this._api);","        this.addTemplate('apiTree', this._api + '/git/trees/{tree}?recursive={recursive}');","        this.addTemplate('apiBranch', this._api + '/branches/{branch}');","        this.addTemplate('apiBranches', this._api + '/branches');","        this.addTemplate('apiCommit', this._api + '/commits/{commit}');","        this.addTemplate('apiPathCommits', this._api + '/commits?path={path}');","        this.addTemplate('apiBlob', this._api + '/git/blobs/{blob}');","        this.addTemplate('rateLimit', this._apiBase + '/rate_limit');","    }","    GithubURLs.prototype.getURL = function (id, vars) {","        this.setVars({","            owner: this._repo.config.repoOwner,","            project: this._repo.config.repoProject","        });","        return _super.prototype.getURL.call(this, id, vars);","    };","    GithubURLs.prototype.api = function () {","        return this.getURL('api');","    };","    GithubURLs.prototype.base = function () {","        return this.getURL('base');","    };","    GithubURLs.prototype.raw = function () {","        return this.getURL('raw');","    };","    GithubURLs.prototype.rawFile = function (ref, path) {","        assertVar(ref, 'string', 'ref');","        assertVar(path, 'string', 'path');","        return this.getURL('rawFile', {","            ref: ref,","            path: path","        });","    };","    GithubURLs.prototype.htmlFile = function (ref, path) {","        assertVar(ref, 'string', 'ref');","        assertVar(path, 'string', 'path');","        return this.getURL('htmlFile', {","            ref: ref,","            path: path","        });","    };","    GithubURLs.prototype.apiBranches = function () {","        return this.getURL('apiBranches');","    };","    GithubURLs.prototype.apiBranch = function (name) {","        assertVar(name, 'string', 'name');","        return this.getURL('apiBranch', {","            branch: name","        });","    };","    GithubURLs.prototype.apiTree = function (tree, recursive) {","        assertVar(tree, 'sha1', 'tree');","        return this.getURL('apiTree', {","            tree: tree,","            recursive: (recursive ? 1 : 0)","        });","    };","    GithubURLs.prototype.apiPathCommits = function (path) {","        assertVar(path, 'string', 'path');","        return this.getURL('apiPathCommits', {","            path: path","        });","    };","    GithubURLs.prototype.apiCommit = function (commit, recursive) {","        assertVar(commit, 'sha1', 'commit');","        return this.getURL('apiCommit', {","            commit: commit,","            recursive: recursive","        });","    };","    GithubURLs.prototype.apiBlob = function (sha) {","        assertVar(sha, 'sha1', 'sha');","        return this.getURL('apiBlob', {","            blob: sha","        });","    };","    GithubURLs.prototype.rateLimit = function () {","        return this.getURL('rateLimit');","    };","    return GithubURLs;","})(URLManager);","module.exports = GithubURLs;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"33":1,"34":0,"38":0,"40":1,"41":0,"43":1,"44":0,"46":1,"47":0,"49":1,"50":0,"51":0,"52":0,"57":1,"58":0,"59":0,"60":0,"65":1,"66":0,"68":1,"69":0,"70":0,"74":1,"75":0,"76":0,"81":1,"82":0,"83":0,"87":1,"88":0,"89":0,"94":1,"95":0,"96":0,"100":1,"101":0,"103":1,"105":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/lib/URLManager.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/lib/URLManager.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":1,"14":0,"15":1,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":18},"end":{"line":4,"column":30}}},"2":{"name":"URLManager","line":5,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":32}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":39},"end":{"line":12,"column":58}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":34},"end":{"line":18,"column":55}}},"5":{"name":"(anonymous_5)","line":21,"loc":{"start":{"line":21,"column":34},"end":{"line":21,"column":48}}},"6":{"name":"(anonymous_6)","line":24,"loc":{"start":{"line":24,"column":35},"end":{"line":24,"column":50}}},"7":{"name":"(anonymous_7)","line":26,"loc":{"start":{"line":26,"column":33},"end":{"line":26,"column":47}}},"8":{"name":"(anonymous_8)","line":35,"loc":{"start":{"line":35,"column":39},"end":{"line":35,"column":53}}},"9":{"name":"(anonymous_9)","line":41,"loc":{"start":{"line":41,"column":34},"end":{"line":41,"column":54}}},"10":{"name":"(anonymous_10)","line":44,"loc":{"start":{"line":44,"column":38},"end":{"line":44,"column":52}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"3":{"start":{"line":4,"column":0},"end":{"line":54,"column":5}},"4":{"start":{"line":5,"column":4},"end":{"line":11,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":46}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":41}},"7":{"start":{"line":8,"column":8},"end":{"line":10,"column":9}},"8":{"start":{"line":9,"column":12},"end":{"line":9,"column":33}},"9":{"start":{"line":12,"column":4},"end":{"line":17,"column":6}},"10":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"11":{"start":{"line":14,"column":12},"end":{"line":14,"column":65}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":48}},"13":{"start":{"line":18,"column":4},"end":{"line":20,"column":6}},"14":{"start":{"line":19,"column":8},"end":{"line":19,"column":31}},"15":{"start":{"line":21,"column":4},"end":{"line":23,"column":6}},"16":{"start":{"line":22,"column":8},"end":{"line":22,"column":58}},"17":{"start":{"line":24,"column":4},"end":{"line":34,"column":6}},"18":{"start":{"line":25,"column":8},"end":{"line":25,"column":25}},"19":{"start":{"line":26,"column":8},"end":{"line":33,"column":11}},"20":{"start":{"line":27,"column":12},"end":{"line":32,"column":13}},"21":{"start":{"line":28,"column":16},"end":{"line":28,"column":42}},"22":{"start":{"line":31,"column":16},"end":{"line":31,"column":39}},"23":{"start":{"line":35,"column":4},"end":{"line":40,"column":6}},"24":{"start":{"line":36,"column":8},"end":{"line":38,"column":9}},"25":{"start":{"line":37,"column":12},"end":{"line":37,"column":39}},"26":{"start":{"line":39,"column":8},"end":{"line":39,"column":59}},"27":{"start":{"line":41,"column":4},"end":{"line":52,"column":6}},"28":{"start":{"line":42,"column":8},"end":{"line":50,"column":9}},"29":{"start":{"line":43,"column":12},"end":{"line":43,"column":48}},"30":{"start":{"line":44,"column":12},"end":{"line":48,"column":15}},"31":{"start":{"line":45,"column":16},"end":{"line":47,"column":17}},"32":{"start":{"line":46,"column":20},"end":{"line":46,"column":39}},"33":{"start":{"line":49,"column":12},"end":{"line":49,"column":60}},"34":{"start":{"line":51,"column":8},"end":{"line":51,"column":63}},"35":{"start":{"line":53,"column":4},"end":{"line":53,"column":22}},"36":{"start":{"line":55,"column":0},"end":{"line":55,"column":28}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":8},"end":{"line":8,"column":8}},{"start":{"line":8,"column":8},"end":{"line":8,"column":8}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":13,"column":8}},{"start":{"line":13,"column":8},"end":{"line":13,"column":8}}]},"3":{"line":22,"type":"cond-expr","locations":[{"start":{"line":22,"column":35},"end":{"line":22,"column":49}},{"start":{"line":22,"column":52},"end":{"line":22,"column":56}}]},"4":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":12},"end":{"line":27,"column":12}},{"start":{"line":27,"column":12},"end":{"line":27,"column":12}}]},"5":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":36,"column":8}},{"start":{"line":36,"column":8},"end":{"line":36,"column":8}}]},"6":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":42,"column":8}},{"start":{"line":42,"column":8},"end":{"line":42,"column":8}}]},"7":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":16},"end":{"line":45,"column":16}},{"start":{"line":45,"column":16},"end":{"line":45,"column":16}}]}},"code":["'use strict';","var uriTemplates = require('uri-templates');","var typeOf = require('../typeOf');","var URLManager = (function () {","    function URLManager(common) {","        this._templates = Object.create(null);","        this._vars = Object.create(null);","        if (common) {","            this.setVars(common);","        }","    }","    URLManager.prototype.addTemplate = function (id, url) {","        if (id in this._templates) {","            throw (new Error('cannot redefine template: ' + id));","        }","        this._templates[id] = uriTemplates(url);","    };","    URLManager.prototype.setVar = function (id, value) {","        this._vars[id] = value;","    };","    URLManager.prototype.getVar = function (id) {","        return (id in this._vars ? this._vars[id] : null);","    };","    URLManager.prototype.setVars = function (map) {","        var _this = this;","        Object.keys(map).forEach(function (id) {","            if (typeOf.isValid(map[id])) {","                _this._vars[id] = map[id];","            }","            else {","                delete _this._vars[id];","            }","        });","    };","    URLManager.prototype.getTemplate = function (id) {","        if (id in this._templates) {","            return this._templates[id];","        }","        throw (new Error('undefined url template: ' + id));","    };","    URLManager.prototype.getURL = function (id, vars) {","        if (vars) {","            var obj = Object.create(this._vars);","            Object.keys(vars).forEach(function (id) {","                if (typeOf.isValid(vars[id])) {","                    obj[id] = vars[id];","                }","            });","            return this.getTemplate(id).fillFromObject(obj);","        }","        return this.getTemplate(id).fillFromObject(this._vars);","    };","    return URLManager;","})();","module.exports = URLManager;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"12":1,"13":0,"14":0,"16":0,"18":1,"19":0,"21":1,"22":0,"24":1,"25":0,"26":0,"27":0,"28":0,"31":0,"35":1,"36":0,"37":0,"39":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"49":0,"51":0,"53":1,"55":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/loader/GithubAPI.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/loader/GithubAPI.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":1,"25":0,"26":1,"27":0,"28":1,"29":0,"30":1,"31":0,"32":1,"33":0,"34":1,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":1,"66":0,"67":1,"68":1},"b":{"1":[1,1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":44},"end":{"line":2,"column":60}}},"2":{"name":"__","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":18}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":17},"end":{"line":14,"column":35}}},"4":{"name":"GithubAPI","line":16,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":56}}},"5":{"name":"(anonymous_5)","line":22,"loc":{"start":{"line":22,"column":38},"end":{"line":22,"column":50}}},"6":{"name":"(anonymous_6)","line":25,"loc":{"start":{"line":25,"column":36},"end":{"line":25,"column":54}}},"7":{"name":"(anonymous_7)","line":28,"loc":{"start":{"line":28,"column":34},"end":{"line":28,"column":60}}},"8":{"name":"(anonymous_8)","line":31,"loc":{"start":{"line":31,"column":36},"end":{"line":31,"column":51}}},"9":{"name":"(anonymous_9)","line":34,"loc":{"start":{"line":34,"column":34},"end":{"line":34,"column":49}}},"10":{"name":"(anonymous_10)","line":37,"loc":{"start":{"line":37,"column":41},"end":{"line":37,"column":57}}},"11":{"name":"(anonymous_11)","line":40,"loc":{"start":{"line":40,"column":41},"end":{"line":40,"column":56}}},"12":{"name":"(anonymous_12)","line":44,"loc":{"start":{"line":44,"column":38},"end":{"line":44,"column":57}}},"13":{"name":"(anonymous_13)","line":54,"loc":{"start":{"line":54,"column":50},"end":{"line":54,"column":68}}},"14":{"name":"(anonymous_14)","line":65,"loc":{"start":{"line":65,"column":38},"end":{"line":65,"column":50}}},"15":{"name":"(anonymous_15)","line":67,"loc":{"start":{"line":67,"column":27},"end":{"line":67,"column":54}}},"16":{"name":"(anonymous_16)","line":77,"loc":{"start":{"line":77,"column":29},"end":{"line":77,"column":55}}},"17":{"name":"(anonymous_17)","line":88,"loc":{"start":{"line":88,"column":38},"end":{"line":88,"column":50}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":58}},"3":{"start":{"line":3,"column":21},"end":{"line":3,"column":58}},"4":{"start":{"line":3,"column":46},"end":{"line":3,"column":58}},"5":{"start":{"line":4,"column":4},"end":{"line":4,"column":43}},"6":{"start":{"line":4,"column":20},"end":{"line":4,"column":41}},"7":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"9":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}},"11":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":54}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":45}},"14":{"start":{"line":13,"column":0},"end":{"line":13,"column":56}},"15":{"start":{"line":14,"column":0},"end":{"line":92,"column":17}},"16":{"start":{"line":15,"column":4},"end":{"line":15,"column":33}},"17":{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},"18":{"start":{"line":17,"column":8},"end":{"line":17,"column":72}},"19":{"start":{"line":18,"column":8},"end":{"line":18,"column":34}},"20":{"start":{"line":19,"column":8},"end":{"line":19,"column":35}},"21":{"start":{"line":20,"column":8},"end":{"line":20,"column":33}},"22":{"start":{"line":22,"column":4},"end":{"line":24,"column":6}},"23":{"start":{"line":23,"column":8},"end":{"line":23,"column":60}},"24":{"start":{"line":25,"column":4},"end":{"line":27,"column":6}},"25":{"start":{"line":26,"column":8},"end":{"line":26,"column":64}},"26":{"start":{"line":28,"column":4},"end":{"line":30,"column":6}},"27":{"start":{"line":29,"column":8},"end":{"line":29,"column":88}},"28":{"start":{"line":31,"column":4},"end":{"line":33,"column":6}},"29":{"start":{"line":32,"column":8},"end":{"line":32,"column":61}},"30":{"start":{"line":34,"column":4},"end":{"line":36,"column":6}},"31":{"start":{"line":35,"column":8},"end":{"line":35,"column":59}},"32":{"start":{"line":37,"column":4},"end":{"line":39,"column":6}},"33":{"start":{"line":38,"column":8},"end":{"line":38,"column":67}},"34":{"start":{"line":40,"column":4},"end":{"line":43,"column":6}},"35":{"start":{"line":41,"column":8},"end":{"line":41,"column":44}},"36":{"start":{"line":42,"column":8},"end":{"line":42,"column":41}},"37":{"start":{"line":44,"column":4},"end":{"line":64,"column":6}},"38":{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},"39":{"start":{"line":46,"column":12},"end":{"line":46,"column":85}},"40":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"41":{"start":{"line":49,"column":12},"end":{"line":49,"column":87}},"42":{"start":{"line":51,"column":8},"end":{"line":51,"column":44}},"43":{"start":{"line":52,"column":8},"end":{"line":52,"column":71}},"44":{"start":{"line":53,"column":8},"end":{"line":53,"column":23}},"45":{"start":{"line":54,"column":8},"end":{"line":63,"column":11}},"46":{"start":{"line":55,"column":12},"end":{"line":55,"column":63}},"47":{"start":{"line":56,"column":12},"end":{"line":61,"column":13}},"48":{"start":{"line":57,"column":16},"end":{"line":57,"column":71}},"49":{"start":{"line":58,"column":16},"end":{"line":60,"column":17}},"50":{"start":{"line":59,"column":20},"end":{"line":59,"column":46}},"51":{"start":{"line":62,"column":12},"end":{"line":62,"column":23}},"52":{"start":{"line":65,"column":4},"end":{"line":87,"column":6}},"53":{"start":{"line":66,"column":8},"end":{"line":66,"column":25}},"54":{"start":{"line":67,"column":8},"end":{"line":86,"column":11}},"55":{"start":{"line":68,"column":12},"end":{"line":68,"column":45}},"56":{"start":{"line":69,"column":12},"end":{"line":72,"column":14}},"57":{"start":{"line":73,"column":12},"end":{"line":73,"column":45}},"58":{"start":{"line":74,"column":12},"end":{"line":76,"column":13}},"59":{"start":{"line":75,"column":16},"end":{"line":75,"column":51}},"60":{"start":{"line":77,"column":12},"end":{"line":85,"column":15}},"61":{"start":{"line":78,"column":16},"end":{"line":84,"column":17}},"62":{"start":{"line":79,"column":20},"end":{"line":79,"column":32}},"63":{"start":{"line":82,"column":20},"end":{"line":82,"column":63}},"64":{"start":{"line":83,"column":20},"end":{"line":83,"column":34}},"65":{"start":{"line":88,"column":4},"end":{"line":90,"column":6}},"66":{"start":{"line":89,"column":8},"end":{"line":89,"column":75}},"67":{"start":{"line":91,"column":4},"end":{"line":91,"column":21}},"68":{"start":{"line":93,"column":0},"end":{"line":93,"column":27}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":7,"column":1}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":21}},{"start":{"line":3,"column":21},"end":{"line":3,"column":21}}]},"3":{"line":29,"type":"cond-expr","locations":[{"start":{"line":29,"column":71},"end":{"line":29,"column":72}},{"start":{"line":29,"column":75},"end":{"line":29,"column":84}}]},"4":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]},"5":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":48,"column":8}},{"start":{"line":48,"column":8},"end":{"line":48,"column":8}}]},"6":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":12},"end":{"line":56,"column":12}},{"start":{"line":56,"column":12},"end":{"line":56,"column":12}}]},"7":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":16},"end":{"line":58,"column":16}},{"start":{"line":58,"column":16},"end":{"line":58,"column":16}}]},"8":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":12},"end":{"line":74,"column":12}},{"start":{"line":74,"column":12},"end":{"line":74,"column":12}}]},"9":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":16},"end":{"line":78,"column":16}},{"start":{"line":78,"column":16},"end":{"line":78,"column":16}}]}},"code":["'use strict';","var __extends = (this && this.__extends) || function (d, b) {","    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];","    function __() { this.constructor = d; }","    __.prototype = b.prototype;","    d.prototype = new __();","};","var request = require('request');","var Promise = require('bluebird');","var typeOf = require('../../xm/typeOf');","var CacheRequest = require('../../http/CacheRequest');","var GithubLoader = require('./GithubLoader');","var GithubRateInfo = require('../model/GithubRateInfo');","var GithubAPI = (function (_super) {","    __extends(GithubAPI, _super);","    function GithubAPI(urls, options, shared, storeDir) {","        _super.call(this, urls, options, shared, storeDir, 'GithubAPI');","        this.apiVersion = '3.0.0';","        this.formatVersion = '1.0';","        this._initGithubLoader();","    }","    GithubAPI.prototype.getBranches = function () {","        return this.getCachableURL(this.urls.apiBranches());","    };","    GithubAPI.prototype.getBranch = function (branch) {","        return this.getCachableURL(this.urls.apiBranch(branch));","    };","    GithubAPI.prototype.getTree = function (sha, recursive) {","        return this.getCachableURL(this.urls.apiTree(sha, (recursive ? 1 : undefined)));","    };","    GithubAPI.prototype.getCommit = function (sha) {","        return this.getCachableURL(this.urls.apiCommit(sha));","    };","    GithubAPI.prototype.getBlob = function (sha) {","        return this.getCachableURL(this.urls.apiBlob(sha));","    };","    GithubAPI.prototype.getPathCommits = function (path) {","        return this.getCachableURL(this.urls.apiPathCommits(path));","    };","    GithubAPI.prototype.getCachableURL = function (url) {","        var request = new CacheRequest(url);","        return this.getCachable(request);","    };","    GithubAPI.prototype.getCachable = function (request) {","        if (!typeOf.isNumber(request.localMaxAge)) {","            request.localMaxAge = this.options.getDurationSecs('localMaxAge') * 1000;","        }","        if (!typeOf.isNumber(request.httpInterval)) {","            request.httpInterval = this.options.getDurationSecs('httpInterval') * 1000;","        }","        this.copyHeadersTo(request.headers);","        request.headers['accept'] = 'application/vnd.github.beta+json';","        request.lock();","        return this.cache.getObject(request).then(function (object) {","            var res = JSON.parse(object.body.toString('utf8'));","            if (object.response) {","                var rate = new GithubRateInfo(object.response.headers);","                if (typeOf.isObject(res)) {","                    res.meta = { rate: rate };","                }","            }","            return res;","        });","    };","    GithubAPI.prototype.getRateInfo = function () {","        var _this = this;","        return new Promise(function (resolve, reject) {","            var url = _this.urls.rateLimit();","            var req = {","                url: url,","                headers: {}","            };","            _this.copyHeadersTo(req.headers);","            if (_this.cache.opts.proxy) {","                req.proxy = _this.cache.opts.proxy;","            }","            request.get(req, function (err, res, body) {","                if (err) {","                    reject(err);","                }","                else {","                    var rate = new GithubRateInfo(res.headers);","                    resolve(rate);","                }","            });","        });","    };","    GithubAPI.prototype.getCacheKey = function () {","        return 'git-api-v' + this.apiVersion + '-fmt' + this.formatVersion;","    };","    return GithubAPI;","})(GithubLoader);","module.exports = GithubAPI;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"22":1,"23":0,"25":1,"26":0,"28":1,"29":0,"31":1,"32":0,"34":1,"35":0,"37":1,"38":0,"40":1,"41":0,"42":0,"44":1,"45":0,"46":0,"48":0,"49":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"62":0,"65":1,"66":0,"67":0,"68":0,"69":0,"73":0,"74":0,"75":0,"77":0,"78":0,"79":0,"82":0,"83":0,"88":1,"89":0,"91":1,"93":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/CacheRequest.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/CacheRequest.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":1,"25":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":15},"end":{"line":4,"column":27}}},"2":{"name":"Request","line":5,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":35}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":41},"end":{"line":10,"column":56}}},"4":{"name":"(anonymous_4)","line":15,"loc":{"start":{"line":15,"column":29},"end":{"line":15,"column":41}}},"5":{"name":"(anonymous_5)","line":20,"loc":{"start":{"line":20,"column":54},"end":{"line":20,"column":75}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":0},"end":{"line":51,"column":5}},"4":{"start":{"line":5,"column":4},"end":{"line":14,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":25}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":23}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":26}},"8":{"start":{"line":9,"column":8},"end":{"line":13,"column":9}},"9":{"start":{"line":10,"column":12},"end":{"line":12,"column":15}},"10":{"start":{"line":11,"column":16},"end":{"line":11,"column":50}},"11":{"start":{"line":15,"column":4},"end":{"line":31,"column":6}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":25}},"13":{"start":{"line":17,"column":8},"end":{"line":17,"column":27}},"14":{"start":{"line":18,"column":8},"end":{"line":26,"column":10}},"15":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"16":{"start":{"line":22,"column":20},"end":{"line":22,"column":51}},"17":{"start":{"line":24,"column":16},"end":{"line":24,"column":28}},"18":{"start":{"line":27,"column":8},"end":{"line":27,"column":49}},"19":{"start":{"line":28,"column":8},"end":{"line":28,"column":33}},"20":{"start":{"line":29,"column":8},"end":{"line":29,"column":28}},"21":{"start":{"line":30,"column":8},"end":{"line":30,"column":20}},"22":{"start":{"line":32,"column":4},"end":{"line":40,"column":6}},"23":{"start":{"line":41,"column":4},"end":{"line":49,"column":6}},"24":{"start":{"line":50,"column":4},"end":{"line":50,"column":19}},"25":{"start":{"line":52,"column":0},"end":{"line":52,"column":25}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":8}},{"start":{"line":9,"column":8},"end":{"line":9,"column":8}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":16},"end":{"line":21,"column":16}},{"start":{"line":21,"column":16},"end":{"line":21,"column":16}}]}},"code":["'use strict';","var deepFreeze = require('deep-freeze');","var hash = require('../xm/hash');","var Request = (function () {","    function Request(url, headers) {","        var _this = this;","        this.url = url;","        this.headers = {};","        if (headers) {","            Object.keys(headers).forEach(function (key) {","                _this.headers[key] = headers[key];","            });","        }","    }","    Request.prototype.lock = function () {","        var _this = this;","        this.locked = true;","        var keyHash = {","            url: this.url,","            headers: Object.keys(this.headers).reduce(function (memo, key) {","                if (Request.keyHeaders.indexOf(key) > -1) {","                    memo[key] = _this.headers[key];","                }","                return memo;","            }, Object.create(null))","        };","        this.key = hash.jsonToIdentHash(keyHash);","        deepFreeze(this.headers);","        Object.freeze(this);","        return this;","    };","    Request.lockProps = [","        'key',","        'url',","        'headers',","        'localMaxAge',","        'httpInterval',","        'forceRefresh',","        'locked'","    ];","    Request.keyHeaders = [","        'accept',","        'accept-charset',","        'accept-language',","        'content-md5',","        'content-type',","        'cookie',","        'host'","    ];","    return Request;","})();","module.exports = Request;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"15":1,"16":0,"17":0,"18":0,"21":0,"22":0,"24":0,"27":0,"28":0,"29":0,"30":0,"32":1,"41":1,"50":1,"52":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/hash.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/xm/hash.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":0,"8":1,"9":1,"10":1,"11":1,"12":0,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1},"b":{"1":[0,0,0,0,0,0,0,0,0,0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"md5","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":19}}},"2":{"name":"sha1","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":20}}},"3":{"name":"hashNormalines","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":31}}},"4":{"name":"hashStep","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":31}}},"5":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":24},"end":{"line":32,"column":41}}},"6":{"name":"(anonymous_6)","line":41,"loc":{"start":{"line":41,"column":25},"end":{"line":41,"column":40}}},"7":{"name":"jsonToIdentHash","line":63,"loc":{"start":{"line":63,"column":0},"end":{"line":63,"column":38}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":63}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":18}},"6":{"start":{"line":8,"column":0},"end":{"line":10,"column":1}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":64}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":20}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":29}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":19}},"11":{"start":{"line":14,"column":0},"end":{"line":16,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":53}},"13":{"start":{"line":17,"column":0},"end":{"line":17,"column":40}},"14":{"start":{"line":18,"column":0},"end":{"line":62,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"16":{"start":{"line":20,"column":4},"end":{"line":20,"column":31}},"17":{"start":{"line":21,"column":4},"end":{"line":61,"column":5}},"18":{"start":{"line":25,"column":12},"end":{"line":25,"column":45}},"19":{"start":{"line":26,"column":12},"end":{"line":26,"column":18}},"20":{"start":{"line":28,"column":12},"end":{"line":28,"column":53}},"21":{"start":{"line":29,"column":12},"end":{"line":29,"column":18}},"22":{"start":{"line":31,"column":12},"end":{"line":31,"column":31}},"23":{"start":{"line":32,"column":12},"end":{"line":34,"column":15}},"24":{"start":{"line":33,"column":16},"end":{"line":33,"column":40}},"25":{"start":{"line":35,"column":12},"end":{"line":35,"column":37}},"26":{"start":{"line":36,"column":12},"end":{"line":36,"column":18}},"27":{"start":{"line":38,"column":12},"end":{"line":38,"column":40}},"28":{"start":{"line":39,"column":12},"end":{"line":39,"column":24}},"29":{"start":{"line":40,"column":12},"end":{"line":40,"column":31}},"30":{"start":{"line":41,"column":12},"end":{"line":44,"column":15}},"31":{"start":{"line":42,"column":16},"end":{"line":42,"column":57}},"32":{"start":{"line":43,"column":16},"end":{"line":43,"column":43}},"33":{"start":{"line":45,"column":12},"end":{"line":45,"column":37}},"34":{"start":{"line":46,"column":12},"end":{"line":46,"column":18}},"35":{"start":{"line":48,"column":12},"end":{"line":48,"column":58}},"36":{"start":{"line":49,"column":12},"end":{"line":49,"column":18}},"37":{"start":{"line":51,"column":12},"end":{"line":51,"column":38}},"38":{"start":{"line":52,"column":12},"end":{"line":52,"column":31}},"39":{"start":{"line":53,"column":12},"end":{"line":53,"column":31}},"40":{"start":{"line":54,"column":12},"end":{"line":54,"column":18}},"41":{"start":{"line":56,"column":12},"end":{"line":56,"column":70}},"42":{"start":{"line":58,"column":12},"end":{"line":58,"column":72}},"43":{"start":{"line":60,"column":12},"end":{"line":60,"column":85}},"44":{"start":{"line":63,"column":0},"end":{"line":71,"column":1}},"45":{"start":{"line":64,"column":4},"end":{"line":64,"column":42}},"46":{"start":{"line":64,"column":29},"end":{"line":64,"column":40}},"47":{"start":{"line":65,"column":4},"end":{"line":65,"column":41}},"48":{"start":{"line":66,"column":4},"end":{"line":66,"column":24}},"49":{"start":{"line":67,"column":4},"end":{"line":69,"column":5}},"50":{"start":{"line":68,"column":8},"end":{"line":68,"column":66}},"51":{"start":{"line":70,"column":4},"end":{"line":70,"column":30}},"52":{"start":{"line":72,"column":0},"end":{"line":72,"column":42}}},"branchMap":{"1":{"line":21,"type":"switch","locations":[{"start":{"line":22,"column":8},"end":{"line":22,"column":22}},{"start":{"line":23,"column":8},"end":{"line":23,"column":23}},{"start":{"line":24,"column":8},"end":{"line":26,"column":18}},{"start":{"line":27,"column":8},"end":{"line":29,"column":18}},{"start":{"line":30,"column":8},"end":{"line":36,"column":18}},{"start":{"line":37,"column":8},"end":{"line":46,"column":18}},{"start":{"line":47,"column":8},"end":{"line":49,"column":18}},{"start":{"line":50,"column":8},"end":{"line":54,"column":18}},{"start":{"line":55,"column":8},"end":{"line":56,"column":70}},{"start":{"line":57,"column":8},"end":{"line":58,"column":72}},{"start":{"line":59,"column":8},"end":{"line":60,"column":85}}]},"2":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"3":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":4}},{"start":{"line":67,"column":4},"end":{"line":67,"column":4}}]}},"code":["'use strict';","var crypto = require('crypto');","var typeDetect = require('type-detect');","function md5(data) {","    return crypto.createHash('md5').update(data).digest('hex');","}","exports.md5 = md5;","function sha1(data) {","    return crypto.createHash('sha1').update(data).digest('hex');","}","exports.sha1 = sha1;","var hashNormExp = /[\\r\\n]+/g;","var hashNew = '\\n';","function hashNormalines(input) {","    return sha1(input.replace(hashNormExp, hashNew));","}","exports.hashNormalines = hashNormalines;","function hashStep(hasher, obj) {","    var sep = ';';","    var type = typeDetect(obj);","    switch (type) {","        case 'number':","        case 'boolean':","        case 'null':","            hasher.update(String(obj) + sep);","            break;","        case 'string':","            hasher.update(JSON.stringify(obj) + sep);","            break;","        case 'array':","            hasher.update('[');","            obj.forEach(function (value) {","                hashStep(hasher, value);","            });","            hasher.update(']' + sep);","            break;","        case 'object':","            var keys = Object.keys(obj);","            keys.sort();","            hasher.update('{');","            keys.forEach(function (key) {","                hasher.update(JSON.stringify(key) + ':');","                hashStep(hasher, obj[key]);","            });","            hasher.update('}' + sep);","            break;","        case 'date':","            hasher.update('<Date>' + obj.getTime() + sep);","            break;","        case 'buffer':","            hasher.update('<Buffer>');","            hasher.update(obj);","            hasher.update(sep);","            break;","        case 'regexp':","            throw (new Error('jsonToIdent: cannot serialise regexp'));","        case 'function':","            throw (new Error('jsonToIdent: cannot serialise function'));","        default:","            throw (new Error('jsonToIdent: cannot serialise value: ' + String(obj)));","    }","}","function jsonToIdentHash(obj, length) {","    if (length === void 0) { length = 0; }","    var hash = crypto.createHash('sha1');","    hashStep(hash, obj);","    if (length > 0) {","        return hash.digest('hex').substr(0, Math.min(length, 40));","    }","    return hash.digest('hex');","}","exports.jsonToIdentHash = jsonToIdentHash;",""],"l":{"2":1,"3":1,"4":1,"5":0,"7":1,"8":1,"9":0,"11":1,"12":1,"13":1,"14":1,"15":0,"17":1,"18":1,"19":0,"20":0,"21":0,"25":0,"26":0,"28":0,"29":0,"31":0,"32":0,"33":0,"35":0,"36":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"45":0,"46":0,"48":0,"49":0,"51":0,"52":0,"53":0,"54":0,"56":0,"58":0,"60":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"70":0,"72":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/loader/GithubLoader.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/loader/GithubLoader.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":1,"36":0,"37":0,"38":0,"39":1,"40":1,"41":1},"b":{"1":[0,0,0,0,0],"2":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":32}}},"2":{"name":"GithubLoader","line":9,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":66}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":47},"end":{"line":23,"column":59}}},"4":{"name":"(anonymous_4)","line":45,"loc":{"start":{"line":45,"column":41},"end":{"line":45,"column":53}}},"5":{"name":"(anonymous_5)","line":48,"loc":{"start":{"line":48,"column":43},"end":{"line":48,"column":69}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":36},"end":{"line":50,"column":52}}},"7":{"name":"(anonymous_7)","line":55,"loc":{"start":{"line":55,"column":13},"end":{"line":55,"column":32}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":48}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":48}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":54}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":42}},"7":{"start":{"line":8,"column":0},"end":{"line":61,"column":5}},"8":{"start":{"line":9,"column":4},"end":{"line":22,"column":5}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":37}},"10":{"start":{"line":11,"column":8},"end":{"line":11,"column":37}},"11":{"start":{"line":12,"column":8},"end":{"line":12,"column":26}},"12":{"start":{"line":13,"column":8},"end":{"line":13,"column":44}},"13":{"start":{"line":14,"column":8},"end":{"line":14,"column":51}},"14":{"start":{"line":15,"column":8},"end":{"line":15,"column":49}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":50}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":25}},"17":{"start":{"line":18,"column":8},"end":{"line":18,"column":31}},"18":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"19":{"start":{"line":20,"column":8},"end":{"line":20,"column":33}},"20":{"start":{"line":21,"column":8},"end":{"line":21,"column":27}},"21":{"start":{"line":23,"column":4},"end":{"line":44,"column":6}},"22":{"start":{"line":24,"column":8},"end":{"line":24,"column":36}},"23":{"start":{"line":25,"column":8},"end":{"line":25,"column":83}},"24":{"start":{"line":26,"column":8},"end":{"line":26,"column":116}},"25":{"start":{"line":27,"column":8},"end":{"line":27,"column":91}},"26":{"start":{"line":28,"column":8},"end":{"line":28,"column":91}},"27":{"start":{"line":29,"column":8},"end":{"line":29,"column":102}},"28":{"start":{"line":30,"column":8},"end":{"line":30,"column":70}},"29":{"start":{"line":31,"column":8},"end":{"line":36,"column":10}},"30":{"start":{"line":37,"column":8},"end":{"line":41,"column":39}},"31":{"start":{"line":42,"column":8},"end":{"line":42,"column":41}},"32":{"start":{"line":43,"column":8},"end":{"line":43,"column":76}},"33":{"start":{"line":45,"column":4},"end":{"line":47,"column":6}},"34":{"start":{"line":46,"column":8},"end":{"line":46,"column":24}},"35":{"start":{"line":48,"column":4},"end":{"line":53,"column":6}},"36":{"start":{"line":49,"column":8},"end":{"line":49,"column":42}},"37":{"start":{"line":50,"column":8},"end":{"line":52,"column":11}},"38":{"start":{"line":51,"column":12},"end":{"line":51,"column":40}},"39":{"start":{"line":54,"column":4},"end":{"line":59,"column":7}},"40":{"start":{"line":60,"column":4},"end":{"line":60,"column":24}},"41":{"start":{"line":62,"column":0},"end":{"line":62,"column":30}}},"branchMap":{"1":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":22},"end":{"line":37,"column":52}},{"start":{"line":38,"column":15},"end":{"line":38,"column":38}},{"start":{"line":39,"column":15},"end":{"line":39,"column":38}},{"start":{"line":40,"column":15},"end":{"line":40,"column":37}},{"start":{"line":41,"column":15},"end":{"line":41,"column":37}}]},"2":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":18},"end":{"line":49,"column":24}},{"start":{"line":49,"column":28},"end":{"line":49,"column":40}}]}},"code":["'use strict';","var path = require('path');","var assertVar = require('../../xm/assertVar');","var HTTPCache = require('../../http/HTTPCache');","var CacheOpts = require('../../http/CacheOpts');","var JSONPointer = require('../../xm/lib/JSONPointer');","var GithubURLs = require('../GithubURLs');","var GithubLoader = (function () {","    function GithubLoader(urls, options, shared, storeDir, label) {","        this.label = 'github-loader';","        this.formatVersion = '0.0.0';","        this.headers = {};","        assertVar(urls, GithubURLs, 'urls');","        assertVar(options, JSONPointer, 'options');","        assertVar(shared, JSONPointer, 'shared');","        assertVar(storeDir, 'string', 'storeDir');","        this.urls = urls;","        this.options = options;","        this.shared = shared;","        this.storeDir = storeDir;","        this.label = label;","    }","    GithubLoader.prototype._initGithubLoader = function () {","        var cache = new CacheOpts();","        cache.allowClean = this.options.getBoolean('allowClean', cache.allowClean);","        cache.cleanInterval = this.options.getDurationSecs('cacheCleanInterval', cache.cleanInterval / 1000) * 1000;","        cache.splitDirLevel = this.options.getNumber('splitDirLevel', cache.splitDirLevel);","        cache.splitDirChunk = this.options.getNumber('splitDirChunk', cache.splitDirChunk);","        cache.jobTimeout = this.options.getDurationSecs('jobTimeout', cache.jobTimeout / 1000) * 1000;","        cache.storeDir = path.join(this.storeDir, this.getCacheKey());","        var opts = {","            cache: cache,","            concurrent: this.shared.getNumber('concurrent', 20),","            oath: this.shared.getString('oath', null),","            strictSSL: this.shared.getBoolean('strictSSL', true)","        };","        opts.proxy = (this.shared.getString('proxy')","            || process.env.HTTPS_PROXY","            || process.env.https_proxy","            || process.env.HTTP_PROXY","            || process.env.http_proxy);","        this.cache = new HTTPCache(opts);","        this.headers['user-agent'] = this.label + '-v' + this.formatVersion;","    };","    GithubLoader.prototype.getCacheKey = function () {","        return 'loader';","    };","    GithubLoader.prototype.copyHeadersTo = function (target, source) {","        source = (source || this.headers);","        Object.keys(source).forEach(function (name) {","            target[name] = source[name];","        });","    };","    Object.defineProperty(GithubLoader.prototype, \"verbose\", {","        set: function (verbose) {","        },","        enumerable: true,","        configurable: true","    });","    return GithubLoader;","})();","module.exports = GithubLoader;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"37":0,"42":0,"43":0,"45":1,"46":0,"48":1,"49":0,"50":0,"51":0,"54":1,"60":1,"62":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/HTTPCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/HTTPCache.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":1,"25":1,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":1,"78":0,"79":0,"80":0,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":1,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":1,"155":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0},"fnMap":{"1":{"name":"(anonymous_1)","line":13,"loc":{"start":{"line":13,"column":17},"end":{"line":13,"column":29}}},"2":{"name":"QueueItem","line":14,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":28}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":30},"end":{"line":18,"column":42}}},"4":{"name":"(anonymous_4)","line":20,"loc":{"start":{"line":20,"column":34},"end":{"line":20,"column":52}}},"5":{"name":"(anonymous_5)","line":22,"loc":{"start":{"line":22,"column":11},"end":{"line":22,"column":26}}},"6":{"name":"(anonymous_6)","line":28,"loc":{"start":{"line":28,"column":13},"end":{"line":28,"column":25}}},"7":{"name":"(anonymous_7)","line":36,"loc":{"start":{"line":36,"column":17},"end":{"line":36,"column":29}}},"8":{"name":"HTTPCache","line":37,"loc":{"start":{"line":37,"column":4},"end":{"line":37,"column":29}}},"9":{"name":"(anonymous_9)","line":46,"loc":{"start":{"line":46,"column":38},"end":{"line":46,"column":53}}},"10":{"name":"(anonymous_10)","line":50,"loc":{"start":{"line":50,"column":36},"end":{"line":50,"column":55}}},"11":{"name":"(anonymous_11)","line":54,"loc":{"start":{"line":54,"column":32},"end":{"line":54,"column":44}}},"12":{"name":"(anonymous_12)","line":66,"loc":{"start":{"line":66,"column":16},"end":{"line":66,"column":31}}},"13":{"name":"(anonymous_13)","line":72,"loc":{"start":{"line":72,"column":37},"end":{"line":72,"column":49}}},"14":{"name":"(anonymous_14)","line":78,"loc":{"start":{"line":78,"column":31},"end":{"line":78,"column":47}}},"15":{"name":"(anonymous_15)","line":81,"loc":{"start":{"line":81,"column":24},"end":{"line":81,"column":36}}},"16":{"name":"(anonymous_16)","line":89,"loc":{"start":{"line":89,"column":42},"end":{"line":89,"column":57}}},"17":{"name":"(anonymous_17)","line":101,"loc":{"start":{"line":101,"column":35},"end":{"line":101,"column":47}}},"18":{"name":"(anonymous_18)","line":108,"loc":{"start":{"line":108,"column":31},"end":{"line":108,"column":43}}},"19":{"name":"(anonymous_19)","line":114,"loc":{"start":{"line":114,"column":42},"end":{"line":114,"column":54}}},"20":{"name":"(anonymous_20)","line":126,"loc":{"start":{"line":126,"column":68},"end":{"line":126,"column":86}}},"21":{"name":"(anonymous_21)","line":130,"loc":{"start":{"line":130,"column":54},"end":{"line":130,"column":72}}},"22":{"name":"(anonymous_22)","line":132,"loc":{"start":{"line":132,"column":15},"end":{"line":132,"column":30}}},"23":{"name":"(anonymous_23)","line":133,"loc":{"start":{"line":133,"column":65},"end":{"line":133,"column":80}}},"24":{"name":"(anonymous_24)","line":137,"loc":{"start":{"line":137,"column":16},"end":{"line":137,"column":38}}},"25":{"name":"(anonymous_25)","line":144,"loc":{"start":{"line":144,"column":78},"end":{"line":144,"column":90}}},"26":{"name":"(anonymous_26)","line":155,"loc":{"start":{"line":155,"column":19},"end":{"line":155,"column":31}}},"27":{"name":"(anonymous_27)","line":160,"loc":{"start":{"line":160,"column":42},"end":{"line":160,"column":60}}},"28":{"name":"(anonymous_28)","line":163,"loc":{"start":{"line":163,"column":32},"end":{"line":163,"column":44}}},"29":{"name":"(anonymous_29)","line":169,"loc":{"start":{"line":169,"column":48},"end":{"line":169,"column":66}}},"30":{"name":"(anonymous_30)","line":176,"loc":{"start":{"line":176,"column":48},"end":{"line":176,"column":64}}},"31":{"name":"(anonymous_31)","line":185,"loc":{"start":{"line":185,"column":20},"end":{"line":185,"column":32}}},"32":{"name":"(anonymous_32)","line":186,"loc":{"start":{"line":186,"column":47},"end":{"line":186,"column":62}}},"33":{"name":"(anonymous_33)","line":206,"loc":{"start":{"line":206,"column":23},"end":{"line":206,"column":38}}},"34":{"name":"(anonymous_34)","line":207,"loc":{"start":{"line":207,"column":55},"end":{"line":207,"column":70}}},"35":{"name":"(anonymous_35)","line":208,"loc":{"start":{"line":208,"column":49},"end":{"line":208,"column":65}}},"36":{"name":"(anonymous_36)","line":209,"loc":{"start":{"line":209,"column":44},"end":{"line":209,"column":59}}},"37":{"name":"(anonymous_37)","line":213,"loc":{"start":{"line":213,"column":48},"end":{"line":213,"column":66}}},"38":{"name":"(anonymous_38)","line":215,"loc":{"start":{"line":215,"column":24},"end":{"line":215,"column":36}}},"39":{"name":"(anonymous_39)","line":216,"loc":{"start":{"line":216,"column":51},"end":{"line":216,"column":66}}},"40":{"name":"(anonymous_40)","line":219,"loc":{"start":{"line":219,"column":25},"end":{"line":219,"column":38}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":38}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":37}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":37}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":45}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":45}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":55}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":31}},"12":{"start":{"line":13,"column":0},"end":{"line":35,"column":5}},"13":{"start":{"line":14,"column":4},"end":{"line":17,"column":5}},"14":{"start":{"line":15,"column":8},"end":{"line":15,"column":23}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":37}},"16":{"start":{"line":18,"column":4},"end":{"line":26,"column":6}},"17":{"start":{"line":19,"column":8},"end":{"line":19,"column":25}},"18":{"start":{"line":20,"column":8},"end":{"line":24,"column":11}},"19":{"start":{"line":21,"column":12},"end":{"line":21,"column":40}},"20":{"start":{"line":23,"column":12},"end":{"line":23,"column":36}},"21":{"start":{"line":25,"column":8},"end":{"line":25,"column":34}},"22":{"start":{"line":27,"column":4},"end":{"line":33,"column":7}},"23":{"start":{"line":29,"column":12},"end":{"line":29,"column":38}},"24":{"start":{"line":34,"column":4},"end":{"line":34,"column":21}},"25":{"start":{"line":36,"column":0},"end":{"line":227,"column":5}},"26":{"start":{"line":37,"column":4},"end":{"line":45,"column":5}},"27":{"start":{"line":38,"column":8},"end":{"line":38,"column":42}},"28":{"start":{"line":39,"column":8},"end":{"line":39,"column":47}},"29":{"start":{"line":40,"column":8},"end":{"line":40,"column":24}},"30":{"start":{"line":41,"column":8},"end":{"line":41,"column":25}},"31":{"start":{"line":42,"column":8},"end":{"line":42,"column":42}},"32":{"start":{"line":43,"column":8},"end":{"line":43,"column":25}},"33":{"start":{"line":44,"column":8},"end":{"line":44,"column":51}},"34":{"start":{"line":46,"column":4},"end":{"line":49,"column":6}},"35":{"start":{"line":47,"column":8},"end":{"line":47,"column":40}},"36":{"start":{"line":48,"column":8},"end":{"line":48,"column":55}},"37":{"start":{"line":50,"column":4},"end":{"line":71,"column":6}},"38":{"start":{"line":51,"column":8},"end":{"line":51,"column":25}},"39":{"start":{"line":52,"column":8},"end":{"line":52,"column":52}},"40":{"start":{"line":53,"column":8},"end":{"line":53,"column":77}},"41":{"start":{"line":54,"column":8},"end":{"line":70,"column":11}},"42":{"start":{"line":55,"column":12},"end":{"line":65,"column":13}},"43":{"start":{"line":56,"column":16},"end":{"line":56,"column":51}},"44":{"start":{"line":59,"column":16},"end":{"line":59,"column":69}},"45":{"start":{"line":60,"column":16},"end":{"line":60,"column":46}},"46":{"start":{"line":61,"column":16},"end":{"line":61,"column":58}},"47":{"start":{"line":62,"column":16},"end":{"line":62,"column":39}},"48":{"start":{"line":63,"column":16},"end":{"line":63,"column":35}},"49":{"start":{"line":64,"column":16},"end":{"line":64,"column":36}},"50":{"start":{"line":67,"column":12},"end":{"line":67,"column":47}},"51":{"start":{"line":68,"column":12},"end":{"line":68,"column":36}},"52":{"start":{"line":69,"column":12},"end":{"line":69,"column":23}},"53":{"start":{"line":72,"column":4},"end":{"line":77,"column":6}},"54":{"start":{"line":73,"column":8},"end":{"line":73,"column":47}},"55":{"start":{"line":74,"column":8},"end":{"line":76,"column":9}},"56":{"start":{"line":75,"column":12},"end":{"line":75,"column":42}},"57":{"start":{"line":78,"column":4},"end":{"line":88,"column":6}},"58":{"start":{"line":79,"column":8},"end":{"line":79,"column":25}},"59":{"start":{"line":80,"column":8},"end":{"line":80,"column":31}},"60":{"start":{"line":81,"column":8},"end":{"line":87,"column":11}},"61":{"start":{"line":82,"column":12},"end":{"line":82,"column":47}},"62":{"start":{"line":83,"column":12},"end":{"line":85,"column":13}},"63":{"start":{"line":84,"column":16},"end":{"line":84,"column":39}},"64":{"start":{"line":86,"column":12},"end":{"line":86,"column":31}},"65":{"start":{"line":89,"column":4},"end":{"line":107,"column":6}},"66":{"start":{"line":90,"column":8},"end":{"line":90,"column":25}},"67":{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},"68":{"start":{"line":92,"column":12},"end":{"line":92,"column":19}},"69":{"start":{"line":94,"column":8},"end":{"line":96,"column":9}},"70":{"start":{"line":95,"column":12},"end":{"line":95,"column":50}},"71":{"start":{"line":97,"column":8},"end":{"line":106,"column":9}},"72":{"start":{"line":98,"column":12},"end":{"line":98,"column":34}},"73":{"start":{"line":101,"column":12},"end":{"line":103,"column":43}},"74":{"start":{"line":102,"column":16},"end":{"line":102,"column":39}},"75":{"start":{"line":104,"column":12},"end":{"line":104,"column":26}},"76":{"start":{"line":105,"column":12},"end":{"line":105,"column":43}},"77":{"start":{"line":108,"column":4},"end":{"line":113,"column":6}},"78":{"start":{"line":109,"column":8},"end":{"line":111,"column":9}},"79":{"start":{"line":110,"column":12},"end":{"line":110,"column":30}},"80":{"start":{"line":112,"column":8},"end":{"line":112,"column":87}},"81":{"start":{"line":114,"column":4},"end":{"line":159,"column":6}},"82":{"start":{"line":115,"column":8},"end":{"line":115,"column":25}},"83":{"start":{"line":116,"column":8},"end":{"line":118,"column":9}},"84":{"start":{"line":117,"column":12},"end":{"line":117,"column":34}},"85":{"start":{"line":119,"column":8},"end":{"line":121,"column":9}},"86":{"start":{"line":120,"column":12},"end":{"line":120,"column":37}},"87":{"start":{"line":122,"column":8},"end":{"line":124,"column":9}},"88":{"start":{"line":123,"column":12},"end":{"line":123,"column":37}},"89":{"start":{"line":125,"column":8},"end":{"line":125,"column":29}},"90":{"start":{"line":126,"column":8},"end":{"line":158,"column":11}},"91":{"start":{"line":127,"column":12},"end":{"line":129,"column":13}},"92":{"start":{"line":128,"column":16},"end":{"line":128,"column":28}},"93":{"start":{"line":130,"column":12},"end":{"line":136,"column":15}},"94":{"start":{"line":131,"column":16},"end":{"line":131,"column":90}},"95":{"start":{"line":133,"column":16},"end":{"line":135,"column":19}},"96":{"start":{"line":134,"column":20},"end":{"line":134,"column":32}},"97":{"start":{"line":138,"column":12},"end":{"line":143,"column":13}},"98":{"start":{"line":139,"column":16},"end":{"line":139,"column":58}},"99":{"start":{"line":140,"column":16},"end":{"line":142,"column":17}},"100":{"start":{"line":141,"column":20},"end":{"line":141,"column":27}},"101":{"start":{"line":144,"column":12},"end":{"line":154,"column":15}},"102":{"start":{"line":145,"column":16},"end":{"line":152,"column":17}},"103":{"start":{"line":146,"column":20},"end":{"line":148,"column":22}},"104":{"start":{"line":151,"column":20},"end":{"line":151,"column":61}},"105":{"start":{"line":153,"column":16},"end":{"line":153,"column":111}},"106":{"start":{"line":156,"column":12},"end":{"line":156,"column":46}},"107":{"start":{"line":157,"column":12},"end":{"line":157,"column":35}},"108":{"start":{"line":160,"column":4},"end":{"line":225,"column":6}},"109":{"start":{"line":161,"column":8},"end":{"line":161,"column":25}},"110":{"start":{"line":162,"column":8},"end":{"line":162,"column":46}},"111":{"start":{"line":163,"column":8},"end":{"line":224,"column":20}},"112":{"start":{"line":164,"column":12},"end":{"line":164,"column":47}},"113":{"start":{"line":165,"column":12},"end":{"line":165,"column":43}},"114":{"start":{"line":166,"column":12},"end":{"line":166,"column":27}},"115":{"start":{"line":167,"column":12},"end":{"line":167,"column":66}},"116":{"start":{"line":168,"column":12},"end":{"line":168,"column":43}},"117":{"start":{"line":169,"column":12},"end":{"line":223,"column":15}},"118":{"start":{"line":170,"column":16},"end":{"line":170,"column":78}},"119":{"start":{"line":171,"column":16},"end":{"line":175,"column":17}},"120":{"start":{"line":172,"column":20},"end":{"line":174,"column":21}},"121":{"start":{"line":173,"column":24},"end":{"line":173,"column":70}},"122":{"start":{"line":176,"column":16},"end":{"line":184,"column":19}},"123":{"start":{"line":177,"column":20},"end":{"line":182,"column":21}},"124":{"start":{"line":178,"column":24},"end":{"line":181,"column":27}},"125":{"start":{"line":183,"column":20},"end":{"line":183,"column":34}},"126":{"start":{"line":186,"column":16},"end":{"line":206,"column":60}},"127":{"start":{"line":187,"column":20},"end":{"line":187,"column":53}},"128":{"start":{"line":188,"column":20},"end":{"line":188,"column":84}},"129":{"start":{"line":189,"column":20},"end":{"line":191,"column":21}},"130":{"start":{"line":190,"column":24},"end":{"line":190,"column":37}},"131":{"start":{"line":192,"column":20},"end":{"line":192,"column":60}},"132":{"start":{"line":193,"column":20},"end":{"line":196,"column":21}},"133":{"start":{"line":194,"column":24},"end":{"line":194,"column":46}},"134":{"start":{"line":195,"column":24},"end":{"line":195,"column":37}},"135":{"start":{"line":197,"column":20},"end":{"line":200,"column":21}},"136":{"start":{"line":198,"column":24},"end":{"line":198,"column":46}},"137":{"start":{"line":199,"column":24},"end":{"line":199,"column":37}},"138":{"start":{"line":201,"column":20},"end":{"line":204,"column":21}},"139":{"start":{"line":202,"column":24},"end":{"line":202,"column":46}},"140":{"start":{"line":203,"column":24},"end":{"line":203,"column":37}},"141":{"start":{"line":205,"column":20},"end":{"line":205,"column":32}},"142":{"start":{"line":206,"column":40},"end":{"line":206,"column":56}},"143":{"start":{"line":207,"column":16},"end":{"line":207,"column":93}},"144":{"start":{"line":207,"column":72},"end":{"line":207,"column":89}},"145":{"start":{"line":208,"column":16},"end":{"line":212,"column":19}},"146":{"start":{"line":209,"column":20},"end":{"line":211,"column":23}},"147":{"start":{"line":210,"column":24},"end":{"line":210,"column":55}},"148":{"start":{"line":213,"column":16},"end":{"line":222,"column":19}},"149":{"start":{"line":214,"column":20},"end":{"line":214,"column":53}},"150":{"start":{"line":216,"column":20},"end":{"line":218,"column":23}},"151":{"start":{"line":217,"column":24},"end":{"line":217,"column":50}},"152":{"start":{"line":220,"column":20},"end":{"line":220,"column":58}},"153":{"start":{"line":221,"column":20},"end":{"line":221,"column":35}},"154":{"start":{"line":226,"column":4},"end":{"line":226,"column":21}},"155":{"start":{"line":228,"column":0},"end":{"line":228,"column":27}}},"branchMap":{"1":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":55,"column":12}},{"start":{"line":55,"column":12},"end":{"line":55,"column":12}}]},"2":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":19},"end":{"line":73,"column":39}},{"start":{"line":73,"column":43},"end":{"line":73,"column":45}}]},"3":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":15},"end":{"line":74,"column":39}},{"start":{"line":74,"column":43},"end":{"line":74,"column":64}}]},"4":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":12},"end":{"line":83,"column":12}},{"start":{"line":83,"column":12},"end":{"line":83,"column":12}}]},"5":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":8}},{"start":{"line":91,"column":8},"end":{"line":91,"column":8}}]},"6":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":8},"end":{"line":94,"column":8}},{"start":{"line":94,"column":8},"end":{"line":94,"column":8}}]},"7":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":8},"end":{"line":97,"column":8}},{"start":{"line":97,"column":8},"end":{"line":97,"column":8}}]},"8":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":8},"end":{"line":109,"column":8}},{"start":{"line":109,"column":8},"end":{"line":109,"column":8}}]},"9":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":8},"end":{"line":116,"column":8}},{"start":{"line":116,"column":8},"end":{"line":116,"column":8}}]},"10":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":8},"end":{"line":119,"column":8}},{"start":{"line":119,"column":8},"end":{"line":119,"column":8}}]},"11":{"line":119,"type":"binary-expr","locations":[{"start":{"line":119,"column":12},"end":{"line":119,"column":23}},{"start":{"line":119,"column":27},"end":{"line":119,"column":54}},{"start":{"line":119,"column":58},"end":{"line":119,"column":105}}]},"12":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":8},"end":{"line":122,"column":8}},{"start":{"line":122,"column":8},"end":{"line":122,"column":8}}]},"13":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":12},"end":{"line":122,"column":31}},{"start":{"line":122,"column":35},"end":{"line":122,"column":109}}]},"14":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":12},"end":{"line":127,"column":12}},{"start":{"line":127,"column":12},"end":{"line":127,"column":12}}]},"15":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":12},"end":{"line":138,"column":12}},{"start":{"line":138,"column":12},"end":{"line":138,"column":12}}]},"16":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":16},"end":{"line":140,"column":16}},{"start":{"line":140,"column":16},"end":{"line":140,"column":16}}]},"17":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":16},"end":{"line":145,"column":16}},{"start":{"line":145,"column":16},"end":{"line":145,"column":16}}]},"18":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":16},"end":{"line":171,"column":16}},{"start":{"line":171,"column":16},"end":{"line":171,"column":16}}]},"19":{"line":171,"type":"binary-expr","locations":[{"start":{"line":171,"column":20},"end":{"line":171,"column":25}},{"start":{"line":171,"column":29},"end":{"line":171,"column":45}}]},"20":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":20},"end":{"line":172,"column":20}},{"start":{"line":172,"column":20},"end":{"line":172,"column":20}}]},"21":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":20},"end":{"line":177,"column":20}},{"start":{"line":177,"column":20},"end":{"line":177,"column":20}}]},"22":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":20},"end":{"line":189,"column":20}},{"start":{"line":189,"column":20},"end":{"line":189,"column":20}}]},"23":{"line":189,"type":"binary-expr","locations":[{"start":{"line":189,"column":24},"end":{"line":189,"column":30}},{"start":{"line":189,"column":34},"end":{"line":189,"column":52}}]},"24":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":20},"end":{"line":193,"column":20}},{"start":{"line":193,"column":20},"end":{"line":193,"column":20}}]},"25":{"line":197,"type":"if","locations":[{"start":{"line":197,"column":20},"end":{"line":197,"column":20}},{"start":{"line":197,"column":20},"end":{"line":197,"column":20}}]},"26":{"line":197,"type":"binary-expr","locations":[{"start":{"line":197,"column":24},"end":{"line":197,"column":39}},{"start":{"line":197,"column":43},"end":{"line":197,"column":57}}]},"27":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":20},"end":{"line":201,"column":20}},{"start":{"line":201,"column":20},"end":{"line":201,"column":20}}]},"28":{"line":201,"type":"binary-expr","locations":[{"start":{"line":201,"column":24},"end":{"line":201,"column":34}},{"start":{"line":201,"column":38},"end":{"line":201,"column":58}}]}},"code":["'use strict';","var path = require('path');","var Promise = require('bluebird');","var joiAssert = require('joi-assert');","var fileIO = require('../xm/fileIO');","var assert = require('../xm/assert');","var assertVar = require('../xm/assertVar');","var typeOf = require('../xm/typeOf');","var collection = require('../xm/collection');","var CacheRequest = require('./CacheRequest');","var CacheStreamLoader = require('./CacheStreamLoader');","var types = require('./types');","var QueueItem = (function () {","    function QueueItem(job) {","        this.job = job;","        this.defer = Promise.defer();","    }","    QueueItem.prototype.run = function () {","        var _this = this;","        this.job.getObject().then(function (object) {","            _this.defer.resolve(object);","        }, function (err) {","            _this.defer.reject(err);","        });","        return this.defer.promise;","    };","    Object.defineProperty(QueueItem.prototype, \"promise\", {","        get: function () {","            return this.defer.promise;","        },","        enumerable: true,","        configurable: true","    });","    return QueueItem;","})();","var HTTPCache = (function () {","    function HTTPCache(opts) {","        this.jobs = new collection.Hash();","        this.jobTimers = new collection.Hash();","        this.queue = [];","        this.active = [];","        assertVar(opts, 'object', 'opts');","        this.opts = opts;","        this.setStoreDir(this.opts.cache.storeDir);","    }","    HTTPCache.prototype.setStoreDir = function (dir) {","        assertVar(dir, 'string', 'dir');","        this.manageFile = path.join(dir, '_info.json');","    };","    HTTPCache.prototype.getObject = function (request) {","        var _this = this;","        assertVar(request, CacheRequest, 'request');","        assert(request.locked, 'request must be lock()-ed {a}', request.url);","        return this.init().then(function () {","            if (_this.jobs.has(request.key)) {","                return _this.jobs.get(request.key);","            }","            else {","                var job = new CacheStreamLoader(_this.opts, request);","                var item = new QueueItem(job);","                _this.jobs.set(request.key, item.promise);","                _this.queue.push(item);","                _this.checkQueue();","                return item.promise;","            }","        }).then(function (res) {","            _this.scheduleRelease(request.key);","            _this.checkCleanCache();","            return res;","        });","    };","    HTTPCache.prototype.checkQueue = function () {","        var max = (this.opts.concurrent || 20);","        while (this.active.length < max && this.queue.length > 0) {","            this.step(this.queue.shift());","        }","    };","    HTTPCache.prototype.step = function (item) {","        var _this = this;","        this.active.push(item);","        item.run().then(function () {","            var i = _this.active.indexOf(item);","            if (i > -1) {","                _this.active.splice(i);","            }","            _this.checkQueue();","        });","    };","    HTTPCache.prototype.scheduleRelease = function (key) {","        var _this = this;","        if (!this.jobs.has(key)) {","            return;","        }","        if (this.jobTimers.has(key)) {","            clearTimeout(this.jobTimers.get(key));","        }","        if (this.opts.cache.jobTimeout <= 0) {","            this.jobs.delete(key);","        }","        else {","            var timer = setTimeout(function () {","                _this.jobs.delete(key);","            }, this.opts.cache.jobTimeout);","            timer.unref();","            this.jobTimers.set(key, timer);","        }","    };","    HTTPCache.prototype.init = function () {","        if (this._init) {","            return this._init;","        }","        return this._init = fileIO.mkdirCheck(this.opts.cache.storeDir, true).return();","    };","    HTTPCache.prototype.checkCleanCache = function () {","        var _this = this;","        if (this._cleaning) {","            return this._cleaning;","        }","        if (!this._init || !this.opts.cache.allowClean || !typeOf.isNumber(this.opts.cache.cleanInterval)) {","            return Promise.resolve();","        }","        if (this.cacheSweepLast && this.cacheSweepLast.getTime() > Date.now() - this.opts.cache.cleanInterval) {","            return Promise.resolve();","        }","        var now = new Date();","        return this._cleaning = fileIO.exists(this.manageFile).then(function (exists) {","            if (!exists) {","                return null;","            }","            return fileIO.read(_this.manageFile).then(function (buffer) {","                return joiAssert(JSON.parse(buffer.toString('utf8')), types.manageSchema);","            }, function (err) {","                return fileIO.removeFile(_this.manageFile).catch(function (err) {","                    return null;","                });","            });","        }).then(function (manageInfo) {","            if (manageInfo) {","                var date = new Date(manageInfo.lastSweep);","                if (date.getTime() > now.getTime() - _this.opts.cache.cleanInterval) {","                    return;","                }","            }","            return _this.cleanupCacheAge(_this.opts.cache.cleanInterval).then(function () {","                if (!manageInfo) {","                    manageInfo = {","                        lastSweep: now.toISOString()","                    };","                }","                else {","                    manageInfo.lastSweep = now.toISOString();","                }","                return fileIO.write(_this.manageFile, new Buffer(JSON.stringify(manageInfo, null, 2), 'utf8'));","            });","        }).finally(function () {","            _this.cacheSweepLast = new Date();","            _this._cleaning = null;","        });","    };","    HTTPCache.prototype.cleanupCacheAge = function (maxAge) {","        var _this = this;","        assertVar(maxAge, 'number', 'maxAge');","        return this.init().then(function () {","            var ageLimit = Date.now() - maxAge;","            var dirs = Object.create(null);","            var files = [];","            var baseDir = path.resolve(_this.opts.cache.storeDir);","            var hexStartExp = /^[0-9a-f]+/;","            return fileIO.listTree(baseDir).map(function (target) {","                var first = path.relative(baseDir, target).match(hexStartExp);","                if (first && first.length > 0) {","                    if (!(first[0] in dirs)) {","                        dirs[first[0]] = path.join(baseDir, first[0]);","                    }","                }","                return fileIO.stat(target).then(function (stat) {","                    if (stat.isFile()) {","                        files.push({","                            atime: stat.atime.getTime(),","                            path: target","                        });","                    }","                    return target;","                });","            }).then(function () {","                var removeFiles = files.filter(function (obj) {","                    var ext = path.extname(obj.path);","                    var first = path.relative(baseDir, obj.path).match(hexStartExp);","                    if (!first || first.length === 0) {","                        return false;","                    }","                    var name = path.basename(obj.path, ext);","                    if (!typeOf.isSha(name)) {","                        delete dirs[first[0]];","                        return false;","                    }","                    if (ext !== '.json' && ext !== '.raw') {","                        delete dirs[first[0]];","                        return false;","                    }","                    if (maxAge > 0 && obj.atime > ageLimit) {","                        delete dirs[first[0]];","                        return false;","                    }","                    return true;","                }).map(function (obj) { return obj.path; });","                var removeDirs = Object.keys(dirs).map(function (key) { return dirs[key]; });","                removeFiles = removeFiles.filter(function (file) {","                    return removeDirs.every(function (dir) {","                        return file.indexOf(dir) !== 0;","                    });","                });","                return Promise.map(removeFiles, function (target) {","                    return fileIO.removeFile(target);","                }).then(function () {","                    return Promise.map(removeDirs, function (dir) {","                        return fileIO.rimraf(dir);","                    });","                }).catch(function (e) {","                    console.log('\\n-removeFile error-\\n');","                    console.log(e);","                });","            });","        }).return();","    };","    return HTTPCache;","})();","module.exports = HTTPCache;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"18":1,"19":0,"20":0,"21":0,"23":0,"25":0,"27":1,"29":0,"34":1,"36":1,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"46":1,"47":0,"48":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"67":0,"68":0,"69":0,"72":1,"73":0,"74":0,"75":0,"78":1,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"86":0,"89":1,"90":0,"91":0,"92":0,"94":0,"95":0,"97":0,"98":0,"101":0,"102":0,"104":0,"105":0,"108":1,"109":0,"110":0,"112":0,"114":1,"115":0,"116":0,"117":0,"119":0,"120":0,"122":0,"123":0,"125":0,"126":0,"127":0,"128":0,"130":0,"131":0,"133":0,"134":0,"138":0,"139":0,"140":0,"141":0,"144":0,"145":0,"146":0,"151":0,"153":0,"156":0,"157":0,"160":1,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"176":0,"177":0,"178":0,"183":0,"186":0,"187":0,"188":0,"189":0,"190":0,"192":0,"193":0,"194":0,"195":0,"197":0,"198":0,"199":0,"201":0,"202":0,"203":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"213":0,"214":0,"216":0,"217":0,"220":0,"221":0,"226":1,"228":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/CacheStreamLoader.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/CacheStreamLoader.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":1,"38":0,"39":1,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":1,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":1,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":1,"178":0,"179":0,"180":0,"181":0,"182":1,"183":0,"184":0,"185":0,"186":0,"187":1,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":1,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":1,"207":0,"208":0,"209":0,"210":0,"211":0,"212":1,"213":0,"214":1,"215":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0},"fnMap":{"1":{"name":"(anonymous_1)","line":19,"loc":{"start":{"line":19,"column":25},"end":{"line":19,"column":37}}},"2":{"name":"CacheStreamLoader","line":20,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":46}}},"3":{"name":"(anonymous_3)","line":30,"loc":{"start":{"line":30,"column":46},"end":{"line":30,"column":58}}},"4":{"name":"(anonymous_4)","line":39,"loc":{"start":{"line":39,"column":13},"end":{"line":39,"column":25}}},"5":{"name":"(anonymous_5)","line":45,"loc":{"start":{"line":45,"column":43},"end":{"line":45,"column":55}}},"6":{"name":"(anonymous_6)","line":48,"loc":{"start":{"line":48,"column":44},"end":{"line":48,"column":56}}},"7":{"name":"(anonymous_7)","line":54,"loc":{"start":{"line":54,"column":44},"end":{"line":54,"column":56}}},"8":{"name":"(anonymous_8)","line":59,"loc":{"start":{"line":59,"column":53},"end":{"line":59,"column":65}}},"9":{"name":"(anonymous_9)","line":70,"loc":{"start":{"line":70,"column":47},"end":{"line":70,"column":59}}},"10":{"name":"(anonymous_10)","line":74,"loc":{"start":{"line":74,"column":68},"end":{"line":74,"column":80}}},"11":{"name":"(anonymous_11)","line":80,"loc":{"start":{"line":80,"column":16},"end":{"line":80,"column":28}}},"12":{"name":"(anonymous_12)","line":82,"loc":{"start":{"line":82,"column":11},"end":{"line":82,"column":26}}},"13":{"name":"(anonymous_13)","line":87,"loc":{"start":{"line":87,"column":44},"end":{"line":87,"column":56}}},"14":{"name":"(anonymous_14)","line":92,"loc":{"start":{"line":92,"column":36},"end":{"line":92,"column":48}}},"15":{"name":"(anonymous_15)","line":103,"loc":{"start":{"line":103,"column":59},"end":{"line":103,"column":77}}},"16":{"name":"(anonymous_16)","line":110,"loc":{"start":{"line":110,"column":16},"end":{"line":110,"column":28}}},"17":{"name":"(anonymous_17)","line":114,"loc":{"start":{"line":114,"column":17},"end":{"line":114,"column":32}}},"18":{"name":"(anonymous_18)","line":119,"loc":{"start":{"line":119,"column":43},"end":{"line":119,"column":64}}},"19":{"name":"(anonymous_19)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":54}}},"20":{"name":"(anonymous_20)","line":134,"loc":{"start":{"line":134,"column":55},"end":{"line":134,"column":70}}},"21":{"name":"(anonymous_21)","line":150,"loc":{"start":{"line":150,"column":38},"end":{"line":150,"column":53}}},"22":{"name":"(anonymous_22)","line":153,"loc":{"start":{"line":153,"column":29},"end":{"line":153,"column":44}}},"23":{"name":"(anonymous_23)","line":178,"loc":{"start":{"line":178,"column":44},"end":{"line":178,"column":65}}},"24":{"name":"(anonymous_24)","line":207,"loc":{"start":{"line":207,"column":35},"end":{"line":207,"column":52}}},"25":{"name":"(anonymous_25)","line":215,"loc":{"start":{"line":215,"column":45},"end":{"line":215,"column":70}}},"26":{"name":"(anonymous_26)","line":220,"loc":{"start":{"line":220,"column":27},"end":{"line":220,"column":39}}},"27":{"name":"(anonymous_27)","line":229,"loc":{"start":{"line":229,"column":43},"end":{"line":229,"column":55}}},"28":{"name":"(anonymous_28)","line":234,"loc":{"start":{"line":234,"column":20},"end":{"line":234,"column":32}}},"29":{"name":"(anonymous_29)","line":239,"loc":{"start":{"line":239,"column":46},"end":{"line":239,"column":69}}},"30":{"name":"(anonymous_30)","line":240,"loc":{"start":{"line":240,"column":40},"end":{"line":240,"column":57}}},"31":{"name":"(anonymous_31)","line":244,"loc":{"start":{"line":244,"column":42},"end":{"line":244,"column":58}}},"32":{"name":"(anonymous_32)","line":249,"loc":{"start":{"line":249,"column":15},"end":{"line":249,"column":28}}},"33":{"name":"(anonymous_33)","line":252,"loc":{"start":{"line":252,"column":46},"end":{"line":252,"column":58}}},"34":{"name":"(anonymous_34)","line":259,"loc":{"start":{"line":259,"column":17},"end":{"line":259,"column":30}}},"35":{"name":"(anonymous_35)","line":261,"loc":{"start":{"line":261,"column":45},"end":{"line":261,"column":57}}},"36":{"name":"(anonymous_36)","line":268,"loc":{"start":{"line":268,"column":17},"end":{"line":268,"column":30}}},"37":{"name":"(anonymous_37)","line":270,"loc":{"start":{"line":270,"column":43},"end":{"line":270,"column":55}}},"38":{"name":"(anonymous_38)","line":272,"loc":{"start":{"line":272,"column":56},"end":{"line":272,"column":74}}},"39":{"name":"(anonymous_39)","line":276,"loc":{"start":{"line":276,"column":63},"end":{"line":276,"column":79}}},"40":{"name":"(anonymous_40)","line":284,"loc":{"start":{"line":284,"column":43},"end":{"line":284,"column":68}}},"41":{"name":"(anonymous_41)","line":294,"loc":{"start":{"line":294,"column":45},"end":{"line":294,"column":70}}},"42":{"name":"(anonymous_42)","line":301,"loc":{"start":{"line":301,"column":43},"end":{"line":301,"column":55}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":34}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":38}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":33}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":37}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":43}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":43}},"13":{"start":{"line":14,"column":0},"end":{"line":14,"column":33}},"14":{"start":{"line":15,"column":0},"end":{"line":15,"column":37}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":43}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":45}},"17":{"start":{"line":18,"column":0},"end":{"line":18,"column":31}},"18":{"start":{"line":19,"column":0},"end":{"line":305,"column":5}},"19":{"start":{"line":20,"column":4},"end":{"line":29,"column":5}},"20":{"start":{"line":21,"column":8},"end":{"line":21,"column":42}},"21":{"start":{"line":22,"column":8},"end":{"line":22,"column":48}},"22":{"start":{"line":23,"column":8},"end":{"line":23,"column":25}},"23":{"start":{"line":24,"column":8},"end":{"line":24,"column":31}},"24":{"start":{"line":25,"column":8},"end":{"line":25,"column":52}},"25":{"start":{"line":26,"column":8},"end":{"line":26,"column":158}},"26":{"start":{"line":27,"column":8},"end":{"line":27,"column":90}},"27":{"start":{"line":28,"column":8},"end":{"line":28,"column":91}},"28":{"start":{"line":30,"column":4},"end":{"line":37,"column":6}},"29":{"start":{"line":31,"column":8},"end":{"line":31,"column":29}},"30":{"start":{"line":32,"column":8},"end":{"line":32,"column":55}},"31":{"start":{"line":33,"column":8},"end":{"line":33,"column":44}},"32":{"start":{"line":34,"column":8},"end":{"line":34,"column":44}},"33":{"start":{"line":35,"column":8},"end":{"line":35,"column":44}},"34":{"start":{"line":36,"column":8},"end":{"line":36,"column":26}},"35":{"start":{"line":38,"column":4},"end":{"line":44,"column":7}},"36":{"start":{"line":40,"column":12},"end":{"line":40,"column":58}},"37":{"start":{"line":45,"column":4},"end":{"line":47,"column":6}},"38":{"start":{"line":46,"column":8},"end":{"line":46,"column":29}},"39":{"start":{"line":48,"column":4},"end":{"line":53,"column":6}},"40":{"start":{"line":49,"column":8},"end":{"line":51,"column":9}},"41":{"start":{"line":50,"column":12},"end":{"line":50,"column":24}},"42":{"start":{"line":52,"column":8},"end":{"line":52,"column":21}},"43":{"start":{"line":54,"column":4},"end":{"line":86,"column":6}},"44":{"start":{"line":55,"column":8},"end":{"line":55,"column":25}},"45":{"start":{"line":56,"column":8},"end":{"line":58,"column":9}},"46":{"start":{"line":57,"column":12},"end":{"line":57,"column":33}},"47":{"start":{"line":59,"column":8},"end":{"line":85,"column":11}},"48":{"start":{"line":60,"column":12},"end":{"line":60,"column":34}},"49":{"start":{"line":61,"column":12},"end":{"line":68,"column":13}},"50":{"start":{"line":62,"column":16},"end":{"line":62,"column":56}},"51":{"start":{"line":63,"column":16},"end":{"line":67,"column":17}},"52":{"start":{"line":64,"column":20},"end":{"line":66,"column":21}},"53":{"start":{"line":65,"column":24},"end":{"line":65,"column":42}},"54":{"start":{"line":69,"column":12},"end":{"line":73,"column":13}},"55":{"start":{"line":70,"column":16},"end":{"line":72,"column":19}},"56":{"start":{"line":71,"column":20},"end":{"line":71,"column":40}},"57":{"start":{"line":74,"column":12},"end":{"line":79,"column":15}},"58":{"start":{"line":75,"column":16},"end":{"line":77,"column":17}},"59":{"start":{"line":76,"column":20},"end":{"line":76,"column":105}},"60":{"start":{"line":78,"column":16},"end":{"line":78,"column":36}},"61":{"start":{"line":81,"column":12},"end":{"line":81,"column":32}},"62":{"start":{"line":83,"column":12},"end":{"line":83,"column":32}},"63":{"start":{"line":84,"column":12},"end":{"line":84,"column":22}},"64":{"start":{"line":87,"column":4},"end":{"line":118,"column":6}},"65":{"start":{"line":88,"column":8},"end":{"line":88,"column":25}},"66":{"start":{"line":89,"column":8},"end":{"line":91,"column":9}},"67":{"start":{"line":90,"column":12},"end":{"line":90,"column":37}},"68":{"start":{"line":92,"column":8},"end":{"line":117,"column":11}},"69":{"start":{"line":93,"column":12},"end":{"line":95,"column":13}},"70":{"start":{"line":94,"column":16},"end":{"line":94,"column":61}},"71":{"start":{"line":96,"column":12},"end":{"line":102,"column":13}},"72":{"start":{"line":97,"column":16},"end":{"line":101,"column":17}},"73":{"start":{"line":98,"column":20},"end":{"line":98,"column":72}},"74":{"start":{"line":99,"column":20},"end":{"line":99,"column":45}},"75":{"start":{"line":100,"column":20},"end":{"line":100,"column":153}},"76":{"start":{"line":103,"column":12},"end":{"line":109,"column":15}},"77":{"start":{"line":104,"column":16},"end":{"line":106,"column":17}},"78":{"start":{"line":105,"column":20},"end":{"line":105,"column":55}},"79":{"start":{"line":107,"column":16},"end":{"line":107,"column":62}},"80":{"start":{"line":108,"column":16},"end":{"line":108,"column":43}},"81":{"start":{"line":111,"column":12},"end":{"line":111,"column":56}},"82":{"start":{"line":112,"column":12},"end":{"line":112,"column":169}},"83":{"start":{"line":113,"column":12},"end":{"line":113,"column":32}},"84":{"start":{"line":115,"column":12},"end":{"line":115,"column":32}},"85":{"start":{"line":116,"column":12},"end":{"line":116,"column":52}},"86":{"start":{"line":119,"column":4},"end":{"line":214,"column":6}},"87":{"start":{"line":120,"column":8},"end":{"line":120,"column":25}},"88":{"start":{"line":121,"column":8},"end":{"line":121,"column":55}},"89":{"start":{"line":121,"column":36},"end":{"line":121,"column":53}},"90":{"start":{"line":122,"column":8},"end":{"line":124,"column":9}},"91":{"start":{"line":123,"column":12},"end":{"line":123,"column":37}},"92":{"start":{"line":125,"column":8},"end":{"line":213,"column":11}},"93":{"start":{"line":126,"column":12},"end":{"line":129,"column":14}},"94":{"start":{"line":130,"column":12},"end":{"line":132,"column":13}},"95":{"start":{"line":131,"column":16},"end":{"line":131,"column":45}},"96":{"start":{"line":133,"column":12},"end":{"line":133,"column":49}},"97":{"start":{"line":134,"column":12},"end":{"line":136,"column":15}},"98":{"start":{"line":135,"column":16},"end":{"line":135,"column":70}},"99":{"start":{"line":137,"column":12},"end":{"line":144,"column":13}},"100":{"start":{"line":138,"column":16},"end":{"line":140,"column":17}},"101":{"start":{"line":139,"column":20},"end":{"line":139,"column":78}},"102":{"start":{"line":141,"column":16},"end":{"line":143,"column":17}},"103":{"start":{"line":142,"column":20},"end":{"line":142,"column":110}},"104":{"start":{"line":145,"column":12},"end":{"line":145,"column":61}},"105":{"start":{"line":146,"column":12},"end":{"line":146,"column":35}},"106":{"start":{"line":147,"column":12},"end":{"line":147,"column":26}},"107":{"start":{"line":148,"column":12},"end":{"line":148,"column":53}},"108":{"start":{"line":149,"column":12},"end":{"line":149,"column":37}},"109":{"start":{"line":150,"column":12},"end":{"line":152,"column":15}},"110":{"start":{"line":151,"column":16},"end":{"line":151,"column":28}},"111":{"start":{"line":153,"column":12},"end":{"line":212,"column":15}},"112":{"start":{"line":154,"column":16},"end":{"line":154,"column":59}},"113":{"start":{"line":155,"column":16},"end":{"line":155,"column":62}},"114":{"start":{"line":156,"column":16},"end":{"line":156,"column":60}},"115":{"start":{"line":157,"column":16},"end":{"line":164,"column":17}},"116":{"start":{"line":158,"column":20},"end":{"line":158,"column":107}},"117":{"start":{"line":159,"column":20},"end":{"line":161,"column":21}},"118":{"start":{"line":160,"column":24},"end":{"line":160,"column":56}},"119":{"start":{"line":162,"column":20},"end":{"line":162,"column":46}},"120":{"start":{"line":163,"column":20},"end":{"line":163,"column":27}},"121":{"start":{"line":165,"column":16},"end":{"line":177,"column":17}},"122":{"start":{"line":166,"column":20},"end":{"line":169,"column":21}},"123":{"start":{"line":167,"column":24},"end":{"line":167,"column":112}},"124":{"start":{"line":168,"column":24},"end":{"line":168,"column":31}},"125":{"start":{"line":170,"column":20},"end":{"line":173,"column":21}},"126":{"start":{"line":171,"column":24},"end":{"line":171,"column":109}},"127":{"start":{"line":172,"column":24},"end":{"line":172,"column":31}},"128":{"start":{"line":174,"column":20},"end":{"line":174,"column":77}},"129":{"start":{"line":175,"column":20},"end":{"line":175,"column":65}},"130":{"start":{"line":176,"column":20},"end":{"line":176,"column":27}},"131":{"start":{"line":178,"column":16},"end":{"line":194,"column":19}},"132":{"start":{"line":179,"column":20},"end":{"line":181,"column":21}},"133":{"start":{"line":180,"column":24},"end":{"line":180,"column":107}},"134":{"start":{"line":182,"column":20},"end":{"line":184,"column":21}},"135":{"start":{"line":183,"column":24},"end":{"line":183,"column":82}},"136":{"start":{"line":185,"column":20},"end":{"line":185,"column":58}},"137":{"start":{"line":186,"column":20},"end":{"line":191,"column":21}},"138":{"start":{"line":187,"column":24},"end":{"line":187,"column":56}},"139":{"start":{"line":190,"column":24},"end":{"line":190,"column":54}},"140":{"start":{"line":192,"column":20},"end":{"line":192,"column":45}},"141":{"start":{"line":193,"column":20},"end":{"line":193,"column":66}},"142":{"start":{"line":195,"column":16},"end":{"line":195,"column":28}},"143":{"start":{"line":196,"column":16},"end":{"line":206,"column":17}},"144":{"start":{"line":198,"column":24},"end":{"line":198,"column":66}},"145":{"start":{"line":199,"column":24},"end":{"line":199,"column":30}},"146":{"start":{"line":201,"column":24},"end":{"line":201,"column":67}},"147":{"start":{"line":202,"column":24},"end":{"line":202,"column":30}},"148":{"start":{"line":204,"column":24},"end":{"line":204,"column":40}},"149":{"start":{"line":205,"column":24},"end":{"line":205,"column":30}},"150":{"start":{"line":207,"column":16},"end":{"line":209,"column":19}},"151":{"start":{"line":208,"column":20},"end":{"line":208,"column":43}},"152":{"start":{"line":210,"column":16},"end":{"line":210,"column":37}},"153":{"start":{"line":211,"column":16},"end":{"line":211,"column":31}},"154":{"start":{"line":215,"column":4},"end":{"line":238,"column":6}},"155":{"start":{"line":216,"column":8},"end":{"line":216,"column":25}},"156":{"start":{"line":217,"column":8},"end":{"line":219,"column":9}},"157":{"start":{"line":218,"column":12},"end":{"line":218,"column":37}},"158":{"start":{"line":220,"column":8},"end":{"line":237,"column":11}},"159":{"start":{"line":221,"column":12},"end":{"line":223,"column":13}},"160":{"start":{"line":222,"column":16},"end":{"line":222,"column":85}},"161":{"start":{"line":224,"column":12},"end":{"line":224,"column":27}},"162":{"start":{"line":225,"column":12},"end":{"line":227,"column":13}},"163":{"start":{"line":226,"column":16},"end":{"line":226,"column":83}},"164":{"start":{"line":228,"column":12},"end":{"line":228,"column":83}},"165":{"start":{"line":229,"column":12},"end":{"line":236,"column":15}},"166":{"start":{"line":230,"column":16},"end":{"line":233,"column":19}},"167":{"start":{"line":235,"column":16},"end":{"line":235,"column":42}},"168":{"start":{"line":239,"column":4},"end":{"line":251,"column":6}},"169":{"start":{"line":240,"column":8},"end":{"line":250,"column":11}},"170":{"start":{"line":241,"column":12},"end":{"line":243,"column":13}},"171":{"start":{"line":242,"column":16},"end":{"line":242,"column":46}},"172":{"start":{"line":244,"column":12},"end":{"line":249,"column":47}},"173":{"start":{"line":245,"column":16},"end":{"line":247,"column":17}},"174":{"start":{"line":246,"column":20},"end":{"line":246,"column":33}},"175":{"start":{"line":248,"column":16},"end":{"line":248,"column":28}},"176":{"start":{"line":249,"column":30},"end":{"line":249,"column":43}},"177":{"start":{"line":252,"column":4},"end":{"line":260,"column":6}},"178":{"start":{"line":253,"column":8},"end":{"line":255,"column":9}},"179":{"start":{"line":254,"column":12},"end":{"line":254,"column":37}},"180":{"start":{"line":256,"column":8},"end":{"line":259,"column":57}},"181":{"start":{"line":259,"column":32},"end":{"line":259,"column":44}},"182":{"start":{"line":261,"column":4},"end":{"line":269,"column":6}},"183":{"start":{"line":262,"column":8},"end":{"line":264,"column":9}},"184":{"start":{"line":263,"column":12},"end":{"line":263,"column":37}},"185":{"start":{"line":265,"column":8},"end":{"line":268,"column":57}},"186":{"start":{"line":268,"column":32},"end":{"line":268,"column":44}},"187":{"start":{"line":270,"column":4},"end":{"line":283,"column":6}},"188":{"start":{"line":271,"column":8},"end":{"line":271,"column":25}},"189":{"start":{"line":272,"column":8},"end":{"line":282,"column":11}},"190":{"start":{"line":273,"column":12},"end":{"line":275,"column":13}},"191":{"start":{"line":274,"column":16},"end":{"line":274,"column":28}},"192":{"start":{"line":276,"column":12},"end":{"line":281,"column":15}},"193":{"start":{"line":277,"column":16},"end":{"line":277,"column":57}},"194":{"start":{"line":278,"column":16},"end":{"line":278,"column":113}},"195":{"start":{"line":279,"column":16},"end":{"line":279,"column":113}},"196":{"start":{"line":280,"column":16},"end":{"line":280,"column":41}},"197":{"start":{"line":284,"column":4},"end":{"line":293,"column":6}},"198":{"start":{"line":285,"column":8},"end":{"line":285,"column":22}},"199":{"start":{"line":286,"column":8},"end":{"line":286,"column":36}},"200":{"start":{"line":287,"column":8},"end":{"line":287,"column":36}},"201":{"start":{"line":288,"column":8},"end":{"line":288,"column":55}},"202":{"start":{"line":289,"column":8},"end":{"line":289,"column":63}},"203":{"start":{"line":290,"column":8},"end":{"line":290,"column":46}},"204":{"start":{"line":291,"column":8},"end":{"line":291,"column":32}},"205":{"start":{"line":292,"column":8},"end":{"line":292,"column":39}},"206":{"start":{"line":294,"column":4},"end":{"line":300,"column":6}},"207":{"start":{"line":295,"column":8},"end":{"line":295,"column":36}},"208":{"start":{"line":296,"column":8},"end":{"line":296,"column":63}},"209":{"start":{"line":297,"column":8},"end":{"line":297,"column":137}},"210":{"start":{"line":298,"column":8},"end":{"line":298,"column":63}},"211":{"start":{"line":299,"column":8},"end":{"line":299,"column":40}},"212":{"start":{"line":301,"column":4},"end":{"line":303,"column":6}},"213":{"start":{"line":302,"column":8},"end":{"line":302,"column":64}},"214":{"start":{"line":304,"column":4},"end":{"line":304,"column":29}},"215":{"start":{"line":306,"column":0},"end":{"line":306,"column":35}}},"branchMap":{"1":{"line":40,"type":"cond-expr","locations":[{"start":{"line":40,"column":34},"end":{"line":40,"column":50}},{"start":{"line":40,"column":53},"end":{"line":40,"column":57}}]},"2":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":49,"column":8}},{"start":{"line":49,"column":8},"end":{"line":49,"column":8}}]},"3":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":12},"end":{"line":49,"column":37}},{"start":{"line":49,"column":41},"end":{"line":49,"column":67}},{"start":{"line":49,"column":71},"end":{"line":49,"column":97}}]},"4":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":8},"end":{"line":56,"column":8}},{"start":{"line":56,"column":8},"end":{"line":56,"column":8}}]},"5":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":12},"end":{"line":61,"column":12}},{"start":{"line":61,"column":12},"end":{"line":61,"column":12}}]},"6":{"line":61,"type":"binary-expr","locations":[{"start":{"line":61,"column":16},"end":{"line":61,"column":33}},{"start":{"line":61,"column":37},"end":{"line":61,"column":54}}]},"7":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":16},"end":{"line":63,"column":16}},{"start":{"line":63,"column":16},"end":{"line":63,"column":16}}]},"8":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":20},"end":{"line":63,"column":29}},{"start":{"line":63,"column":33},"end":{"line":63,"column":76}},{"start":{"line":63,"column":80},"end":{"line":63,"column":107}}]},"9":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":20},"end":{"line":64,"column":20}},{"start":{"line":64,"column":20},"end":{"line":64,"column":20}}]},"10":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":12},"end":{"line":69,"column":12}},{"start":{"line":69,"column":12},"end":{"line":69,"column":12}}]},"11":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":16},"end":{"line":75,"column":16}},{"start":{"line":75,"column":16},"end":{"line":75,"column":16}}]},"12":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":8},"end":{"line":89,"column":8}},{"start":{"line":89,"column":8},"end":{"line":89,"column":8}}]},"13":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":12},"end":{"line":93,"column":12}},{"start":{"line":93,"column":12},"end":{"line":93,"column":12}}]},"14":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":12},"end":{"line":96,"column":12}},{"start":{"line":96,"column":12},"end":{"line":96,"column":12}}]},"15":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":16},"end":{"line":97,"column":16}},{"start":{"line":97,"column":16},"end":{"line":97,"column":16}}]},"16":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":16},"end":{"line":104,"column":16}},{"start":{"line":104,"column":16},"end":{"line":104,"column":16}}]},"17":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":8},"end":{"line":121,"column":8}},{"start":{"line":121,"column":8},"end":{"line":121,"column":8}}]},"18":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":8},"end":{"line":122,"column":8}},{"start":{"line":122,"column":8},"end":{"line":122,"column":8}}]},"19":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":12},"end":{"line":130,"column":12}},{"start":{"line":130,"column":12},"end":{"line":130,"column":12}}]},"20":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":12},"end":{"line":137,"column":12}},{"start":{"line":137,"column":12},"end":{"line":137,"column":12}}]},"21":{"line":137,"type":"binary-expr","locations":[{"start":{"line":137,"column":16},"end":{"line":137,"column":33}},{"start":{"line":137,"column":37},"end":{"line":137,"column":54}},{"start":{"line":137,"column":58},"end":{"line":137,"column":67}}]},"22":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":16},"end":{"line":138,"column":16}},{"start":{"line":138,"column":16},"end":{"line":138,"column":16}}]},"23":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":16},"end":{"line":141,"column":16}},{"start":{"line":141,"column":16},"end":{"line":141,"column":16}}]},"24":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":16},"end":{"line":157,"column":16}},{"start":{"line":157,"column":16},"end":{"line":157,"column":16}}]},"25":{"line":157,"type":"binary-expr","locations":[{"start":{"line":157,"column":20},"end":{"line":157,"column":40}},{"start":{"line":157,"column":44},"end":{"line":157,"column":65}}]},"26":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":20},"end":{"line":159,"column":20}},{"start":{"line":159,"column":20},"end":{"line":159,"column":20}}]},"27":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":16},"end":{"line":165,"column":16}},{"start":{"line":165,"column":16},"end":{"line":165,"column":16}}]},"28":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":20},"end":{"line":166,"column":20}},{"start":{"line":166,"column":20},"end":{"line":166,"column":20}}]},"29":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":20},"end":{"line":170,"column":20}},{"start":{"line":170,"column":20},"end":{"line":170,"column":20}}]},"30":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":20},"end":{"line":179,"column":20}},{"start":{"line":179,"column":20},"end":{"line":179,"column":20}}]},"31":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":20},"end":{"line":182,"column":20}},{"start":{"line":182,"column":20},"end":{"line":182,"column":20}}]},"32":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":20},"end":{"line":186,"column":20}},{"start":{"line":186,"column":20},"end":{"line":186,"column":20}}]},"33":{"line":196,"type":"switch","locations":[{"start":{"line":197,"column":20},"end":{"line":199,"column":30}},{"start":{"line":200,"column":20},"end":{"line":202,"column":30}},{"start":{"line":203,"column":20},"end":{"line":205,"column":30}}]},"34":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":8},"end":{"line":217,"column":8}},{"start":{"line":217,"column":8},"end":{"line":217,"column":8}}]},"35":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":12},"end":{"line":221,"column":12}},{"start":{"line":221,"column":12},"end":{"line":221,"column":12}}]},"36":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":12},"end":{"line":225,"column":12}},{"start":{"line":225,"column":12},"end":{"line":225,"column":12}}]},"37":{"line":241,"type":"if","locations":[{"start":{"line":241,"column":12},"end":{"line":241,"column":12}},{"start":{"line":241,"column":12},"end":{"line":241,"column":12}}]},"38":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":16},"end":{"line":245,"column":16}},{"start":{"line":245,"column":16},"end":{"line":245,"column":16}}]},"39":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":8},"end":{"line":253,"column":8}},{"start":{"line":253,"column":8},"end":{"line":253,"column":8}}]},"40":{"line":262,"type":"if","locations":[{"start":{"line":262,"column":8},"end":{"line":262,"column":8}},{"start":{"line":262,"column":8},"end":{"line":262,"column":8}}]},"41":{"line":273,"type":"if","locations":[{"start":{"line":273,"column":12},"end":{"line":273,"column":12}},{"start":{"line":273,"column":12},"end":{"line":273,"column":12}}]},"42":{"line":296,"type":"binary-expr","locations":[{"start":{"line":296,"column":25},"end":{"line":296,"column":44}},{"start":{"line":296,"column":48},"end":{"line":296,"column":61}}]},"43":{"line":297,"type":"cond-expr","locations":[{"start":{"line":297,"column":83},"end":{"line":297,"column":121}},{"start":{"line":297,"column":124},"end":{"line":297,"column":134}}]},"44":{"line":302,"type":"cond-expr","locations":[{"start":{"line":302,"column":30},"end":{"line":302,"column":46}},{"start":{"line":302,"column":49},"end":{"line":302,"column":63}}]}},"code":["'use strict';","var path = require('path');","var crypto = require('crypto');","var Promise = require('bluebird');","var joiAssert = require('joi-assert');","var zlib = require('zlib');","var request = require('request');","var es = require('event-stream');","var BufferList = require('bl');","var typeOf = require('../xm/typeOf');","var assert = require('../xm/assert');","var assertVar = require('../xm/assertVar');","var dateUtils = require('../xm/dateUtils');","var hash = require('../xm/hash');","var fileIO = require('../xm/fileIO');","var CacheObject = require('./CacheObject');","var ResponseInfo = require('./ResponseInfo');","var types = require('./types');","var CacheStreamLoader = (function () {","    function CacheStreamLoader(opts, request) {","        assertVar(opts, 'object', 'opts');","        assertVar(request, 'object', 'request');","        this.opts = opts;","        this.request = request;","        this.object = new CacheObject(this.request);","        this.object.storeDir = fileIO.distributeDir(this.opts.cache.storeDir, this.request.key, this.opts.cache.splitDirLevel, this.opts.cache.splitDirChunk);","        this.object.bodyFile = path.join(this.object.storeDir, this.request.key + '.raw');","        this.object.infoFile = path.join(this.object.storeDir, this.request.key + '.json');","    }","    CacheStreamLoader.prototype.dropContent = function () {","        this._promise = null;","        var obj = new CacheObject(this.object.request);","        obj.storeDir = this.object.storeDir;","        obj.bodyFile = this.object.bodyFile;","        obj.infoFile = this.object.infoFile;","        this.object = obj;","    };","    Object.defineProperty(CacheStreamLoader.prototype, \"url\", {","        get: function () {","            return this.request ? this.request.url : null;","        },","        enumerable: true,","        configurable: true","    });","    CacheStreamLoader.prototype.destruct = function () {","        this._promise = null;","    };","    CacheStreamLoader.prototype.canUpdate = function () {","        if (this.opts.cache.cacheRead && this.opts.cache.remoteRead && this.opts.cache.cacheWrite) {","            return true;","        }","        return false;","    };","    CacheStreamLoader.prototype.getObject = function () {","        var _this = this;","        if (this._promise) {","            return this._promise;","        }","        return this._promise = this.cacheRead().then(function () {","            var useCached = false;","            if (_this.object.body && _this.object.info) {","                useCached = !_this.request.forceRefresh;","                if (useCached && typeOf.isNumber(_this.request.httpInterval) && _this.opts.cache.cacheWrite) {","                    if (new Date(_this.object.info.cacheUpdated).getTime() < Date.now() - _this.request.httpInterval) {","                        useCached = false;","                    }","                }","            }","            if (useCached) {","                return _this.cacheTouch().then(function () {","                    return _this.object;","                });","            }","            return _this.httpLoad(!_this.request.forceRefresh).then(function () {","                if (!typeOf.isValid(_this.object.body)) {","                    throw new Error('no result body: ' + _this.request.url + ' -> ' + _this.request.key);","                }","                return _this.object;","            });","        }).then(function () {","            return _this.object;","        }, function (err) {","            _this.dropContent();","            throw err;","        });","    };","    CacheStreamLoader.prototype.cacheRead = function () {","        var _this = this;","        if (!this.opts.cache.cacheRead) {","            return Promise.resolve();","        }","        return this.readInfo().then(function () {","            if (!_this.object.info) {","                throw new Error('no or invalid info object');","            }","            if (_this.opts.cache.remoteRead) {","                if (typeOf.isNumber(_this.request.localMaxAge)) {","                    var date = new Date(_this.object.info.cacheUpdated);","                    var compare = new Date();","                    assert(date.getTime() < compare.getTime() + _this.request.localMaxAge, 'date {a} vs {e}', date.toISOString(), compare.toISOString());","                }","            }","            return fileIO.read(_this.object.bodyFile).then(function (buffer) {","                if (buffer.length === 0) {","                    throw new Error('empty body file');","                }","                _this.object.bodyChecksum = hash.sha1(buffer);","                _this.object.body = buffer;","            });","        }).then(function () {","            joiAssert(_this.object, types.objectSchema);","            assert(_this.object.bodyChecksum === _this.object.info.contentChecksum, 'checksum {a} vs {e}', _this.object.info.contentChecksum, _this.object.bodyChecksum);","            return _this.object;","        }).catch(function (err) {","            _this.dropContent();","            return _this.cacheRemove().return(null);","        });","    };","    CacheStreamLoader.prototype.httpLoad = function (httpCache) {","        var _this = this;","        if (httpCache === void 0) { httpCache = true; }","        if (!this.opts.cache.remoteRead) {","            return Promise.resolve();","        }","        return new Promise(function (resolve, reject) {","            var req = {","                url: _this.request.url,","                headers: {}","            };","            if (_this.opts.proxy) {","                req.proxy = _this.opts.proxy;","            }","            req.strictSSL = _this.opts.strictSSL;","            Object.keys(_this.request.headers).forEach(function (key) {","                req.headers[key] = String(_this.request.headers[key]);","            });","            if (_this.object.info && _this.object.body && httpCache) {","                if (_this.object.info.httpETag) {","                    req.headers['if-none-match'] = _this.object.info.httpETag;","                }","                if (_this.object.info.httpModified) {","                    req.headers['if-modified-since'] = new Date(_this.object.info.httpModified).toUTCString();","                }","            }","            req.headers['accept-encoding'] = 'gzip, deflate';","            var pause = es.pause();","            pause.pause();","            var checkSha = crypto.createHash('sha1');","            var r = request.get(req);","            r.pipe(pause).on('error', function (err) {","                reject(err);","            });","            r.on('response', function (res) {","                _this.object.response = new ResponseInfo();","                _this.object.response.status = res.statusCode;","                _this.object.response.headers = res.headers;","                if (res.statusCode < 200 || res.statusCode >= 400) {","                    var errMsg = 'unexpected status code: ' + res.statusCode + ' on: ' + _this.request.url;","                    if (res.statusCode === 403) {","                        errMsg = 'EGITIHAPI, ' + errMsg;","                    }","                    reject(new Error(errMsg));","                    return;","                }","                if (res.statusCode === 304) {","                    if (!_this.object.body) {","                        reject(new Error('flow error: http 304 but no local content on: ' + _this.request.url));","                        return;","                    }","                    if (!_this.object.info) {","                        reject(new Error('flow error: http 304 but no local info on: ' + _this.request.url));","                        return;","                    }","                    _this.updateInfo(res, _this.object.info.contentChecksum);","                    _this.cacheWrite(true).then(resolve, reject);","                    return;","                }","                var writer = new BufferList(function (err, body) {","                    if (!body) {","                        throw new Error('flow error: http 304 but no local info on: ' + _this.request.url);","                    }","                    if (body.length === 0) {","                        throw new Error('loaded zero bytes ' + _this.request.url);","                    }","                    var checksum = checkSha.digest('hex');","                    if (_this.object.info) {","                        _this.updateInfo(res, checksum);","                    }","                    else {","                        _this.copyInfo(res, checksum);","                    }","                    _this.object.body = body;","                    _this.cacheWrite(false).done(resolve, reject);","                });","                var decoded;","                switch (res.headers['content-encoding']) {","                    case 'gzip':","                        decoded = pause.pipe(zlib.createGunzip());","                        break;","                    case 'deflate':","                        decoded = pause.pipe(zlib.createInflate());","                        break;","                    default:","                        decoded = pause;","                        break;","                }","                decoded.on('data', function (chunk) {","                    checkSha.update(chunk);","                });","                decoded.pipe(writer);","                pause.resume();","            });","        });","    };","    CacheStreamLoader.prototype.cacheWrite = function (cacheWasFresh) {","        var _this = this;","        if (!this.opts.cache.cacheWrite) {","            return Promise.resolve();","        }","        return Promise.try(function () {","            if (_this.object.body.length === 0) {","                throw new Error('wont write empty file to ' + _this.object.bodyFile);","            }","            var write = [];","            if (!cacheWasFresh) {","                write.push(fileIO.write(_this.object.bodyFile, _this.object.body));","            }","            write.push(fileIO.writeJSON(_this.object.infoFile, _this.object.info));","            return Promise.all(write).then(function () {","                return Promise.all([","                    _this.checkExists(_this.object.bodyFile, 'body'),","                    _this.checkExists(_this.object.infoFile, 'info')","                ]);","            }).then(function () {","                return _this.cacheTouch();","            });","        });","    };","    CacheStreamLoader.prototype.checkExists = function (file, label) {","        return fileIO.exists(file).then(function (exist) {","            if (!exist) {","                return Promise.resolve(false);","            }","            return fileIO.stat(file).then(function (stat) {","                if (stat.size === 0) {","                    return false;","                }","                return true;","            }, function (e) { return false; });","        });","    };","    CacheStreamLoader.prototype.cacheRemove = function () {","        if (!this.canUpdate()) {","            return Promise.resolve();","        }","        return Promise.all([","            fileIO.removeFile(this.object.infoFile),","            fileIO.removeFile(this.object.bodyFile),","        ]).catch(function (e) { return null; }).return();","    };","    CacheStreamLoader.prototype.cacheTouch = function () {","        if (!this.canUpdate()) {","            return Promise.resolve();","        }","        return Promise.all([","            fileIO.touchFile(this.object.infoFile),","            fileIO.touchFile(this.object.bodyFile)","        ]).catch(function (e) { return null; }).return();","    };","    CacheStreamLoader.prototype.readInfo = function () {","        var _this = this;","        return fileIO.isFile(this.object.infoFile).then(function (isFile) {","            if (!isFile) {","                return null;","            }","            return fileIO.readJSON(_this.object.infoFile).then(function (info) {","                info = joiAssert(info, types.infoSchema);","                assert((info.url === _this.request.url), 'info.url {a} is not {e}', info.url, _this.request.url);","                assert((info.key === _this.request.key), 'info.key {a} is not {e}', info.key, _this.request.key);","                _this.object.info = info;","            });","        });","    };","    CacheStreamLoader.prototype.copyInfo = function (res, checksum) {","        var info = {};","        info.url = this.request.url;","        info.key = this.request.key;","        info.contentType = res.headers['content-type'];","        info.cacheCreated = dateUtils.getISOString(Date.now());","        info.cacheUpdated = info.cacheCreated;","        this.object.info = info;","        this.updateInfo(res, checksum);","    };","    CacheStreamLoader.prototype.updateInfo = function (res, checksum) {","        var info = this.object.info;","        info.httpETag = (res.headers['etag'] || info.httpETag);","        info.httpModified = dateUtils.getISOString((res.headers['last-modified'] ? new Date(res.headers['last-modified']) : new Date()));","        info.cacheUpdated = dateUtils.getISOString(Date.now());","        info.contentChecksum = checksum;","    };","    CacheStreamLoader.prototype.toString = function () {","        return this.request ? this.request.url : '<no request>';","    };","    return CacheStreamLoader;","})();","module.exports = CacheStreamLoader;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"38":1,"40":0,"45":1,"46":0,"48":1,"49":0,"50":0,"52":0,"54":1,"55":0,"56":0,"57":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"69":0,"70":0,"71":0,"74":0,"75":0,"76":0,"78":0,"81":0,"83":0,"84":0,"87":1,"88":0,"89":0,"90":0,"92":0,"93":0,"94":0,"96":0,"97":0,"98":0,"99":0,"100":0,"103":0,"104":0,"105":0,"107":0,"108":0,"111":0,"112":0,"113":0,"115":0,"116":0,"119":1,"120":0,"121":0,"122":0,"123":0,"125":0,"126":0,"130":0,"131":0,"133":0,"134":0,"135":0,"137":0,"138":0,"139":0,"141":0,"142":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"162":0,"163":0,"165":0,"166":0,"167":0,"168":0,"170":0,"171":0,"172":0,"174":0,"175":0,"176":0,"178":0,"179":0,"180":0,"182":0,"183":0,"185":0,"186":0,"187":0,"190":0,"192":0,"193":0,"195":0,"196":0,"198":0,"199":0,"201":0,"202":0,"204":0,"205":0,"207":0,"208":0,"210":0,"211":0,"215":1,"216":0,"217":0,"218":0,"220":0,"221":0,"222":0,"224":0,"225":0,"226":0,"228":0,"229":0,"230":0,"235":0,"239":1,"240":0,"241":0,"242":0,"244":0,"245":0,"246":0,"248":0,"249":0,"252":1,"253":0,"254":0,"256":0,"259":0,"261":1,"262":0,"263":0,"265":0,"268":0,"270":1,"271":0,"272":0,"273":0,"274":0,"276":0,"277":0,"278":0,"279":0,"280":0,"284":1,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"294":1,"295":0,"296":0,"297":0,"298":0,"299":0,"301":1,"302":0,"304":1,"306":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/CacheObject.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/CacheObject.js","s":{"1":1,"2":1,"3":0,"4":1,"5":1},"b":{},"f":{"1":1,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":19},"end":{"line":2,"column":31}}},"2":{"name":"CacheObject","line":3,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":34}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":5}},"2":{"start":{"line":3,"column":4},"end":{"line":5,"column":5}},"3":{"start":{"line":4,"column":8},"end":{"line":4,"column":31}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":23}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":29}}},"branchMap":{},"code":["'use strict';","var CacheObject = (function () {","    function CacheObject(request) {","        this.request = request;","    }","    return CacheObject;","})();","module.exports = CacheObject;",""],"l":{"2":1,"3":1,"4":0,"6":1,"8":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/ResponseInfo.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/ResponseInfo.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1},"b":{},"f":{"1":1,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":20},"end":{"line":2,"column":32}}},"2":{"name":"ResponseInfo","line":3,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":28}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":8,"column":5}},"2":{"start":{"line":3,"column":4},"end":{"line":6,"column":5}},"3":{"start":{"line":4,"column":8},"end":{"line":4,"column":24}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":26}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":24}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":30}}},"branchMap":{},"code":["'use strict';","var ResponseInfo = (function () {","    function ResponseInfo() {","        this.status = 0;","        this.headers = {};","    }","    return ResponseInfo;","})();","module.exports = ResponseInfo;",""],"l":{"2":1,"3":1,"4":0,"5":0,"7":1,"9":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/types.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/types.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":2,"column":0},"end":{"line":4,"column":31}},"3":{"start":{"line":5,"column":0},"end":{"line":14,"column":29}},"4":{"start":{"line":15,"column":0},"end":{"line":15,"column":89}},"5":{"start":{"line":16,"column":0},"end":{"line":25,"column":31}}},"branchMap":{},"code":["var Joi = require('joi');","exports.manageSchema = Joi.object({","    lastSweep: Joi.date().required()","}).description('manageSchema');","exports.infoSchema = Joi.object({","    url: Joi.string().required(),","    key: Joi.string().required(),","    contentType: Joi.string().required(),","    httpETag: Joi.string().required(),","    httpModified: Joi.date().required(),","    cacheCreated: Joi.date().required(),","    cacheUpdated: Joi.date().required(),","    contentChecksum: Joi.string().required()","}).description('infoSchema');","exports.sha1Schema = Joi.string().length(40).regex(/^[0-9a-f]{40}$/).description('sha1');","exports.objectSchema = Joi.object({","    info: exports.infoSchema.required(),","    request: Joi.object().required(),","    response: Joi.object().optional(),","    body: Joi.binary(),","    storeDir: Joi.string().required(),","    bodyFile: Joi.string().required(),","    infoFile: Joi.string().required(),","    bodyChecksum: exports.sha1Schema.required()","}).description('objectSchema');",""],"l":{"1":1,"2":1,"5":1,"15":1,"16":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/CacheOpts.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/http/CacheOpts.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":1},"b":{"1":[0,0],"2":[0,0,0,0,0,0]},"f":{"1":1,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":29}}},"2":{"name":"CacheOpts","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":29}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":41},"end":{"line":17,"column":57}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"2":{"start":{"line":3,"column":0},"end":{"line":53,"column":5}},"3":{"start":{"line":4,"column":4},"end":{"line":16,"column":5}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":35}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":31}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":30}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":31}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":31}},"10":{"start":{"line":11,"column":8},"end":{"line":11,"column":32}},"11":{"start":{"line":12,"column":8},"end":{"line":12,"column":28}},"12":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"13":{"start":{"line":14,"column":12},"end":{"line":14,"column":38}},"14":{"start":{"line":17,"column":4},"end":{"line":51,"column":6}},"15":{"start":{"line":18,"column":8},"end":{"line":50,"column":9}},"16":{"start":{"line":20,"column":16},"end":{"line":20,"column":39}},"17":{"start":{"line":21,"column":16},"end":{"line":21,"column":39}},"18":{"start":{"line":22,"column":16},"end":{"line":22,"column":40}},"19":{"start":{"line":23,"column":16},"end":{"line":23,"column":40}},"20":{"start":{"line":24,"column":16},"end":{"line":24,"column":22}},"21":{"start":{"line":26,"column":16},"end":{"line":26,"column":39}},"22":{"start":{"line":27,"column":16},"end":{"line":27,"column":39}},"23":{"start":{"line":28,"column":16},"end":{"line":28,"column":39}},"24":{"start":{"line":29,"column":16},"end":{"line":29,"column":39}},"25":{"start":{"line":30,"column":16},"end":{"line":30,"column":22}},"26":{"start":{"line":32,"column":16},"end":{"line":32,"column":38}},"27":{"start":{"line":33,"column":16},"end":{"line":33,"column":39}},"28":{"start":{"line":34,"column":16},"end":{"line":34,"column":39}},"29":{"start":{"line":35,"column":16},"end":{"line":35,"column":39}},"30":{"start":{"line":36,"column":16},"end":{"line":36,"column":22}},"31":{"start":{"line":38,"column":16},"end":{"line":38,"column":38}},"32":{"start":{"line":39,"column":16},"end":{"line":39,"column":40}},"33":{"start":{"line":40,"column":16},"end":{"line":40,"column":40}},"34":{"start":{"line":41,"column":16},"end":{"line":41,"column":40}},"35":{"start":{"line":42,"column":16},"end":{"line":42,"column":22}},"36":{"start":{"line":45,"column":16},"end":{"line":45,"column":38}},"37":{"start":{"line":46,"column":16},"end":{"line":46,"column":39}},"38":{"start":{"line":47,"column":16},"end":{"line":47,"column":40}},"39":{"start":{"line":48,"column":16},"end":{"line":48,"column":40}},"40":{"start":{"line":49,"column":16},"end":{"line":49,"column":22}},"41":{"start":{"line":52,"column":4},"end":{"line":52,"column":21}},"42":{"start":{"line":54,"column":0},"end":{"line":54,"column":27}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":13,"column":8}},{"start":{"line":13,"column":8},"end":{"line":13,"column":8}}]},"2":{"line":18,"type":"switch","locations":[{"start":{"line":19,"column":12},"end":{"line":24,"column":22}},{"start":{"line":25,"column":12},"end":{"line":30,"column":22}},{"start":{"line":31,"column":12},"end":{"line":36,"column":22}},{"start":{"line":37,"column":12},"end":{"line":42,"column":22}},{"start":{"line":43,"column":12},"end":{"line":43,"column":39}},{"start":{"line":44,"column":12},"end":{"line":49,"column":22}}]}},"code":["'use strict';","var CacheMode = require('./CacheMode');","var CacheOpts = (function () {","    function CacheOpts(mode) {","        this.compressStore = false;","        this.splitDirLevel = 0;","        this.splitDirChunk = 1;","        this.cacheRead = true;","        this.cacheWrite = true;","        this.remoteRead = true;","        this.allowClean = false;","        this.jobTimeout = 0;","        if (mode) {","            this.applyCacheMode(mode);","        }","    }","    CacheOpts.prototype.applyCacheMode = function (mode) {","        switch (mode) {","            case CacheMode.forceRemote:","                this.cacheRead = false;","                this.remoteRead = true;","                this.cacheWrite = false;","                this.allowClean = false;","                break;","            case CacheMode.forceUpdate:","                this.cacheRead = false;","                this.remoteRead = true;","                this.cacheWrite = true;","                this.allowClean = true;","                break;","            case CacheMode.allowUpdate:","                this.cacheRead = true;","                this.remoteRead = true;","                this.cacheWrite = true;","                this.allowClean = true;","                break;","            case CacheMode.forceLocal:","                this.cacheRead = true;","                this.remoteRead = false;","                this.cacheWrite = false;","                this.allowClean = false;","                break;","            case CacheMode.allowRemote:","            default:","                this.cacheRead = true;","                this.remoteRead = true;","                this.cacheWrite = false;","                this.allowClean = false;","                break;","        }","    };","    return CacheOpts;","})();","module.exports = CacheOpts;",""],"l":{"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"17":1,"18":0,"20":0,"21":0,"22":0,"23":0,"24":0,"26":0,"27":0,"28":0,"29":0,"30":0,"32":0,"33":0,"34":0,"35":0,"36":0,"38":0,"39":0,"40":0,"41":0,"42":0,"45":0,"46":0,"47":0,"48":0,"49":0,"52":1,"54":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/model/GithubRateInfo.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/model/GithubRateInfo.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":1,"46":0,"47":1,"48":0,"49":1,"50":0,"51":1,"52":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"pad","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":20}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":22},"end":{"line":10,"column":34}}},"3":{"name":"GithubRateInfo","line":11,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":33}}},"4":{"name":"(anonymous_4)","line":17,"loc":{"start":{"line":17,"column":43},"end":{"line":17,"column":58}}},"5":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":40},"end":{"line":32,"column":52}}},"6":{"name":"(anonymous_6)","line":35,"loc":{"start":{"line":35,"column":46},"end":{"line":35,"column":58}}},"7":{"name":"(anonymous_7)","line":50,"loc":{"start":{"line":50,"column":46},"end":{"line":50,"column":58}}},"8":{"name":"(anonymous_8)","line":56,"loc":{"start":{"line":56,"column":49},"end":{"line":56,"column":61}}},"9":{"name":"(anonymous_9)","line":62,"loc":{"start":{"line":62,"column":41},"end":{"line":62,"column":53}}},"10":{"name":"(anonymous_10)","line":65,"loc":{"start":{"line":65,"column":41},"end":{"line":65,"column":53}}},"11":{"name":"(anonymous_11)","line":68,"loc":{"start":{"line":68,"column":44},"end":{"line":68,"column":56}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":26}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":20}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":13}},"7":{"start":{"line":10,"column":0},"end":{"line":72,"column":5}},"8":{"start":{"line":11,"column":4},"end":{"line":16,"column":5}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":23}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":27}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":26}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":30}},"13":{"start":{"line":17,"column":4},"end":{"line":31,"column":6}},"14":{"start":{"line":18,"column":8},"end":{"line":28,"column":9}},"15":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"16":{"start":{"line":20,"column":16},"end":{"line":20,"column":68}},"17":{"start":{"line":22,"column":12},"end":{"line":24,"column":13}},"18":{"start":{"line":23,"column":16},"end":{"line":23,"column":76}},"19":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"20":{"start":{"line":26,"column":16},"end":{"line":26,"column":75}},"21":{"start":{"line":29,"column":8},"end":{"line":29,"column":37}},"22":{"start":{"line":30,"column":8},"end":{"line":30,"column":45}},"23":{"start":{"line":32,"column":4},"end":{"line":34,"column":6}},"24":{"start":{"line":33,"column":8},"end":{"line":33,"column":121}},"25":{"start":{"line":35,"column":4},"end":{"line":49,"column":6}},"26":{"start":{"line":36,"column":8},"end":{"line":36,"column":41}},"27":{"start":{"line":37,"column":8},"end":{"line":44,"column":9}},"28":{"start":{"line":38,"column":12},"end":{"line":38,"column":31}},"29":{"start":{"line":39,"column":12},"end":{"line":39,"column":48}},"30":{"start":{"line":40,"column":12},"end":{"line":40,"column":35}},"31":{"start":{"line":41,"column":12},"end":{"line":41,"column":45}},"32":{"start":{"line":42,"column":12},"end":{"line":42,"column":54}},"33":{"start":{"line":43,"column":12},"end":{"line":43,"column":63}},"34":{"start":{"line":45,"column":8},"end":{"line":47,"column":9}},"35":{"start":{"line":46,"column":12},"end":{"line":46,"column":37}},"36":{"start":{"line":48,"column":8},"end":{"line":48,"column":34}},"37":{"start":{"line":50,"column":4},"end":{"line":55,"column":6}},"38":{"start":{"line":51,"column":8},"end":{"line":53,"column":9}},"39":{"start":{"line":52,"column":12},"end":{"line":52,"column":56}},"40":{"start":{"line":54,"column":8},"end":{"line":54,"column":17}},"41":{"start":{"line":56,"column":4},"end":{"line":61,"column":6}},"42":{"start":{"line":57,"column":8},"end":{"line":59,"column":9}},"43":{"start":{"line":58,"column":12},"end":{"line":58,"column":65}},"44":{"start":{"line":60,"column":8},"end":{"line":60,"column":17}},"45":{"start":{"line":62,"column":4},"end":{"line":64,"column":6}},"46":{"start":{"line":63,"column":8},"end":{"line":63,"column":36}},"47":{"start":{"line":65,"column":4},"end":{"line":67,"column":6}},"48":{"start":{"line":66,"column":8},"end":{"line":66,"column":61}},"49":{"start":{"line":68,"column":4},"end":{"line":70,"column":6}},"50":{"start":{"line":69,"column":8},"end":{"line":69,"column":34}},"51":{"start":{"line":71,"column":4},"end":{"line":71,"column":26}},"52":{"start":{"line":73,"column":0},"end":{"line":73,"column":32}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":5,"column":4}},{"start":{"line":5,"column":4},"end":{"line":5,"column":4}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":8}},{"start":{"line":18,"column":8},"end":{"line":18,"column":8}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":12}},{"start":{"line":19,"column":12},"end":{"line":19,"column":12}}]},"4":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":12}},{"start":{"line":22,"column":12},"end":{"line":22,"column":12}}]},"5":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":25,"column":12}},{"start":{"line":25,"column":12},"end":{"line":25,"column":12}}]},"6":{"line":33,"type":"cond-expr","locations":[{"start":{"line":33,"column":85},"end":{"line":33,"column":114}},{"start":{"line":33,"column":117},"end":{"line":33,"column":119}}]},"7":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":8}},{"start":{"line":37,"column":8},"end":{"line":37,"column":8}}]},"8":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]},"9":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":8}},{"start":{"line":51,"column":8},"end":{"line":51,"column":8}}]},"10":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":8}},{"start":{"line":57,"column":8},"end":{"line":57,"column":8}}]},"11":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":15},"end":{"line":66,"column":29}},{"start":{"line":66,"column":33},"end":{"line":66,"column":60}}]}},"code":["'use strict';","var typeOf = require('../../xm/typeOf');","function pad(input) {","    var r = String(input);","    if (r.length === 1) {","        r = '0' + r;","    }","    return r;","}","var GithubRateInfo = (function () {","    function GithubRateInfo(map) {","        this.limit = 0;","        this.remaining = 0;","        this.resetAt = '';","        this.readFromRes(map);","    }","    GithubRateInfo.prototype.readFromRes = function (map) {","        if (typeOf.isObject(map)) {","            if (map['x-ratelimit-limit']) {","                this.limit = parseInt(map['x-ratelimit-limit'], 10);","            }","            if (map['x-ratelimit-remaining']) {","                this.remaining = parseInt(map['x-ratelimit-remaining'], 10);","            }","            if (map['x-ratelimit-reset']) {","                this.reset = parseInt(map['x-ratelimit-reset'], 10) * 1000;","            }","        }","        this.lastUpdate = Date.now();","        this.resetAt = this.getResetString();","    };","    GithubRateInfo.prototype.toString = function () {","        return this.remaining + ' of ' + this.limit + (this.remaining < this.limit ? ' @ ' + this.getResetString() : '');","    };","    GithubRateInfo.prototype.getResetString = function () {","        var time = this.getTimeToReset();","        if (time > 0) {","            time = time / 1000;","            var hours = Math.floor(time / 3600);","            time -= (hours * 3600);","            var mins = Math.floor(time / 60);","            var secs = Math.floor(time - (mins * 60));","            return (hours) + ':' + pad(mins) + ':' + pad(secs);","        }","        if (this.limit > 0) {","            return '<limit expired>';","        }","        return '<no known limit>';","    };","    GithubRateInfo.prototype.getTimeToReset = function () {","        if (this.reset) {","            return Math.max(0, this.reset - Date.now());","        }","        return 0;","    };","    GithubRateInfo.prototype.getMinutesToReset = function () {","        if (this.reset) {","            return Math.floor(this.getTimeToReset() / 1000 / 60);","        }","        return 0;","    };","    GithubRateInfo.prototype.isBlocked = function () {","        return this.remaining === 0;","    };","    GithubRateInfo.prototype.isLimited = function () {","        return this.limit > 0 && this.remaining < this.limit;","    };","    GithubRateInfo.prototype.hasRemaining = function () {","        return this.remaining > 0;","    };","    return GithubRateInfo;","})();","module.exports = GithubRateInfo;",""],"l":{"2":1,"3":1,"4":0,"5":0,"6":0,"8":0,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"17":1,"18":0,"19":0,"20":0,"22":0,"23":0,"25":0,"26":0,"29":0,"30":0,"32":1,"33":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"45":0,"46":0,"48":0,"50":1,"51":0,"52":0,"54":0,"56":1,"57":0,"58":0,"60":0,"62":1,"63":0,"65":1,"66":0,"68":1,"69":0,"71":1,"73":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/loader/GithubRaw.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/loader/GithubRaw.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":1,"23":0,"24":0,"25":1,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":1,"44":1},"b":{"1":[1,1,1],"2":[0,0],"3":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":44},"end":{"line":2,"column":60}}},"2":{"name":"__","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":18}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":35}}},"4":{"name":"GithubRaw","line":14,"loc":{"start":{"line":14,"column":4},"end":{"line":14,"column":56}}},"5":{"name":"(anonymous_5)","line":19,"loc":{"start":{"line":19,"column":34},"end":{"line":19,"column":59}}},"6":{"name":"(anonymous_6)","line":20,"loc":{"start":{"line":20,"column":48},"end":{"line":20,"column":66}}},"7":{"name":"(anonymous_7)","line":24,"loc":{"start":{"line":24,"column":34},"end":{"line":24,"column":59}}},"8":{"name":"(anonymous_8)","line":25,"loc":{"start":{"line":25,"column":48},"end":{"line":25,"column":66}}},"9":{"name":"(anonymous_9)","line":29,"loc":{"start":{"line":29,"column":36},"end":{"line":29,"column":61}}},"10":{"name":"(anonymous_10)","line":32,"loc":{"start":{"line":32,"column":34},"end":{"line":32,"column":59}}},"11":{"name":"(anonymous_11)","line":47,"loc":{"start":{"line":47,"column":50},"end":{"line":47,"column":68}}},"12":{"name":"(anonymous_12)","line":51,"loc":{"start":{"line":51,"column":38},"end":{"line":51,"column":50}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":58}},"3":{"start":{"line":3,"column":21},"end":{"line":3,"column":58}},"4":{"start":{"line":3,"column":46},"end":{"line":3,"column":58}},"5":{"start":{"line":4,"column":4},"end":{"line":4,"column":43}},"6":{"start":{"line":4,"column":20},"end":{"line":4,"column":41}},"7":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"9":{"start":{"line":8,"column":0},"end":{"line":8,"column":46}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"11":{"start":{"line":10,"column":0},"end":{"line":10,"column":54}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":45}},"13":{"start":{"line":12,"column":0},"end":{"line":55,"column":17}},"14":{"start":{"line":13,"column":4},"end":{"line":13,"column":33}},"15":{"start":{"line":14,"column":4},"end":{"line":18,"column":5}},"16":{"start":{"line":15,"column":8},"end":{"line":15,"column":72}},"17":{"start":{"line":16,"column":8},"end":{"line":16,"column":35}},"18":{"start":{"line":17,"column":8},"end":{"line":17,"column":33}},"19":{"start":{"line":19,"column":4},"end":{"line":23,"column":6}},"20":{"start":{"line":20,"column":8},"end":{"line":22,"column":11}},"21":{"start":{"line":21,"column":12},"end":{"line":21,"column":43}},"22":{"start":{"line":24,"column":4},"end":{"line":28,"column":6}},"23":{"start":{"line":25,"column":8},"end":{"line":27,"column":11}},"24":{"start":{"line":26,"column":12},"end":{"line":26,"column":55}},"25":{"start":{"line":29,"column":4},"end":{"line":31,"column":6}},"26":{"start":{"line":30,"column":8},"end":{"line":30,"column":43}},"27":{"start":{"line":32,"column":4},"end":{"line":50,"column":6}},"28":{"start":{"line":33,"column":8},"end":{"line":33,"column":50}},"29":{"start":{"line":34,"column":8},"end":{"line":34,"column":46}},"30":{"start":{"line":35,"column":8},"end":{"line":35,"column":51}},"31":{"start":{"line":36,"column":8},"end":{"line":36,"column":25}},"32":{"start":{"line":37,"column":8},"end":{"line":37,"column":53}},"33":{"start":{"line":38,"column":8},"end":{"line":45,"column":9}},"34":{"start":{"line":39,"column":12},"end":{"line":39,"column":85}},"35":{"start":{"line":40,"column":12},"end":{"line":40,"column":87}},"36":{"start":{"line":43,"column":12},"end":{"line":43,"column":85}},"37":{"start":{"line":44,"column":12},"end":{"line":44,"column":90}},"38":{"start":{"line":46,"column":8},"end":{"line":46,"column":23}},"39":{"start":{"line":47,"column":8},"end":{"line":49,"column":11}},"40":{"start":{"line":48,"column":12},"end":{"line":48,"column":31}},"41":{"start":{"line":51,"column":4},"end":{"line":53,"column":6}},"42":{"start":{"line":52,"column":8},"end":{"line":52,"column":50}},"43":{"start":{"line":54,"column":4},"end":{"line":54,"column":21}},"44":{"start":{"line":56,"column":0},"end":{"line":56,"column":27}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":7,"column":1}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":21}},{"start":{"line":3,"column":21},"end":{"line":3,"column":21}}]},"3":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":8},"end":{"line":38,"column":8}},{"start":{"line":38,"column":8},"end":{"line":38,"column":8}}]}},"code":["'use strict';","var __extends = (this && this.__extends) || function (d, b) {","    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];","    function __() { this.constructor = d; }","    __.prototype = b.prototype;","    d.prototype = new __();","};","var assertVar = require('../../xm/assertVar');","var typeOf = require('../../xm/typeOf');","var CacheRequest = require('../../http/CacheRequest');","var GithubLoader = require('./GithubLoader');","var GithubRaw = (function (_super) {","    __extends(GithubRaw, _super);","    function GithubRaw(urls, options, shared, storeDir) {","        _super.call(this, urls, options, shared, storeDir, 'GithubRaw');","        this.formatVersion = '1.0';","        this._initGithubLoader();","    }","    GithubRaw.prototype.getText = function (ref, filePath) {","        return this.getFile(ref, filePath).then(function (buffer) {","            return buffer.toString('utf8');","        });","    };","    GithubRaw.prototype.getJSON = function (ref, filePath) {","        return this.getFile(ref, filePath).then(function (buffer) {","            return JSON.parse(buffer.toString('utf8'));","        });","    };","    GithubRaw.prototype.getBinary = function (ref, filePath) {","        return this.getFile(ref, filePath);","    };","    GithubRaw.prototype.getFile = function (ref, filePath) {","        assertVar(filePath, 'string', 'filePath');","        assertVar(ref, 'string', 'ref', true);","        var url = this.urls.rawFile(ref, filePath);","        var headers = {};","        var request = new CacheRequest(url, headers);","        if (typeOf.isSha(ref)) {","            request.localMaxAge = this.options.getDurationSecs('localMaxAge') * 1000;","            request.httpInterval = this.options.getDurationSecs('httpInterval') * 1000;","        }","        else {","            request.localMaxAge = this.options.getDurationSecs('localMaxAge') * 1000;","            request.httpInterval = this.options.getDurationSecs('httpIntervalRef') * 1000;","        }","        request.lock();","        return this.cache.getObject(request).then(function (object) {","            return object.body;","        });","    };","    GithubRaw.prototype.getCacheKey = function () {","        return 'git-raw-fmt' + this.formatVersion;","    };","    return GithubRaw;","})(GithubLoader);","module.exports = GithubRaw;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"19":1,"20":0,"21":0,"24":1,"25":0,"26":0,"29":1,"30":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"43":0,"44":0,"46":0,"47":0,"48":0,"51":1,"52":0,"54":1,"56":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/IndexManager.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/IndexManager.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":1,"55":1},"b":{"1":[1,1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":44},"end":{"line":2,"column":60}}},"2":{"name":"__","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":18}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":20},"end":{"line":14,"column":38}}},"4":{"name":"IndexManager","line":16,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":32}}},"5":{"name":"(anonymous_5)","line":20,"loc":{"start":{"line":20,"column":38},"end":{"line":20,"column":50}}},"6":{"name":"(anonymous_6)","line":25,"loc":{"start":{"line":25,"column":95},"end":{"line":25,"column":117}}},"7":{"name":"(anonymous_7)","line":33,"loc":{"start":{"line":33,"column":63},"end":{"line":33,"column":79}}},"8":{"name":"(anonymous_8)","line":40,"loc":{"start":{"line":40,"column":40},"end":{"line":40,"column":56}}},"9":{"name":"(anonymous_9)","line":41,"loc":{"start":{"line":41,"column":36},"end":{"line":41,"column":53}}},"10":{"name":"(anonymous_10)","line":49,"loc":{"start":{"line":49,"column":41},"end":{"line":49,"column":68}}},"11":{"name":"(anonymous_11)","line":50,"loc":{"start":{"line":50,"column":36},"end":{"line":50,"column":53}}},"12":{"name":"(anonymous_12)","line":58,"loc":{"start":{"line":58,"column":43},"end":{"line":58,"column":64}}},"13":{"name":"(anonymous_13)","line":59,"loc":{"start":{"line":59,"column":36},"end":{"line":59,"column":53}}},"14":{"name":"(anonymous_14)","line":67,"loc":{"start":{"line":67,"column":38},"end":{"line":67,"column":73}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":58}},"3":{"start":{"line":3,"column":21},"end":{"line":3,"column":58}},"4":{"start":{"line":3,"column":46},"end":{"line":3,"column":58}},"5":{"start":{"line":4,"column":4},"end":{"line":4,"column":43}},"6":{"start":{"line":4,"column":20},"end":{"line":4,"column":41}},"7":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"9":{"start":{"line":8,"column":0},"end":{"line":8,"column":38}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}},"11":{"start":{"line":10,"column":0},"end":{"line":10,"column":34}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":41}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":43}},"14":{"start":{"line":13,"column":0},"end":{"line":13,"column":44}},"15":{"start":{"line":14,"column":0},"end":{"line":71,"column":15}},"16":{"start":{"line":15,"column":4},"end":{"line":15,"column":36}},"17":{"start":{"line":16,"column":4},"end":{"line":19,"column":5}},"18":{"start":{"line":17,"column":8},"end":{"line":17,"column":48}},"19":{"start":{"line":18,"column":8},"end":{"line":18,"column":29}},"20":{"start":{"line":20,"column":4},"end":{"line":39,"column":6}},"21":{"start":{"line":21,"column":8},"end":{"line":21,"column":25}},"22":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"23":{"start":{"line":23,"column":12},"end":{"line":23,"column":33}},"24":{"start":{"line":25,"column":8},"end":{"line":38,"column":11}},"25":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"26":{"start":{"line":27,"column":16},"end":{"line":27,"column":61}},"27":{"start":{"line":29,"column":12},"end":{"line":29,"column":59}},"28":{"start":{"line":30,"column":12},"end":{"line":32,"column":13}},"29":{"start":{"line":31,"column":16},"end":{"line":31,"column":48}},"30":{"start":{"line":33,"column":12},"end":{"line":37,"column":15}},"31":{"start":{"line":34,"column":16},"end":{"line":34,"column":43}},"32":{"start":{"line":35,"column":16},"end":{"line":35,"column":45}},"33":{"start":{"line":36,"column":16},"end":{"line":36,"column":29}},"34":{"start":{"line":40,"column":4},"end":{"line":48,"column":6}},"35":{"start":{"line":41,"column":8},"end":{"line":47,"column":11}},"36":{"start":{"line":42,"column":12},"end":{"line":42,"column":45}},"37":{"start":{"line":43,"column":12},"end":{"line":45,"column":13}},"38":{"start":{"line":44,"column":16},"end":{"line":44,"column":69}},"39":{"start":{"line":46,"column":12},"end":{"line":46,"column":23}},"40":{"start":{"line":49,"column":4},"end":{"line":57,"column":6}},"41":{"start":{"line":50,"column":8},"end":{"line":56,"column":11}},"42":{"start":{"line":51,"column":12},"end":{"line":51,"column":68}},"43":{"start":{"line":52,"column":12},"end":{"line":54,"column":13}},"44":{"start":{"line":53,"column":16},"end":{"line":53,"column":70}},"45":{"start":{"line":55,"column":12},"end":{"line":55,"column":24}},"46":{"start":{"line":58,"column":4},"end":{"line":66,"column":6}},"47":{"start":{"line":59,"column":8},"end":{"line":65,"column":11}},"48":{"start":{"line":60,"column":12},"end":{"line":60,"column":56}},"49":{"start":{"line":61,"column":12},"end":{"line":63,"column":13}},"50":{"start":{"line":62,"column":16},"end":{"line":62,"column":82}},"51":{"start":{"line":64,"column":12},"end":{"line":64,"column":26}},"52":{"start":{"line":67,"column":4},"end":{"line":69,"column":6}},"53":{"start":{"line":68,"column":8},"end":{"line":68,"column":58}},"54":{"start":{"line":70,"column":4},"end":{"line":70,"column":24}},"55":{"start":{"line":72,"column":0},"end":{"line":72,"column":30}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":7,"column":1}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":21}},{"start":{"line":3,"column":21},"end":{"line":3,"column":21}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":22,"column":8}},{"start":{"line":22,"column":8},"end":{"line":22,"column":8}}]},"4":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":12}},{"start":{"line":26,"column":12},"end":{"line":26,"column":12}}]},"5":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":12},"end":{"line":30,"column":12}},{"start":{"line":30,"column":12},"end":{"line":30,"column":12}}]},"6":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":12},"end":{"line":43,"column":12}},{"start":{"line":43,"column":12},"end":{"line":43,"column":12}}]},"7":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":12},"end":{"line":52,"column":12}},{"start":{"line":52,"column":12},"end":{"line":52,"column":12}}]},"8":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":12},"end":{"line":61,"column":12}},{"start":{"line":61,"column":12},"end":{"line":61,"column":12}}]}},"code":["'use strict';","var __extends = (this && this.__extends) || function (d, b) {","    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];","    function __() { this.constructor = d; }","    __.prototype = b.prototype;","    d.prototype = new __();","};","var pointer = require('json-pointer');","var VError = require('verror');","var Promise = require('bluebird');","var CoreModule = require('./CoreModule');","var DefIndex = require('../data/DefIndex');","var branch_tree = '/commit/commit/tree/sha';","var IndexManager = (function (_super) {","    __extends(IndexManager, _super);","    function IndexManager(core) {","        _super.call(this, core, 'IndexManager');","        this._promise = null;","    }","    IndexManager.prototype.getIndex = function () {","        var _this = this;","        if (this._promise) {","            return this._promise;","        }","        return this._promise = this.core.repo.api.getBranch(this.core.context.config.ref).then(function (branchData) {","            if (!branchData) {","                throw new VError('loaded empty branch data');","            }","            var sha = pointer.get(branchData, branch_tree);","            if (!sha) {","                throw new VError('missing sha');","            }","            return _this.core.repo.api.getTree(sha, true).then(function (data) {","                var index = new DefIndex();","                index.init(branchData, data);","                return index;","            });","        });","    };","    IndexManager.prototype.procureDef = function (path) {","        return this.getIndex().then(function (index) {","            var def = index.procureDef(path);","            if (!def) {","                throw new VError('cannot get def for path %s', path);","            }","            return def;","        });","    };","    IndexManager.prototype.procureFile = function (path, commitSha) {","        return this.getIndex().then(function (index) {","            var file = index.procureVersionFromSha(path, commitSha);","            if (!file) {","                throw new VError('cannot get file for path %s', path);","            }","            return file;","        });","    };","    IndexManager.prototype.procureCommit = function (commitSha) {","        return this.getIndex().then(function (index) {","            var commit = index.procureCommit(commitSha);","            if (!commit) {","                throw new VError('cannot commit def for commitSha %s', commitSha);","            }","            return commit;","        });","    };","    IndexManager.prototype.findFile = function (path, commitShaFragment) {","        return Promise.reject(new Error('implement me!'));","    };","    return IndexManager;","})(CoreModule);","module.exports = IndexManager;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"20":1,"21":0,"22":0,"23":0,"25":0,"26":0,"27":0,"29":0,"30":0,"31":0,"33":0,"34":0,"35":0,"36":0,"40":1,"41":0,"42":0,"43":0,"44":0,"46":0,"49":1,"50":0,"51":0,"52":0,"53":0,"55":0,"58":1,"59":0,"60":0,"61":0,"62":0,"64":0,"67":1,"68":0,"70":1,"72":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/CoreModule.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/CoreModule.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1},"b":{},"f":{"1":1,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":18},"end":{"line":2,"column":30}}},"2":{"name":"CoreModule","line":3,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":37}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":8,"column":5}},"2":{"start":{"line":3,"column":4},"end":{"line":6,"column":5}},"3":{"start":{"line":4,"column":8},"end":{"line":4,"column":25}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":27}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":22}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":28}}},"branchMap":{},"code":["'use strict';","var CoreModule = (function () {","    function CoreModule(core, label) {","        this.core = core;","        this.label = label;","    }","    return CoreModule;","})();","module.exports = CoreModule;",""],"l":{"2":1,"3":1,"4":0,"5":0,"7":1,"9":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/DefIndex.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/DefIndex.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":1,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":1,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":1,"129":0,"130":1,"131":0,"132":1,"133":0,"134":1,"135":0,"136":1,"137":0,"138":0,"139":1,"140":0,"141":0,"142":0,"143":0,"144":0,"145":1,"146":0,"147":1,"148":0,"149":1,"150":0,"151":1,"152":0,"153":1,"154":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":16},"end":{"line":12,"column":28}}},"2":{"name":"DefIndex","line":13,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":24}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":34},"end":{"line":21,"column":46}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":30},"end":{"line":24,"column":54}}},"5":{"name":"(anonymous_5)","line":51,"loc":{"start":{"line":51,"column":29},"end":{"line":51,"column":45}}},"6":{"name":"(anonymous_6)","line":70,"loc":{"start":{"line":70,"column":25},"end":{"line":70,"column":43}}},"7":{"name":"(anonymous_7)","line":71,"loc":{"start":{"line":71,"column":22},"end":{"line":71,"column":37}}},"8":{"name":"(anonymous_8)","line":80,"loc":{"start":{"line":80,"column":36},"end":{"line":80,"column":68}}},"9":{"name":"(anonymous_9)","line":85,"loc":{"start":{"line":85,"column":35},"end":{"line":85,"column":51}}},"10":{"name":"(anonymous_10)","line":100,"loc":{"start":{"line":100,"column":39},"end":{"line":100,"column":60}}},"11":{"name":"(anonymous_11)","line":112,"loc":{"start":{"line":112,"column":36},"end":{"line":112,"column":52}}},"12":{"name":"(anonymous_12)","line":127,"loc":{"start":{"line":127,"column":40},"end":{"line":127,"column":63}}},"13":{"name":"(anonymous_13)","line":144,"loc":{"start":{"line":144,"column":47},"end":{"line":144,"column":74}}},"14":{"name":"(anonymous_14)","line":167,"loc":{"start":{"line":167,"column":32},"end":{"line":167,"column":48}}},"15":{"name":"(anonymous_15)","line":170,"loc":{"start":{"line":170,"column":32},"end":{"line":170,"column":48}}},"16":{"name":"(anonymous_16)","line":173,"loc":{"start":{"line":173,"column":35},"end":{"line":173,"column":50}}},"17":{"name":"(anonymous_17)","line":176,"loc":{"start":{"line":176,"column":35},"end":{"line":176,"column":50}}},"18":{"name":"(anonymous_18)","line":179,"loc":{"start":{"line":179,"column":34},"end":{"line":179,"column":46}}},"19":{"name":"(anonymous_19)","line":180,"loc":{"start":{"line":180,"column":46},"end":{"line":180,"column":62}}},"20":{"name":"(anonymous_20)","line":184,"loc":{"start":{"line":184,"column":32},"end":{"line":184,"column":44}}},"21":{"name":"(anonymous_21)","line":187,"loc":{"start":{"line":187,"column":34},"end":{"line":187,"column":49}}},"22":{"name":"(anonymous_22)","line":193,"loc":{"start":{"line":193,"column":13},"end":{"line":193,"column":25}}},"23":{"name":"(anonymous_23)","line":200,"loc":{"start":{"line":200,"column":13},"end":{"line":200,"column":25}}},"24":{"name":"(anonymous_24)","line":207,"loc":{"start":{"line":207,"column":13},"end":{"line":207,"column":25}}},"25":{"name":"(anonymous_25)","line":213,"loc":{"start":{"line":213,"column":34},"end":{"line":213,"column":46}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":48}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":41}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":31}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":48}},"11":{"start":{"line":12,"column":0},"end":{"line":217,"column":5}},"12":{"start":{"line":13,"column":4},"end":{"line":20,"column":5}},"13":{"start":{"line":14,"column":8},"end":{"line":14,"column":32}},"14":{"start":{"line":15,"column":8},"end":{"line":15,"column":31}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":33}},"16":{"start":{"line":17,"column":8},"end":{"line":17,"column":50}},"17":{"start":{"line":18,"column":8},"end":{"line":18,"column":46}},"18":{"start":{"line":19,"column":8},"end":{"line":19,"column":47}},"19":{"start":{"line":21,"column":4},"end":{"line":23,"column":6}},"20":{"start":{"line":22,"column":8},"end":{"line":22,"column":30}},"21":{"start":{"line":24,"column":4},"end":{"line":79,"column":6}},"22":{"start":{"line":25,"column":8},"end":{"line":25,"column":25}},"23":{"start":{"line":26,"column":8},"end":{"line":26,"column":46}},"24":{"start":{"line":27,"column":8},"end":{"line":27,"column":42}},"25":{"start":{"line":28,"column":8},"end":{"line":30,"column":9}},"26":{"start":{"line":29,"column":12},"end":{"line":29,"column":19}},"27":{"start":{"line":31,"column":8},"end":{"line":31,"column":30}},"28":{"start":{"line":32,"column":8},"end":{"line":32,"column":31}},"29":{"start":{"line":33,"column":8},"end":{"line":33,"column":34}},"30":{"start":{"line":34,"column":8},"end":{"line":34,"column":46}},"31":{"start":{"line":35,"column":8},"end":{"line":35,"column":42}},"32":{"start":{"line":36,"column":8},"end":{"line":36,"column":56}},"33":{"start":{"line":37,"column":8},"end":{"line":37,"column":31}},"34":{"start":{"line":38,"column":8},"end":{"line":38,"column":55}},"35":{"start":{"line":39,"column":8},"end":{"line":39,"column":40}},"36":{"start":{"line":40,"column":8},"end":{"line":40,"column":48}},"37":{"start":{"line":41,"column":8},"end":{"line":41,"column":52}},"38":{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},"39":{"start":{"line":43,"column":12},"end":{"line":43,"column":61}},"40":{"start":{"line":45,"column":8},"end":{"line":45,"column":39}},"41":{"start":{"line":46,"column":8},"end":{"line":46,"column":58}},"42":{"start":{"line":47,"column":8},"end":{"line":47,"column":51}},"43":{"start":{"line":48,"column":8},"end":{"line":48,"column":16}},"44":{"start":{"line":49,"column":8},"end":{"line":49,"column":17}},"45":{"start":{"line":50,"column":8},"end":{"line":50,"column":26}},"46":{"start":{"line":51,"column":8},"end":{"line":68,"column":11}},"47":{"start":{"line":52,"column":12},"end":{"line":52,"column":43}},"48":{"start":{"line":53,"column":12},"end":{"line":67,"column":13}},"49":{"start":{"line":54,"column":16},"end":{"line":54,"column":50}},"50":{"start":{"line":55,"column":16},"end":{"line":57,"column":17}},"51":{"start":{"line":56,"column":20},"end":{"line":56,"column":27}},"52":{"start":{"line":58,"column":16},"end":{"line":58,"column":69}},"53":{"start":{"line":59,"column":16},"end":{"line":61,"column":17}},"54":{"start":{"line":60,"column":20},"end":{"line":60,"column":27}},"55":{"start":{"line":62,"column":16},"end":{"line":62,"column":32}},"56":{"start":{"line":63,"column":16},"end":{"line":63,"column":39}},"57":{"start":{"line":64,"column":16},"end":{"line":66,"column":17}},"58":{"start":{"line":65,"column":20},"end":{"line":65,"column":39}},"59":{"start":{"line":69,"column":8},"end":{"line":69,"column":46}},"60":{"start":{"line":70,"column":8},"end":{"line":77,"column":11}},"61":{"start":{"line":71,"column":12},"end":{"line":76,"column":15}},"62":{"start":{"line":72,"column":16},"end":{"line":75,"column":17}},"63":{"start":{"line":73,"column":20},"end":{"line":73,"column":46}},"64":{"start":{"line":74,"column":20},"end":{"line":74,"column":32}},"65":{"start":{"line":78,"column":8},"end":{"line":78,"column":30}},"66":{"start":{"line":80,"column":4},"end":{"line":99,"column":6}},"67":{"start":{"line":81,"column":8},"end":{"line":81,"column":25}},"68":{"start":{"line":82,"column":8},"end":{"line":82,"column":35}},"69":{"start":{"line":83,"column":8},"end":{"line":83,"column":55}},"70":{"start":{"line":84,"column":8},"end":{"line":84,"column":25}},"71":{"start":{"line":85,"column":8},"end":{"line":98,"column":11}},"72":{"start":{"line":86,"column":12},"end":{"line":88,"column":13}},"73":{"start":{"line":87,"column":16},"end":{"line":87,"column":59}},"74":{"start":{"line":89,"column":12},"end":{"line":89,"column":55}},"75":{"start":{"line":90,"column":12},"end":{"line":93,"column":13}},"76":{"start":{"line":91,"column":16},"end":{"line":91,"column":68}},"77":{"start":{"line":92,"column":16},"end":{"line":92,"column":41}},"78":{"start":{"line":94,"column":12},"end":{"line":96,"column":13}},"79":{"start":{"line":95,"column":16},"end":{"line":95,"column":39}},"80":{"start":{"line":97,"column":12},"end":{"line":97,"column":64}},"81":{"start":{"line":100,"column":4},"end":{"line":111,"column":6}},"82":{"start":{"line":101,"column":8},"end":{"line":101,"column":50}},"83":{"start":{"line":102,"column":8},"end":{"line":102,"column":19}},"84":{"start":{"line":103,"column":8},"end":{"line":109,"column":9}},"85":{"start":{"line":104,"column":12},"end":{"line":104,"column":50}},"86":{"start":{"line":107,"column":12},"end":{"line":107,"column":46}},"87":{"start":{"line":108,"column":12},"end":{"line":108,"column":49}},"88":{"start":{"line":110,"column":8},"end":{"line":110,"column":22}},"89":{"start":{"line":112,"column":4},"end":{"line":126,"column":6}},"90":{"start":{"line":113,"column":8},"end":{"line":113,"column":42}},"91":{"start":{"line":114,"column":8},"end":{"line":114,"column":23}},"92":{"start":{"line":115,"column":8},"end":{"line":124,"column":9}},"93":{"start":{"line":116,"column":12},"end":{"line":116,"column":46}},"94":{"start":{"line":119,"column":12},"end":{"line":119,"column":32}},"95":{"start":{"line":120,"column":12},"end":{"line":122,"column":13}},"96":{"start":{"line":121,"column":16},"end":{"line":121,"column":70}},"97":{"start":{"line":123,"column":12},"end":{"line":123,"column":45}},"98":{"start":{"line":125,"column":8},"end":{"line":125,"column":19}},"99":{"start":{"line":127,"column":4},"end":{"line":143,"column":6}},"100":{"start":{"line":128,"column":8},"end":{"line":128,"column":35}},"101":{"start":{"line":129,"column":8},"end":{"line":129,"column":47}},"102":{"start":{"line":130,"column":8},"end":{"line":130,"column":17}},"103":{"start":{"line":131,"column":8},"end":{"line":131,"column":52}},"104":{"start":{"line":132,"column":8},"end":{"line":141,"column":9}},"105":{"start":{"line":133,"column":12},"end":{"line":133,"column":43}},"106":{"start":{"line":134,"column":12},"end":{"line":136,"column":13}},"107":{"start":{"line":135,"column":16},"end":{"line":135,"column":126}},"108":{"start":{"line":139,"column":12},"end":{"line":139,"column":47}},"109":{"start":{"line":140,"column":12},"end":{"line":140,"column":42}},"110":{"start":{"line":142,"column":8},"end":{"line":142,"column":20}},"111":{"start":{"line":144,"column":4},"end":{"line":166,"column":6}},"112":{"start":{"line":145,"column":8},"end":{"line":145,"column":42}},"113":{"start":{"line":146,"column":8},"end":{"line":146,"column":50}},"114":{"start":{"line":147,"column":8},"end":{"line":147,"column":36}},"115":{"start":{"line":148,"column":8},"end":{"line":151,"column":9}},"116":{"start":{"line":149,"column":12},"end":{"line":149,"column":70}},"117":{"start":{"line":150,"column":12},"end":{"line":150,"column":40}},"118":{"start":{"line":152,"column":8},"end":{"line":154,"column":9}},"119":{"start":{"line":153,"column":12},"end":{"line":153,"column":71}},"120":{"start":{"line":155,"column":8},"end":{"line":155,"column":51}},"121":{"start":{"line":156,"column":8},"end":{"line":158,"column":9}},"122":{"start":{"line":157,"column":12},"end":{"line":157,"column":84}},"123":{"start":{"line":159,"column":8},"end":{"line":160,"column":9}},"124":{"start":{"line":161,"column":8},"end":{"line":161,"column":52}},"125":{"start":{"line":162,"column":8},"end":{"line":164,"column":9}},"126":{"start":{"line":163,"column":12},"end":{"line":163,"column":103}},"127":{"start":{"line":165,"column":8},"end":{"line":165,"column":20}},"128":{"start":{"line":167,"column":4},"end":{"line":169,"column":6}},"129":{"start":{"line":168,"column":8},"end":{"line":168,"column":43}},"130":{"start":{"line":170,"column":4},"end":{"line":172,"column":6}},"131":{"start":{"line":171,"column":8},"end":{"line":171,"column":43}},"132":{"start":{"line":173,"column":4},"end":{"line":175,"column":6}},"133":{"start":{"line":174,"column":8},"end":{"line":174,"column":38}},"134":{"start":{"line":176,"column":4},"end":{"line":178,"column":6}},"135":{"start":{"line":177,"column":8},"end":{"line":177,"column":38}},"136":{"start":{"line":179,"column":4},"end":{"line":183,"column":6}},"137":{"start":{"line":180,"column":8},"end":{"line":182,"column":11}},"138":{"start":{"line":181,"column":12},"end":{"line":181,"column":29}},"139":{"start":{"line":184,"column":4},"end":{"line":191,"column":6}},"140":{"start":{"line":185,"column":8},"end":{"line":185,"column":21}},"141":{"start":{"line":186,"column":8},"end":{"line":186,"column":34}},"142":{"start":{"line":187,"column":8},"end":{"line":189,"column":11}},"143":{"start":{"line":188,"column":12},"end":{"line":188,"column":44}},"144":{"start":{"line":190,"column":8},"end":{"line":190,"column":90}},"145":{"start":{"line":192,"column":4},"end":{"line":198,"column":7}},"146":{"start":{"line":194,"column":12},"end":{"line":194,"column":36}},"147":{"start":{"line":199,"column":4},"end":{"line":205,"column":7}},"148":{"start":{"line":201,"column":12},"end":{"line":201,"column":46}},"149":{"start":{"line":206,"column":4},"end":{"line":212,"column":7}},"150":{"start":{"line":208,"column":12},"end":{"line":208,"column":37}},"151":{"start":{"line":213,"column":4},"end":{"line":215,"column":6}},"152":{"start":{"line":214,"column":8},"end":{"line":214,"column":44}},"153":{"start":{"line":216,"column":4},"end":{"line":216,"column":20}},"154":{"start":{"line":218,"column":0},"end":{"line":218,"column":26}}},"branchMap":{"1":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":8}},{"start":{"line":28,"column":8},"end":{"line":28,"column":8}}]},"2":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":42,"column":8}},{"start":{"line":42,"column":8},"end":{"line":42,"column":8}}]},"3":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":12},"end":{"line":53,"column":12}},{"start":{"line":53,"column":12},"end":{"line":53,"column":12}}]},"4":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":16},"end":{"line":53,"column":36}},{"start":{"line":53,"column":40},"end":{"line":53,"column":52}},{"start":{"line":53,"column":56},"end":{"line":53,"column":80}}]},"5":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":16}},{"start":{"line":55,"column":16},"end":{"line":55,"column":16}}]},"6":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":16},"end":{"line":59,"column":16}},{"start":{"line":59,"column":16},"end":{"line":59,"column":16}}]},"7":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":16},"end":{"line":64,"column":16}},{"start":{"line":64,"column":16},"end":{"line":64,"column":16}}]},"8":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":16},"end":{"line":72,"column":16}},{"start":{"line":72,"column":16},"end":{"line":72,"column":16}}]},"9":{"line":72,"type":"binary-expr","locations":[{"start":{"line":72,"column":20},"end":{"line":72,"column":50}},{"start":{"line":72,"column":54},"end":{"line":72,"column":78}},{"start":{"line":72,"column":82},"end":{"line":72,"column":104}}]},"10":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":12},"end":{"line":86,"column":12}},{"start":{"line":86,"column":12},"end":{"line":86,"column":12}}]},"11":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":16},"end":{"line":86,"column":21}},{"start":{"line":86,"column":25},"end":{"line":86,"column":34}}]},"12":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":12},"end":{"line":90,"column":12}},{"start":{"line":90,"column":12},"end":{"line":90,"column":12}}]},"13":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":12},"end":{"line":94,"column":12}},{"start":{"line":94,"column":12},"end":{"line":94,"column":12}}]},"14":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":8},"end":{"line":103,"column":8}},{"start":{"line":103,"column":8},"end":{"line":103,"column":8}}]},"15":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":8},"end":{"line":115,"column":8}},{"start":{"line":115,"column":8},"end":{"line":115,"column":8}}]},"16":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":12},"end":{"line":120,"column":12}},{"start":{"line":120,"column":12},"end":{"line":120,"column":12}}]},"17":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":8},"end":{"line":132,"column":8}},{"start":{"line":132,"column":8},"end":{"line":132,"column":8}}]},"18":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":12},"end":{"line":134,"column":12}},{"start":{"line":134,"column":12},"end":{"line":134,"column":12}}]},"19":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":8},"end":{"line":148,"column":8}},{"start":{"line":148,"column":8},"end":{"line":148,"column":8}}]},"20":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":8},"end":{"line":152,"column":8}},{"start":{"line":152,"column":8},"end":{"line":152,"column":8}}]},"21":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":8},"end":{"line":156,"column":8}},{"start":{"line":156,"column":8},"end":{"line":156,"column":8}}]},"22":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":8},"end":{"line":159,"column":8}},{"start":{"line":159,"column":8},"end":{"line":159,"column":8}}]},"23":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":8},"end":{"line":162,"column":8}},{"start":{"line":162,"column":8},"end":{"line":162,"column":8}}]}},"code":["'use strict';","var pointer = require('json-pointer');","var Lazy = require('lazy.js');","var VError = require('verror');","var assertVar = require('../../xm/assertVar');","var collection = require('../../xm/collection');","var Def = require('./Def');","var DefCommit = require('./DefCommit');","var DefVersion = require('./DefVersion');","var commit_sha = '/commit/sha';","var branch_tree_sha = '/commit/commit/tree/sha';","var DefIndex = (function () {","    function DefIndex() {","        this._branchName = null;","        this._hasIndex = false;","        this._indexCommit = null;","        this._definitions = new collection.Hash();","        this._commits = new collection.Hash();","        this._versions = new collection.Hash();","    }","    DefIndex.prototype.hasIndex = function () {","        return this._hasIndex;","    };","    DefIndex.prototype.init = function (branch, tree) {","        var _this = this;","        assertVar(branch, 'object', 'branch');","        assertVar(tree, 'object', 'tree');","        if (this._hasIndex) {","            return;","        }","        this._commits.clear();","        this._versions.clear();","        this._definitions.clear();","        assertVar(branch, 'object', 'branch');","        assertVar(tree, 'object', 'tree');","        var commitSha = pointer.get(branch, commit_sha);","        var treeSha = tree.sha;","        var sha = pointer.get(branch, branch_tree_sha);","        assertVar(sha, 'string', 'sha');","        assertVar(treeSha, 'string', 'treeSha');","        assertVar(commitSha, 'string', 'commitSha');","        if (sha !== treeSha) {","            throw new VError('branch and tree sha mismatch');","        }","        this._branchName = branch.name;","        this._indexCommit = this.procureCommit(commitSha);","        this._indexCommit.parseJSON(branch.commit);","        var def;","        var file;","        var releases = [];","        Lazy(tree.tree).each(function (elem) {","            var char = elem.path.charAt(0);","            if (elem.type === 'blob' && char !== '.' && Def.isDefPath(elem.path)) {","                def = _this.procureDef(elem.path);","                if (!def) {","                    return;","                }","                file = _this.procureVersion(def, _this._indexCommit);","                if (!file) {","                    return;","                }","                def.head = file;","                file.setBlob(elem.sha);","                if (def.isLegacy) {","                    releases.push(def);","                }","            }","        });","        var defs = this._definitions.values();","        releases.forEach(function (legacy) {","            defs.some(function (def) {","                if (def.project === legacy.project && def.name === legacy.name && def.isLegacy === false) {","                    def.releases.push(legacy);","                    return true;","                }","            });","        });","        this._hasIndex = true;","    };","    DefIndex.prototype.setHistory = function (def, commitJsonArray) {","        var _this = this;","        assertVar(def, Def, 'def');","        assertVar(commitJsonArray, 'array', 'commits');","        def.history = [];","        Lazy(commitJsonArray).each(function (json) {","            if (!json || !json.sha) {","                console.dir(json, 'weird: json no sha', 1);","            }","            var commit = _this.procureCommit(json.sha);","            if (!commit) {","                console.dir('weird: no commit for sha ' + json.sha);","                throw new VError('huh?');","            }","            if (!commit.hasMeta) {","                commit.parseJSON(json);","            }","            def.history.push(_this.procureVersion(def, commit));","        });","    };","    DefIndex.prototype.procureCommit = function (commitSha) {","        assertVar(commitSha, 'sha1', 'commitSha');","        var commit;","        if (this._commits.has(commitSha)) {","            commit = this._commits.get(commitSha);","        }","        else {","            commit = new DefCommit(commitSha);","            this._commits.set(commitSha, commit);","        }","        return commit;","    };","    DefIndex.prototype.procureDef = function (path) {","        assertVar(path, 'string', 'path');","        var def = null;","        if (this._definitions.has(path)) {","            def = this._definitions.get(path);","        }","        else {","            def = new Def(path);","            if (!def) {","                throw new VError('cannot parse path to def %s', path);","            }","            this._definitions.set(path, def);","        }","        return def;","    };","    DefIndex.prototype.procureVersion = function (def, commit) {","        assertVar(def, Def, 'def');","        assertVar(commit, DefCommit, 'commit');","        var file;","        var key = def.path + '|' + commit.commitSha;","        if (this._versions.has(key)) {","            file = this._versions.get(key);","            if (file.def !== def) {","                throw new VError('weird: internal data mismatch: version does not belong to file %s -> %s', file.def, commit);","            }","        }","        else {","            file = new DefVersion(def, commit);","            this._versions.set(key, file);","        }","        return file;","    };","    DefIndex.prototype.procureVersionFromSha = function (path, commitSha) {","        assertVar(path, 'string', 'path');","        assertVar(commitSha, 'sha1', 'commitSha');","        var def = this.getDef(path);","        if (!def) {","            console.log('path not in index, attempt-adding: ' + path);","            def = this.procureDef(path);","        }","        if (!def) {","            throw new VError('cannot procure definition for %s', path);","        }","        var commit = this.procureCommit(commitSha);","        if (!commit) {","            throw new VError('cannot procure commit for %s -> %s', path, commitSha);","        }","        if (!commit.hasMetaData()) {","        }","        var file = this.procureVersion(def, commit);","        if (!file) {","            throw new VError('cannot procure definition version for %s -> %s', path, commit.commitSha);","        }","        return file;","    };","    DefIndex.prototype.getDef = function (path) {","        return this._definitions.get(path);","    };","    DefIndex.prototype.hasDef = function (path) {","        return this._definitions.has(path);","    };","    DefIndex.prototype.getCommit = function (sha) {","        return this._commits.get(sha);","    };","    DefIndex.prototype.hasCommit = function (sha) {","        return this._commits.has(sha);","    };","    DefIndex.prototype.getPaths = function () {","        return this._definitions.values().map(function (file) {","            return file.path;","        });","    };","    DefIndex.prototype.toDump = function () {","        var ret = [];","        ret.push(this.toString());","        this._definitions.forEach(function (def) {","            ret.push('  ' + def.toString());","        });","        return ret.join('\\n') + '\\n' + 'total ' + this._definitions.size + ' definitions';","    };","    Object.defineProperty(DefIndex.prototype, \"branchName\", {","        get: function () {","            return this._branchName;","        },","        enumerable: true,","        configurable: true","    });","    Object.defineProperty(DefIndex.prototype, \"list\", {","        get: function () {","            return this._definitions.values();","        },","        enumerable: true,","        configurable: true","    });","    Object.defineProperty(DefIndex.prototype, \"indexCommit\", {","        get: function () {","            return this._indexCommit;","        },","        enumerable: true,","        configurable: true","    });","    DefIndex.prototype.toString = function () {","        return '[' + this._branchName + ']';","    };","    return DefIndex;","})();","module.exports = DefIndex;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"21":1,"22":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"58":0,"59":0,"60":0,"62":0,"63":0,"64":0,"65":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"78":0,"80":1,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"89":0,"90":0,"91":0,"92":0,"94":0,"95":0,"97":0,"100":1,"101":0,"102":0,"103":0,"104":0,"107":0,"108":0,"110":0,"112":1,"113":0,"114":0,"115":0,"116":0,"119":0,"120":0,"121":0,"123":0,"125":0,"127":1,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"139":0,"140":0,"142":0,"144":1,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"152":0,"153":0,"155":0,"156":0,"157":0,"159":0,"161":0,"162":0,"163":0,"165":0,"167":1,"168":0,"170":1,"171":0,"173":1,"174":0,"176":1,"177":0,"179":1,"180":0,"181":0,"184":1,"185":0,"186":0,"187":0,"188":0,"190":0,"192":1,"194":0,"199":1,"201":0,"206":1,"208":0,"213":1,"214":0,"216":1,"218":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/SelectorQuery.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/SelectorQuery.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":1},"b":{"1":[1,1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":44},"end":{"line":2,"column":60}}},"2":{"name":"__","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":18}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":21},"end":{"line":13,"column":39}}},"4":{"name":"SelectorQuery","line":15,"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":33}}},"5":{"name":"(anonymous_5)","line":18,"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":63}}},"6":{"name":"(anonymous_6)","line":21,"loc":{"start":{"line":21,"column":47},"end":{"line":21,"column":64}}},"7":{"name":"(anonymous_7)","line":22,"loc":{"start":{"line":22,"column":52},"end":{"line":22,"column":75}}},"8":{"name":"(anonymous_8)","line":23,"loc":{"start":{"line":23,"column":49},"end":{"line":23,"column":64}}},"9":{"name":"(anonymous_9)","line":43,"loc":{"start":{"line":43,"column":16},"end":{"line":43,"column":28}}},"10":{"name":"(anonymous_10)","line":48,"loc":{"start":{"line":48,"column":80},"end":{"line":48,"column":92}}},"11":{"name":"(anonymous_11)","line":51,"loc":{"start":{"line":51,"column":48},"end":{"line":51,"column":63}}},"12":{"name":"(anonymous_12)","line":61,"loc":{"start":{"line":61,"column":48},"end":{"line":61,"column":63}}},"13":{"name":"(anonymous_13)","line":72,"loc":{"start":{"line":72,"column":16},"end":{"line":72,"column":28}}},"14":{"name":"(anonymous_14)","line":77,"loc":{"start":{"line":77,"column":16},"end":{"line":77,"column":28}}},"15":{"name":"(anonymous_15)","line":82,"loc":{"start":{"line":82,"column":16},"end":{"line":82,"column":28}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":58}},"3":{"start":{"line":3,"column":21},"end":{"line":3,"column":58}},"4":{"start":{"line":3,"column":46},"end":{"line":3,"column":58}},"5":{"start":{"line":4,"column":4},"end":{"line":4,"column":43}},"6":{"start":{"line":4,"column":20},"end":{"line":4,"column":41}},"7":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"9":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":41}},"11":{"start":{"line":10,"column":0},"end":{"line":10,"column":47}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":57}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"14":{"start":{"line":13,"column":0},"end":{"line":90,"column":15}},"15":{"start":{"line":14,"column":4},"end":{"line":14,"column":37}},"16":{"start":{"line":15,"column":4},"end":{"line":17,"column":5}},"17":{"start":{"line":16,"column":8},"end":{"line":16,"column":42}},"18":{"start":{"line":18,"column":4},"end":{"line":88,"column":6}},"19":{"start":{"line":19,"column":8},"end":{"line":19,"column":25}},"20":{"start":{"line":20,"column":8},"end":{"line":20,"column":39}},"21":{"start":{"line":21,"column":8},"end":{"line":87,"column":23}},"22":{"start":{"line":22,"column":12},"end":{"line":29,"column":19}},"23":{"start":{"line":23,"column":16},"end":{"line":27,"column":19}},"24":{"start":{"line":24,"column":20},"end":{"line":26,"column":21}},"25":{"start":{"line":25,"column":24},"end":{"line":25,"column":39}},"26":{"start":{"line":28,"column":16},"end":{"line":28,"column":28}},"27":{"start":{"line":30,"column":12},"end":{"line":35,"column":13}},"28":{"start":{"line":31,"column":16},"end":{"line":31,"column":79}},"29":{"start":{"line":34,"column":16},"end":{"line":34,"column":79}},"30":{"start":{"line":36,"column":12},"end":{"line":36,"column":62}},"31":{"start":{"line":37,"column":12},"end":{"line":39,"column":13}},"32":{"start":{"line":38,"column":16},"end":{"line":38,"column":110}},"33":{"start":{"line":40,"column":12},"end":{"line":42,"column":13}},"34":{"start":{"line":41,"column":16},"end":{"line":41,"column":110}},"35":{"start":{"line":44,"column":12},"end":{"line":70,"column":13}},"36":{"start":{"line":45,"column":16},"end":{"line":47,"column":17}},"37":{"start":{"line":46,"column":20},"end":{"line":46,"column":115}},"38":{"start":{"line":48,"column":16},"end":{"line":69,"column":19}},"39":{"start":{"line":49,"column":20},"end":{"line":58,"column":21}},"40":{"start":{"line":50,"column":24},"end":{"line":50,"column":43}},"41":{"start":{"line":51,"column":24},"end":{"line":56,"column":27}},"42":{"start":{"line":52,"column":28},"end":{"line":52,"column":82}},"43":{"start":{"line":53,"column":28},"end":{"line":55,"column":29}},"44":{"start":{"line":54,"column":32},"end":{"line":54,"column":83}},"45":{"start":{"line":57,"column":24},"end":{"line":57,"column":73}},"46":{"start":{"line":59,"column":20},"end":{"line":68,"column":21}},"47":{"start":{"line":60,"column":24},"end":{"line":60,"column":43}},"48":{"start":{"line":61,"column":24},"end":{"line":66,"column":27}},"49":{"start":{"line":62,"column":28},"end":{"line":62,"column":80}},"50":{"start":{"line":63,"column":28},"end":{"line":65,"column":29}},"51":{"start":{"line":64,"column":32},"end":{"line":64,"column":83}},"52":{"start":{"line":67,"column":24},"end":{"line":67,"column":73}},"53":{"start":{"line":71,"column":12},"end":{"line":71,"column":24}},"54":{"start":{"line":73,"column":12},"end":{"line":75,"column":13}},"55":{"start":{"line":74,"column":16},"end":{"line":74,"column":73}},"56":{"start":{"line":76,"column":12},"end":{"line":76,"column":24}},"57":{"start":{"line":78,"column":12},"end":{"line":81,"column":13}},"58":{"start":{"line":79,"column":16},"end":{"line":79,"column":72}},"59":{"start":{"line":80,"column":16},"end":{"line":80,"column":65}},"60":{"start":{"line":83,"column":12},"end":{"line":85,"column":13}},"61":{"start":{"line":84,"column":16},"end":{"line":84,"column":70}},"62":{"start":{"line":86,"column":12},"end":{"line":86,"column":24}},"63":{"start":{"line":89,"column":4},"end":{"line":89,"column":25}},"64":{"start":{"line":91,"column":0},"end":{"line":91,"column":31}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":7,"column":1}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":21}},{"start":{"line":3,"column":21},"end":{"line":3,"column":21}}]},"3":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":20},"end":{"line":24,"column":20}},{"start":{"line":24,"column":20},"end":{"line":24,"column":20}}]},"4":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":12},"end":{"line":30,"column":12}},{"start":{"line":30,"column":12},"end":{"line":30,"column":12}}]},"5":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":12},"end":{"line":37,"column":12}},{"start":{"line":37,"column":12},"end":{"line":37,"column":12}}]},"6":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":16},"end":{"line":37,"column":38}},{"start":{"line":37,"column":42},"end":{"line":37,"column":85}}]},"7":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":12},"end":{"line":40,"column":12}},{"start":{"line":40,"column":12},"end":{"line":40,"column":12}}]},"8":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":16},"end":{"line":40,"column":38}},{"start":{"line":40,"column":42},"end":{"line":40,"column":85}}]},"9":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":12},"end":{"line":44,"column":12}},{"start":{"line":44,"column":12},"end":{"line":44,"column":12}}]},"10":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":16},"end":{"line":45,"column":16}},{"start":{"line":45,"column":16},"end":{"line":45,"column":16}}]},"11":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":20},"end":{"line":45,"column":40}},{"start":{"line":45,"column":44},"end":{"line":45,"column":85}}]},"12":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":20},"end":{"line":49,"column":20}},{"start":{"line":49,"column":20},"end":{"line":49,"column":20}}]},"13":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":28},"end":{"line":53,"column":28}},{"start":{"line":53,"column":28},"end":{"line":53,"column":28}}]},"14":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":20},"end":{"line":59,"column":20}},{"start":{"line":59,"column":20},"end":{"line":59,"column":20}}]},"15":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":28},"end":{"line":63,"column":28}},{"start":{"line":63,"column":28},"end":{"line":63,"column":28}}]},"16":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":12},"end":{"line":73,"column":12}},{"start":{"line":73,"column":12},"end":{"line":73,"column":12}}]},"17":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":16},"end":{"line":73,"column":31}},{"start":{"line":73,"column":35},"end":{"line":73,"column":52}}]},"18":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":12},"end":{"line":78,"column":12}},{"start":{"line":78,"column":12},"end":{"line":78,"column":12}}]},"19":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":12},"end":{"line":83,"column":12}},{"start":{"line":83,"column":12},"end":{"line":83,"column":12}}]}},"code":["'use strict';","var __extends = (this && this.__extends) || function (d, b) {","    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];","    function __() { this.constructor = d; }","    __.prototype = b.prototype;","    d.prototype = new __();","};","var VError = require('verror');","var defUtil = require('../util/defUtil');","var Selection = require('../select/Selection');","var VersionMatcher = require('../select/VersionMatcher');","var CoreModule = require('./CoreModule');","var SelectorQuery = (function (_super) {","    __extends(SelectorQuery, _super);","    function SelectorQuery(core) {","        _super.call(this, core, 'Select');","    }","    SelectorQuery.prototype.select = function (query, options) {","        var _this = this;","        var res = new Selection(query);","        return this.core.index.getIndex().then(function (index) {","            res.definitions = query.patterns.reduce(function (memo, names) {","                names.filter(index.list).forEach(function (def) {","                    if (!defUtil.containsDef(memo, def)) {","                        memo.push(def);","                    }","                });","                return memo;","            }, []);","            if (query.versionMatcher) {","                res.definitions = query.versionMatcher.filter(res.definitions);","            }","            else {","                res.definitions = new VersionMatcher().filter(res.definitions);","            }","            res.selection = defUtil.getHeads(res.definitions);","            if (options.minMatches > 0 && res.definitions.length < options.minMatches) {","                throw new VError('expected more matches %s < %s', res.definitions.length, options.minMatches);","            }","            if (options.maxMatches > 0 && res.definitions.length > options.maxMatches) {","                throw new VError('expected less matches %s > %s', res.definitions.length, options.maxMatches);","            }","        }).then(function () {","            if (query.requiresHistory) {","                if (options.limitApi > 0 && res.definitions.length > options.limitApi) {","                    throw new VError('match count %s over api limit %s', res.definitions.length, options.limitApi);","                }","                return _this.core.content.loadHistoryBulk(res.definitions).then(function () {","                    if (query.commitMatcher) {","                        res.selection = [];","                        res.definitions.forEach(function (def) {","                            def.history = query.commitMatcher.filter(def.history);","                            if (def.history.length > 0) {","                                res.selection.push(defUtil.getLatest(def.history));","                            }","                        });","                        res.definitions = defUtil.getDefs(res.selection);","                    }","                    if (query.dateMatcher) {","                        res.selection = [];","                        res.definitions.forEach(function (def) {","                            def.history = query.dateMatcher.filter(def.history);","                            if (def.history.length > 0) {","                                res.selection.push(defUtil.getLatest(def.history));","                            }","                        });","                        res.definitions = defUtil.getDefs(res.selection);","                    }","                });","            }","            return null;","        }).then(function () {","            if (query.parseInfo || query.infoMatcher) {","                return _this.core.parser.parseDefInfoBulk(res.selection);","            }","            return null;","        }).then(function () {","            if (query.infoMatcher) {","                res.selection = query.infoMatcher.filter(res.selection);","                res.definitions = defUtil.getDefs(res.selection);","            }","        }).then(function () {","            if (options.resolveDependencies) {","                return _this.core.resolver.resolveBulk(res.selection);","            }","            return null;","        }).return(res);","    };","    return SelectorQuery;","})(CoreModule);","module.exports = SelectorQuery;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"28":0,"30":0,"31":0,"34":0,"36":0,"37":0,"38":0,"40":0,"41":0,"44":0,"45":0,"46":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"57":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"67":0,"71":0,"73":0,"74":0,"76":0,"78":0,"79":0,"80":0,"83":0,"84":0,"86":0,"89":1,"91":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/ConfigIO.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/ConfigIO.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":1,"45":1},"b":{"1":[1,1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":44},"end":{"line":2,"column":60}}},"2":{"name":"__","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":18}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":16},"end":{"line":11,"column":34}}},"4":{"name":"ConfigIO","line":13,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":28}}},"5":{"name":"(anonymous_5)","line":16,"loc":{"start":{"line":16,"column":36},"end":{"line":16,"column":57}}},"6":{"name":"(anonymous_6)","line":19,"loc":{"start":{"line":19,"column":42},"end":{"line":19,"column":60}}},"7":{"name":"(anonymous_7)","line":27,"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":28}}},"8":{"name":"(anonymous_8)","line":32,"loc":{"start":{"line":32,"column":36},"end":{"line":32,"column":56}}},"9":{"name":"(anonymous_9)","line":36,"loc":{"start":{"line":36,"column":42},"end":{"line":36,"column":60}}},"10":{"name":"(anonymous_10)","line":43,"loc":{"start":{"line":43,"column":60},"end":{"line":43,"column":76}}},"11":{"name":"(anonymous_11)","line":49,"loc":{"start":{"line":49,"column":36},"end":{"line":49,"column":54}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":58}},"3":{"start":{"line":3,"column":21},"end":{"line":3,"column":58}},"4":{"start":{"line":3,"column":46},"end":{"line":3,"column":58}},"5":{"start":{"line":4,"column":4},"end":{"line":4,"column":43}},"6":{"start":{"line":4,"column":20},"end":{"line":4,"column":41}},"7":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"9":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"11":{"start":{"line":10,"column":0},"end":{"line":10,"column":41}},"12":{"start":{"line":11,"column":0},"end":{"line":55,"column":15}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":32}},"14":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"15":{"start":{"line":14,"column":8},"end":{"line":14,"column":44}},"16":{"start":{"line":16,"column":4},"end":{"line":31,"column":6}},"17":{"start":{"line":17,"column":8},"end":{"line":17,"column":25}},"18":{"start":{"line":18,"column":8},"end":{"line":18,"column":56}},"19":{"start":{"line":19,"column":8},"end":{"line":30,"column":26}},"20":{"start":{"line":20,"column":12},"end":{"line":25,"column":13}},"21":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"22":{"start":{"line":22,"column":20},"end":{"line":22,"column":73}},"23":{"start":{"line":24,"column":16},"end":{"line":24,"column":45}},"24":{"start":{"line":26,"column":12},"end":{"line":26,"column":19}},"25":{"start":{"line":28,"column":12},"end":{"line":28,"column":46}},"26":{"start":{"line":29,"column":12},"end":{"line":29,"column":38}},"27":{"start":{"line":32,"column":4},"end":{"line":48,"column":6}},"28":{"start":{"line":33,"column":8},"end":{"line":33,"column":25}},"29":{"start":{"line":34,"column":8},"end":{"line":34,"column":54}},"30":{"start":{"line":34,"column":35},"end":{"line":34,"column":52}},"31":{"start":{"line":35,"column":8},"end":{"line":35,"column":56}},"32":{"start":{"line":36,"column":8},"end":{"line":47,"column":20}},"33":{"start":{"line":37,"column":12},"end":{"line":42,"column":13}},"34":{"start":{"line":38,"column":16},"end":{"line":40,"column":17}},"35":{"start":{"line":39,"column":20},"end":{"line":39,"column":70}},"36":{"start":{"line":41,"column":16},"end":{"line":41,"column":23}},"37":{"start":{"line":43,"column":12},"end":{"line":46,"column":15}},"38":{"start":{"line":44,"column":16},"end":{"line":44,"column":80}},"39":{"start":{"line":45,"column":16},"end":{"line":45,"column":42}},"40":{"start":{"line":49,"column":4},"end":{"line":53,"column":6}},"41":{"start":{"line":50,"column":8},"end":{"line":50,"column":62}},"42":{"start":{"line":51,"column":8},"end":{"line":51,"column":61}},"43":{"start":{"line":52,"column":8},"end":{"line":52,"column":59}},"44":{"start":{"line":54,"column":4},"end":{"line":54,"column":20}},"45":{"start":{"line":56,"column":0},"end":{"line":56,"column":26}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":7,"column":1}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":21}},{"start":{"line":3,"column":21},"end":{"line":3,"column":21}}]},"3":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":20,"column":12}},{"start":{"line":20,"column":12},"end":{"line":20,"column":12}}]},"4":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":16},"end":{"line":21,"column":16}},{"start":{"line":21,"column":16},"end":{"line":21,"column":16}}]},"5":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":34,"column":8}},{"start":{"line":34,"column":8},"end":{"line":34,"column":8}}]},"6":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":12},"end":{"line":37,"column":12}},{"start":{"line":37,"column":12},"end":{"line":37,"column":12}}]},"7":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":16},"end":{"line":38,"column":16}},{"start":{"line":38,"column":16},"end":{"line":38,"column":16}}]},"8":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":17},"end":{"line":50,"column":23}},{"start":{"line":50,"column":27},"end":{"line":50,"column":61}}]}},"code":["'use strict';","var __extends = (this && this.__extends) || function (d, b) {","    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];","    function __() { this.constructor = d; }","    __.prototype = b.prototype;","    d.prototype = new __();","};","var VError = require('verror');","var fileIO = require('../../xm/fileIO');","var CoreModule = require('./CoreModule');","var ConfigIO = (function (_super) {","    __extends(ConfigIO, _super);","    function ConfigIO(core) {","        _super.call(this, core, 'ConfigIO');","    }","    ConfigIO.prototype.initConfig = function (overwrite) {","        var _this = this;","        var target = this.core.context.paths.configFile;","        return fileIO.exists(target).then(function (exists) {","            if (exists) {","                if (!overwrite) {","                    throw new VError('cannot overwrite file %s', target);","                }","                return fileIO.remove(target);","            }","            return;","        }).then(function () {","            _this.core.context.config.reset();","            return _this.saveConfig();","        }).return(target);","    };","    ConfigIO.prototype.readConfig = function (optional) {","        var _this = this;","        if (optional === void 0) { optional = false; }","        var target = this.core.context.paths.configFile;","        return fileIO.exists(target).then(function (exists) {","            if (!exists) {","                if (!optional) {","                    throw new VError('cannot locate file %s', target);","                }","                return;","            }","            return fileIO.read(target, { flags: 'r' }).then(function (json) {","                _this.core.context.config.parseJSONString(String(json), target);","                _this.core.updateConfig();","            });","        }).return();","    };","    ConfigIO.prototype.saveConfig = function (target) {","        target = target || this.core.context.paths.configFile;","        var output = this.core.context.config.toJSONString();","        return fileIO.write(target, output).return(target);","    };","    return ConfigIO;","})(CoreModule);","module.exports = ConfigIO;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"24":0,"26":0,"28":0,"29":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"41":0,"43":0,"44":0,"45":0,"49":1,"50":0,"51":0,"52":0,"54":1,"56":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/ContentLoader.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/ContentLoader.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":1,"60":1},"b":{"1":[1,1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":44},"end":{"line":2,"column":60}}},"2":{"name":"__","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":18}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":21},"end":{"line":15,"column":39}}},"4":{"name":"ContentLoader","line":17,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":33}}},"5":{"name":"(anonymous_5)","line":23,"loc":{"start":{"line":23,"column":20},"end":{"line":23,"column":38}}},"6":{"name":"(anonymous_6)","line":28,"loc":{"start":{"line":28,"column":49},"end":{"line":28,"column":67}}},"7":{"name":"(anonymous_7)","line":32,"loc":{"start":{"line":32,"column":67},"end":{"line":32,"column":83}}},"8":{"name":"(anonymous_8)","line":37,"loc":{"start":{"line":37,"column":42},"end":{"line":37,"column":67}}},"9":{"name":"(anonymous_9)","line":47,"loc":{"start":{"line":47,"column":69},"end":{"line":47,"column":88}}},"10":{"name":"(anonymous_10)","line":61,"loc":{"start":{"line":61,"column":46},"end":{"line":61,"column":62}}},"11":{"name":"(anonymous_11)","line":63,"loc":{"start":{"line":63,"column":33},"end":{"line":63,"column":49}}},"12":{"name":"(anonymous_12)","line":67,"loc":{"start":{"line":67,"column":42},"end":{"line":67,"column":57}}},"13":{"name":"(anonymous_13)","line":74,"loc":{"start":{"line":74,"column":18},"end":{"line":74,"column":44}}},"14":{"name":"(anonymous_14)","line":78,"loc":{"start":{"line":78,"column":46},"end":{"line":78,"column":62}}},"15":{"name":"(anonymous_15)","line":81,"loc":{"start":{"line":81,"column":33},"end":{"line":81,"column":49}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":58}},"3":{"start":{"line":3,"column":21},"end":{"line":3,"column":58}},"4":{"start":{"line":3,"column":46},"end":{"line":3,"column":58}},"5":{"start":{"line":4,"column":4},"end":{"line":4,"column":43}},"6":{"start":{"line":4,"column":20},"end":{"line":4,"column":41}},"7":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"9":{"start":{"line":8,"column":0},"end":{"line":8,"column":34}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}},"11":{"start":{"line":10,"column":0},"end":{"line":10,"column":31}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":41}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"14":{"start":{"line":13,"column":0},"end":{"line":13,"column":43}},"15":{"start":{"line":14,"column":0},"end":{"line":14,"column":41}},"16":{"start":{"line":15,"column":0},"end":{"line":86,"column":15}},"17":{"start":{"line":16,"column":4},"end":{"line":16,"column":37}},"18":{"start":{"line":17,"column":4},"end":{"line":27,"column":5}},"19":{"start":{"line":18,"column":8},"end":{"line":18,"column":49}},"20":{"start":{"line":19,"column":8},"end":{"line":26,"column":11}},"21":{"start":{"line":24,"column":16},"end":{"line":24,"column":37}},"22":{"start":{"line":28,"column":4},"end":{"line":36,"column":6}},"23":{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},"24":{"start":{"line":30,"column":12},"end":{"line":30,"column":43}},"25":{"start":{"line":32,"column":8},"end":{"line":35,"column":11}},"26":{"start":{"line":33,"column":12},"end":{"line":33,"column":35}},"27":{"start":{"line":34,"column":12},"end":{"line":34,"column":26}},"28":{"start":{"line":37,"column":4},"end":{"line":60,"column":6}},"29":{"start":{"line":38,"column":8},"end":{"line":38,"column":25}},"30":{"start":{"line":39,"column":8},"end":{"line":39,"column":51}},"31":{"start":{"line":39,"column":34},"end":{"line":39,"column":49}},"32":{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},"33":{"start":{"line":41,"column":12},"end":{"line":41,"column":84}},"34":{"start":{"line":43,"column":8},"end":{"line":43,"column":40}},"35":{"start":{"line":44,"column":8},"end":{"line":46,"column":9}},"36":{"start":{"line":45,"column":12},"end":{"line":45,"column":47}},"37":{"start":{"line":47,"column":8},"end":{"line":59,"column":11}},"38":{"start":{"line":48,"column":12},"end":{"line":48,"column":50}},"39":{"start":{"line":49,"column":12},"end":{"line":56,"column":13}},"40":{"start":{"line":50,"column":16},"end":{"line":52,"column":17}},"41":{"start":{"line":51,"column":20},"end":{"line":51,"column":116}},"42":{"start":{"line":55,"column":16},"end":{"line":55,"column":34}},"43":{"start":{"line":57,"column":12},"end":{"line":57,"column":42}},"44":{"start":{"line":58,"column":12},"end":{"line":58,"column":46}},"45":{"start":{"line":61,"column":4},"end":{"line":66,"column":6}},"46":{"start":{"line":62,"column":8},"end":{"line":62,"column":25}},"47":{"start":{"line":63,"column":8},"end":{"line":65,"column":11}},"48":{"start":{"line":64,"column":12},"end":{"line":64,"column":43}},"49":{"start":{"line":67,"column":4},"end":{"line":77,"column":6}},"50":{"start":{"line":68,"column":8},"end":{"line":70,"column":9}},"51":{"start":{"line":69,"column":12},"end":{"line":69,"column":40}},"52":{"start":{"line":71,"column":8},"end":{"line":76,"column":23}},"53":{"start":{"line":75,"column":12},"end":{"line":75,"column":43}},"54":{"start":{"line":78,"column":4},"end":{"line":84,"column":6}},"55":{"start":{"line":79,"column":8},"end":{"line":79,"column":25}},"56":{"start":{"line":80,"column":8},"end":{"line":80,"column":40}},"57":{"start":{"line":81,"column":8},"end":{"line":83,"column":11}},"58":{"start":{"line":82,"column":12},"end":{"line":82,"column":43}},"59":{"start":{"line":85,"column":4},"end":{"line":85,"column":25}},"60":{"start":{"line":87,"column":0},"end":{"line":87,"column":31}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":7,"column":1}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":21}},{"start":{"line":3,"column":21},"end":{"line":3,"column":21}}]},"3":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":29,"column":8}},{"start":{"line":29,"column":8},"end":{"line":29,"column":8}}]},"4":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":8},"end":{"line":39,"column":8}},{"start":{"line":39,"column":8},"end":{"line":39,"column":8}}]},"5":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":40,"column":8}},{"start":{"line":40,"column":8},"end":{"line":40,"column":8}}]},"6":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":12},"end":{"line":40,"column":24}},{"start":{"line":40,"column":28},"end":{"line":40,"column":56}}]},"7":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":44,"column":8}},{"start":{"line":44,"column":8},"end":{"line":44,"column":8}}]},"8":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":12},"end":{"line":44,"column":19}},{"start":{"line":44,"column":23},"end":{"line":44,"column":36}},{"start":{"line":44,"column":40},"end":{"line":44,"column":96}}]},"9":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":12},"end":{"line":49,"column":12}},{"start":{"line":49,"column":12},"end":{"line":49,"column":12}}]},"10":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":16},"end":{"line":50,"column":16}},{"start":{"line":50,"column":16},"end":{"line":50,"column":16}}]},"11":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":68,"column":8}},{"start":{"line":68,"column":8},"end":{"line":68,"column":8}}]}},"code":["'use strict';","var __extends = (this && this.__extends) || function (d, b) {","    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];","    function __() { this.constructor = d; }","    __.prototype = b.prototype;","    d.prototype = new __();","};","var Promise = require('bluebird');","var LRU = require('lru-cache');","var VError = require('verror');","var DefBlob = require('../data/DefBlob');","var defUtil = require('../util/defUtil');","var gitUtil = require('../../git/gitUtil');","var CoreModule = require('./CoreModule');","var ContentLoader = (function (_super) {","    __extends(ContentLoader, _super);","    function ContentLoader(core) {","        _super.call(this, core, 'ContentLoader');","        this.cache = LRU({","            stale: true,","            max: 10 * 1024 * 1024,","            maxAge: 1000 * 60,","            length: function (buffer) {","                return buffer.length;","            }","        });","    }","    ContentLoader.prototype.loadCommitMetaData = function (commit) {","        if (commit.hasMetaData()) {","            return Promise.resolve(commit);","        }","        return this.core.repo.api.getCommit(commit.commitSha).then(function (json) {","            commit.parseJSON(json);","            return commit;","        });","    };","    ContentLoader.prototype.loadContent = function (file, tryHead) {","        var _this = this;","        if (tryHead === void 0) { tryHead = true; }","        if (file.blobSha && this.cache.has(file.blobSha)) {","            return Promise.resolve(new DefBlob(file, this.cache.get(file.blobSha)));","        }","        var ref = file.commit.commitSha;","        if (tryHead && file.def.head && file.commit.commitSha === file.def.head.commit.commitSha) {","            ref = this.core.context.config.ref;","        }","        return this.core.repo.raw.getBinary(ref, file.def.path).then(function (content) {","            var sha = gitUtil.blobShaHex(content);","            if (file.blobSha) {","                if (sha !== file.blobSha) {","                    throw new VError('bad blob sha1 for %s, expected %s, got %s', file.def.path, file.blobSha, sha);","                }","            }","            else {","                file.setBlob(sha);","            }","            _this.cache.set(sha, content);","            return new DefBlob(file, content);","        });","    };","    ContentLoader.prototype.loadContentBulk = function (list) {","        var _this = this;","        return Promise.map(list, function (file) {","            return _this.loadContent(file);","        });","    };","    ContentLoader.prototype.loadHistory = function (def) {","        if (def.history.length > 0) {","            return Promise.resolve(def);","        }","        return Promise.all([","            this.core.index.getIndex(),","            this.core.repo.api.getPathCommits(def.path)","        ]).spread(function (index, content) {","            index.setHistory(def, content);","        }).return(def);","    };","    ContentLoader.prototype.loadHistoryBulk = function (list) {","        var _this = this;","        list = defUtil.uniqueDefs(list);","        return Promise.map(list, function (file) {","            return _this.loadHistory(file);","        });","    };","    return ContentLoader;","})(CoreModule);","module.exports = ContentLoader;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"24":0,"28":1,"29":0,"30":0,"32":0,"33":0,"34":0,"37":1,"38":0,"39":0,"40":0,"41":0,"43":0,"44":0,"45":0,"47":0,"48":0,"49":0,"50":0,"51":0,"55":0,"57":0,"58":0,"61":1,"62":0,"63":0,"64":0,"67":1,"68":0,"69":0,"71":0,"75":0,"78":1,"79":0,"80":0,"81":0,"82":0,"85":1,"87":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/DefBlob.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/DefBlob.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1},"b":{},"f":{"1":1,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":15},"end":{"line":4,"column":27}}},"2":{"name":"DefBlob","line":5,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":35}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":46}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}},"3":{"start":{"line":4,"column":0},"end":{"line":13,"column":5}},"4":{"start":{"line":5,"column":4},"end":{"line":11,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":44}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":25}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":30}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":28}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":19}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":25}}},"branchMap":{},"code":["'use strict';","var assertVar = require('../../xm/assertVar');","var DefVersion = require('./DefVersion');","var DefBlob = (function () {","    function DefBlob(file, buffer) {","        assertVar(file, DefVersion, 'file');","        assertVar(buffer, Buffer, 'buffer');","        this.file = file;","        this.content = buffer;","        Object.freeze(this);","    }","    return DefBlob;","})();","module.exports = DefBlob;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"12":1,"14":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/gitUtil.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/git/gitUtil.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":0,"12":0,"13":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"decodeBlobJson","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":34}}},"2":{"name":"blobShaHex","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":26}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":16,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":20}},"6":{"start":{"line":8,"column":4},"end":{"line":15,"column":5}},"7":{"start":{"line":10,"column":12},"end":{"line":10,"column":58}},"8":{"start":{"line":14,"column":12},"end":{"line":14,"column":56}},"9":{"start":{"line":17,"column":0},"end":{"line":17,"column":40}},"10":{"start":{"line":18,"column":0},"end":{"line":21,"column":1}},"11":{"start":{"line":19,"column":4},"end":{"line":19,"column":36}},"12":{"start":{"line":20,"column":4},"end":{"line":20,"column":101}},"13":{"start":{"line":22,"column":0},"end":{"line":22,"column":32}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":5,"column":4}},{"start":{"line":5,"column":4},"end":{"line":5,"column":4}}]},"2":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":17}},{"start":{"line":5,"column":21},"end":{"line":5,"column":39}}]},"3":{"line":8,"type":"switch","locations":[{"start":{"line":9,"column":8},"end":{"line":10,"column":58}},{"start":{"line":11,"column":8},"end":{"line":11,"column":21}},{"start":{"line":12,"column":8},"end":{"line":12,"column":20}},{"start":{"line":13,"column":8},"end":{"line":14,"column":56}}]}},"code":["'use strict';","var assertVar = require('../xm/assertVar');","var crypto = require('crypto');","function decodeBlobJson(blobJSON) {","    if (!blobJSON || !blobJSON.encoding) {","        return null;","    }","    switch (blobJSON.encoding) {","        case 'base64':","            return new Buffer(blobJSON.content, 'base64');","        case 'utf-8':","        case 'utf8':","        default:","            return new Buffer(blobJSON.content, 'utf8');","    }","}","exports.decodeBlobJson = decodeBlobJson;","function blobShaHex(data) {","    assertVar(data, Buffer, 'data');","    return crypto.createHash('sha1').update('blob ' + data.length + '\\0').update(data).digest('hex');","}","exports.blobShaHex = blobShaHex;",""],"l":{"2":1,"3":1,"4":1,"5":0,"6":0,"8":0,"10":0,"14":0,"17":1,"18":1,"19":0,"20":0,"22":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/InfoParser.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/InfoParser.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":1,"45":1},"b":{"1":[1,1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":44},"end":{"line":2,"column":60}}},"2":{"name":"__","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":18}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":18},"end":{"line":14,"column":36}}},"4":{"name":"InfoParser","line":16,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":30}}},"5":{"name":"(anonymous_5)","line":19,"loc":{"start":{"line":19,"column":40},"end":{"line":19,"column":56}}},"6":{"name":"(anonymous_6)","line":20,"loc":{"start":{"line":20,"column":56},"end":{"line":20,"column":72}}},"7":{"name":"(anonymous_7)","line":38,"loc":{"start":{"line":38,"column":54},"end":{"line":38,"column":67}}},"8":{"name":"(anonymous_8)","line":39,"loc":{"start":{"line":39,"column":53},"end":{"line":39,"column":66}}},"9":{"name":"(anonymous_9)","line":46,"loc":{"start":{"line":46,"column":44},"end":{"line":46,"column":60}}},"10":{"name":"(anonymous_10)","line":49,"loc":{"start":{"line":49,"column":33},"end":{"line":49,"column":49}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":58}},"3":{"start":{"line":3,"column":21},"end":{"line":3,"column":58}},"4":{"start":{"line":3,"column":46},"end":{"line":3,"column":58}},"5":{"start":{"line":4,"column":4},"end":{"line":4,"column":43}},"6":{"start":{"line":4,"column":20},"end":{"line":4,"column":41}},"7":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"9":{"start":{"line":8,"column":0},"end":{"line":8,"column":34}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":42}},"11":{"start":{"line":10,"column":0},"end":{"line":10,"column":41}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":41}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"14":{"start":{"line":13,"column":0},"end":{"line":13,"column":50}},"15":{"start":{"line":14,"column":0},"end":{"line":54,"column":15}},"16":{"start":{"line":15,"column":4},"end":{"line":15,"column":34}},"17":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"18":{"start":{"line":17,"column":8},"end":{"line":17,"column":46}},"19":{"start":{"line":19,"column":4},"end":{"line":45,"column":6}},"20":{"start":{"line":20,"column":8},"end":{"line":44,"column":11}},"21":{"start":{"line":21,"column":12},"end":{"line":21,"column":55}},"22":{"start":{"line":22,"column":12},"end":{"line":27,"column":13}},"23":{"start":{"line":23,"column":16},"end":{"line":23,"column":40}},"24":{"start":{"line":26,"column":16},"end":{"line":26,"column":42}},"25":{"start":{"line":28,"column":12},"end":{"line":28,"column":67}},"26":{"start":{"line":29,"column":12},"end":{"line":32,"column":13}},"27":{"start":{"line":30,"column":16},"end":{"line":30,"column":41}},"28":{"start":{"line":31,"column":16},"end":{"line":31,"column":28}},"29":{"start":{"line":33,"column":12},"end":{"line":33,"column":43}},"30":{"start":{"line":34,"column":12},"end":{"line":42,"column":13}},"31":{"start":{"line":35,"column":16},"end":{"line":35,"column":37}},"32":{"start":{"line":36,"column":16},"end":{"line":36,"column":49}},"33":{"start":{"line":37,"column":16},"end":{"line":37,"column":63}},"34":{"start":{"line":38,"column":16},"end":{"line":38,"column":86}},"35":{"start":{"line":38,"column":69},"end":{"line":38,"column":82}},"36":{"start":{"line":39,"column":16},"end":{"line":41,"column":19}},"37":{"start":{"line":40,"column":20},"end":{"line":40,"column":57}},"38":{"start":{"line":43,"column":12},"end":{"line":43,"column":24}},"39":{"start":{"line":46,"column":4},"end":{"line":52,"column":6}},"40":{"start":{"line":47,"column":8},"end":{"line":47,"column":25}},"41":{"start":{"line":48,"column":8},"end":{"line":48,"column":46}},"42":{"start":{"line":49,"column":8},"end":{"line":51,"column":11}},"43":{"start":{"line":50,"column":12},"end":{"line":50,"column":44}},"44":{"start":{"line":53,"column":4},"end":{"line":53,"column":22}},"45":{"start":{"line":55,"column":0},"end":{"line":55,"column":28}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":7,"column":1}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":21}},{"start":{"line":3,"column":21},"end":{"line":3,"column":21}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":12}},{"start":{"line":22,"column":12},"end":{"line":22,"column":12}}]},"4":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":29,"column":12}},{"start":{"line":29,"column":12},"end":{"line":29,"column":12}}]},"5":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":12},"end":{"line":34,"column":12}},{"start":{"line":34,"column":12},"end":{"line":34,"column":12}}]},"6":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":37},"end":{"line":37,"column":55}},{"start":{"line":37,"column":59},"end":{"line":37,"column":61}}]}},"code":["'use strict';","var __extends = (this && this.__extends) || function (d, b) {","    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];","    function __() { this.constructor = d; }","    __.prototype = b.prototype;","    d.prototype = new __();","};","var Promise = require('bluebird');","var header = require('definition-header');","var CoreModule = require('./CoreModule');","var DefInfo = require('../data/DefInfo');","var defUtil = require('../util/defUtil');","var AuthorInfo = require('../support/AuthorInfo');","var InfoParser = (function (_super) {","    __extends(InfoParser, _super);","    function InfoParser(core) {","        _super.call(this, core, 'InfoParser');","    }","    InfoParser.prototype.parseDefInfo = function (file) {","        return this.core.content.loadContent(file).then(function (blob) {","            var source = blob.content.toString('utf8');","            if (file.info) {","                file.info.resetFields();","            }","            else {","                file.info = new DefInfo();","            }","            file.info.externals = defUtil.extractExternals(source);","            if (header.isPartial(source)) {","                file.info.partial = true;","                return file;","            }","            var res = header.parse(source);","            if (res.success) {","                var head = res.value;","                file.info.name = head.label.name;","                file.info.version = (head.label.version || '');","                file.info.projects = head.project.map(function (p) { return p.url; });","                file.info.authors = head.authors.map(function (a) {","                    return new AuthorInfo(a.name, a.url);","                });","            }","            return file;","        });","    };","    InfoParser.prototype.parseDefInfoBulk = function (list) {","        var _this = this;","        list = defUtil.uniqueDefVersion(list);","        return Promise.map(list, function (file) {","            return _this.parseDefInfo(file);","        });","    };","    return InfoParser;","})(CoreModule);","module.exports = InfoParser;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"19":1,"20":0,"21":0,"22":0,"23":0,"26":0,"28":0,"29":0,"30":0,"31":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"43":0,"46":1,"47":0,"48":0,"49":0,"50":0,"53":1,"55":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/DefInfo.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/data/DefInfo.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":1,"13":0,"14":1,"15":0,"16":0,"17":0,"18":1,"19":1},"b":{"1":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":15},"end":{"line":2,"column":27}}},"2":{"name":"DefInfo","line":3,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":23}}},"3":{"name":"(anonymous_3)","line":7,"loc":{"start":{"line":7,"column":36},"end":{"line":7,"column":48}}},"4":{"name":"(anonymous_4)","line":13,"loc":{"start":{"line":13,"column":33},"end":{"line":13,"column":45}}},"5":{"name":"(anonymous_5)","line":16,"loc":{"start":{"line":16,"column":33},"end":{"line":16,"column":45}}},"6":{"name":"(anonymous_6)","line":19,"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":44}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":26,"column":5}},"2":{"start":{"line":3,"column":4},"end":{"line":6,"column":5}},"3":{"start":{"line":4,"column":8},"end":{"line":4,"column":28}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":24}},"5":{"start":{"line":7,"column":4},"end":{"line":12,"column":6}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":23}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":26}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":27}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":26}},"10":{"start":{"line":13,"column":4},"end":{"line":15,"column":6}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":27}},"12":{"start":{"line":16,"column":4},"end":{"line":18,"column":6}},"13":{"start":{"line":17,"column":8},"end":{"line":17,"column":25}},"14":{"start":{"line":19,"column":4},"end":{"line":24,"column":6}},"15":{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},"16":{"start":{"line":21,"column":12},"end":{"line":21,"column":25}},"17":{"start":{"line":23,"column":8},"end":{"line":23,"column":20}},"18":{"start":{"line":25,"column":4},"end":{"line":25,"column":19}},"19":{"start":{"line":27,"column":0},"end":{"line":27,"column":25}}},"branchMap":{"1":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":8},"end":{"line":20,"column":8}},{"start":{"line":20,"column":8},"end":{"line":20,"column":8}}]}},"code":["'use strict';","var DefInfo = (function () {","    function DefInfo() {","        this.externals = [];","        this.resetAll();","    }","    DefInfo.prototype.resetFields = function () {","        this.name = '';","        this.version = '';","        this.projects = [];","        this.authors = [];","    };","    DefInfo.prototype.resetAll = function () {","        this.resetFields();","    };","    DefInfo.prototype.toString = function () {","        return this.name;","    };","    DefInfo.prototype.isValid = function () {","        if (!this.name) {","            return false;","        }","        return true;","    };","    return DefInfo;","})();","module.exports = DefInfo;",""],"l":{"2":1,"3":1,"4":0,"5":0,"7":1,"8":0,"9":0,"10":0,"11":0,"13":1,"14":0,"16":1,"17":0,"19":1,"20":0,"21":0,"23":0,"25":1,"27":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/AuthorInfo.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/AuthorInfo.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":18},"end":{"line":3,"column":30}}},"2":{"name":"AuthorInfo","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":42}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":36},"end":{"line":15,"column":48}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":34},"end":{"line":18,"column":46}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":17}},"2":{"start":{"line":3,"column":0},"end":{"line":31,"column":5}},"3":{"start":{"line":4,"column":4},"end":{"line":14,"column":5}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":43}},"5":{"start":{"line":5,"column":31},"end":{"line":5,"column":41}},"6":{"start":{"line":6,"column":8},"end":{"line":6,"column":43}},"7":{"start":{"line":6,"column":30},"end":{"line":6,"column":41}},"8":{"start":{"line":7,"column":8},"end":{"line":7,"column":47}},"9":{"start":{"line":7,"column":32},"end":{"line":7,"column":45}},"10":{"start":{"line":8,"column":8},"end":{"line":8,"column":25}},"11":{"start":{"line":9,"column":8},"end":{"line":9,"column":23}},"12":{"start":{"line":10,"column":8},"end":{"line":10,"column":27}},"13":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"14":{"start":{"line":12,"column":12},"end":{"line":12,"column":50}},"15":{"start":{"line":15,"column":4},"end":{"line":17,"column":6}},"16":{"start":{"line":16,"column":8},"end":{"line":16,"column":108}},"17":{"start":{"line":18,"column":4},"end":{"line":29,"column":6}},"18":{"start":{"line":19,"column":8},"end":{"line":21,"column":10}},"19":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"20":{"start":{"line":23,"column":12},"end":{"line":23,"column":31}},"21":{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},"22":{"start":{"line":26,"column":12},"end":{"line":26,"column":35}},"23":{"start":{"line":28,"column":8},"end":{"line":28,"column":19}},"24":{"start":{"line":30,"column":4},"end":{"line":30,"column":22}},"25":{"start":{"line":32,"column":0},"end":{"line":32,"column":28}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":8}},{"start":{"line":5,"column":8},"end":{"line":5,"column":8}}]},"2":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":8}},{"start":{"line":6,"column":8},"end":{"line":6,"column":8}}]},"3":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":7,"column":8}},{"start":{"line":7,"column":8},"end":{"line":7,"column":8}}]},"4":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":11,"column":8}},{"start":{"line":11,"column":8},"end":{"line":11,"column":8}}]},"5":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":41},"end":{"line":16,"column":59}},{"start":{"line":16,"column":62},"end":{"line":16,"column":64}}]},"6":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":80},"end":{"line":16,"column":101}},{"start":{"line":16,"column":104},"end":{"line":16,"column":106}}]},"7":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":22,"column":8}},{"start":{"line":22,"column":8},"end":{"line":22,"column":8}}]},"8":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":8}},{"start":{"line":25,"column":8},"end":{"line":25,"column":8}}]}},"code":["'use strict';","var trim = /\\/$/;","var AuthorInfo = (function () {","    function AuthorInfo(name, url, email) {","        if (name === void 0) { name = ''; }","        if (url === void 0) { url = null; }","        if (email === void 0) { email = null; }","        this.name = name;","        this.url = url;","        this.email = email;","        if (this.url) {","            this.url = this.url.replace(trim, '');","        }","    }","    AuthorInfo.prototype.toString = function () {","        return this.name + (this.email ? ' @ ' + this.email : '') + (this.url ? ' <' + this.url + '>' : '');","    };","    AuthorInfo.prototype.toJSON = function () {","        var obj = {","            name: this.name","        };","        if (this.url) {","            obj.url = this.url;","        }","        if (this.email) {","            obj.email = this.email;","        }","        return obj;","    };","    return AuthorInfo;","})();","module.exports = AuthorInfo;",""],"l":{"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"15":1,"16":0,"18":1,"19":0,"22":0,"23":0,"25":0,"26":0,"28":0,"30":1,"32":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/Installer.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/Installer.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":1,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":1,"90":1},"b":{"1":[1,1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":44},"end":{"line":2,"column":60}}},"2":{"name":"__","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":18}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":17},"end":{"line":14,"column":35}}},"4":{"name":"Installer","line":16,"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":29}}},"5":{"name":"(anonymous_5)","line":19,"loc":{"start":{"line":19,"column":41},"end":{"line":19,"column":56}}},"6":{"name":"(anonymous_6)","line":22,"loc":{"start":{"line":22,"column":38},"end":{"line":22,"column":78}}},"7":{"name":"(anonymous_7)","line":26,"loc":{"start":{"line":26,"column":50},"end":{"line":26,"column":72}}},"8":{"name":"(anonymous_8)","line":38,"loc":{"start":{"line":38,"column":42},"end":{"line":38,"column":82}}},"9":{"name":"(anonymous_9)","line":43,"loc":{"start":{"line":43,"column":33},"end":{"line":43,"column":49}}},"10":{"name":"(anonymous_10)","line":44,"loc":{"start":{"line":44,"column":72},"end":{"line":44,"column":94}}},"11":{"name":"(anonymous_11)","line":51,"loc":{"start":{"line":51,"column":40},"end":{"line":51,"column":67}}},"12":{"name":"(anonymous_12)","line":55,"loc":{"start":{"line":55,"column":33},"end":{"line":55,"column":54}}},"13":{"name":"(anonymous_13)","line":56,"loc":{"start":{"line":56,"column":90},"end":{"line":56,"column":106}}},"14":{"name":"(anonymous_14)","line":57,"loc":{"start":{"line":57,"column":69},"end":{"line":57,"column":91}}},"15":{"name":"(anonymous_15)","line":66,"loc":{"start":{"line":66,"column":49},"end":{"line":66,"column":78}}},"16":{"name":"(anonymous_16)","line":68,"loc":{"start":{"line":68,"column":28},"end":{"line":68,"column":43}}},"17":{"name":"(anonymous_17)","line":77,"loc":{"start":{"line":77,"column":51},"end":{"line":77,"column":66}}},"18":{"name":"(anonymous_18)","line":86,"loc":{"start":{"line":86,"column":34},"end":{"line":86,"column":61}}},"19":{"name":"(anonymous_19)","line":89,"loc":{"start":{"line":89,"column":63},"end":{"line":89,"column":83}}},"20":{"name":"(anonymous_20)","line":95,"loc":{"start":{"line":95,"column":61},"end":{"line":95,"column":77}}},"21":{"name":"(anonymous_21)","line":100,"loc":{"start":{"line":100,"column":38},"end":{"line":100,"column":65}}},"22":{"name":"(anonymous_22)","line":105,"loc":{"start":{"line":105,"column":33},"end":{"line":105,"column":49}}},"23":{"name":"(anonymous_23)","line":106,"loc":{"start":{"line":106,"column":55},"end":{"line":106,"column":77}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":58}},"3":{"start":{"line":3,"column":21},"end":{"line":3,"column":58}},"4":{"start":{"line":3,"column":46},"end":{"line":3,"column":58}},"5":{"start":{"line":4,"column":4},"end":{"line":4,"column":43}},"6":{"start":{"line":4,"column":20},"end":{"line":4,"column":41}},"7":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"9":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}},"11":{"start":{"line":10,"column":0},"end":{"line":10,"column":48}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"14":{"start":{"line":13,"column":0},"end":{"line":13,"column":41}},"15":{"start":{"line":14,"column":0},"end":{"line":114,"column":15}},"16":{"start":{"line":15,"column":4},"end":{"line":15,"column":33}},"17":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"18":{"start":{"line":17,"column":8},"end":{"line":17,"column":45}},"19":{"start":{"line":19,"column":4},"end":{"line":21,"column":6}},"20":{"start":{"line":20,"column":8},"end":{"line":20,"column":99}},"21":{"start":{"line":22,"column":4},"end":{"line":37,"column":6}},"22":{"start":{"line":23,"column":8},"end":{"line":23,"column":25}},"23":{"start":{"line":24,"column":8},"end":{"line":24,"column":59}},"24":{"start":{"line":24,"column":38},"end":{"line":24,"column":57}},"25":{"start":{"line":25,"column":8},"end":{"line":25,"column":56}},"26":{"start":{"line":25,"column":36},"end":{"line":25,"column":54}},"27":{"start":{"line":26,"column":8},"end":{"line":36,"column":11}},"28":{"start":{"line":27,"column":12},"end":{"line":34,"column":13}},"29":{"start":{"line":28,"column":16},"end":{"line":33,"column":17}},"30":{"start":{"line":29,"column":20},"end":{"line":29,"column":82}},"31":{"start":{"line":31,"column":21},"end":{"line":33,"column":17}},"32":{"start":{"line":32,"column":20},"end":{"line":32,"column":60}},"33":{"start":{"line":35,"column":12},"end":{"line":35,"column":30}},"34":{"start":{"line":38,"column":4},"end":{"line":50,"column":6}},"35":{"start":{"line":39,"column":8},"end":{"line":39,"column":25}},"36":{"start":{"line":40,"column":8},"end":{"line":40,"column":59}},"37":{"start":{"line":40,"column":38},"end":{"line":40,"column":57}},"38":{"start":{"line":41,"column":8},"end":{"line":41,"column":55}},"39":{"start":{"line":41,"column":36},"end":{"line":41,"column":53}},"40":{"start":{"line":42,"column":8},"end":{"line":42,"column":44}},"41":{"start":{"line":43,"column":8},"end":{"line":49,"column":27}},"42":{"start":{"line":44,"column":12},"end":{"line":48,"column":15}},"43":{"start":{"line":45,"column":16},"end":{"line":47,"column":17}},"44":{"start":{"line":46,"column":20},"end":{"line":46,"column":53}},"45":{"start":{"line":51,"column":4},"end":{"line":65,"column":6}},"46":{"start":{"line":52,"column":8},"end":{"line":52,"column":25}},"47":{"start":{"line":53,"column":8},"end":{"line":53,"column":56}},"48":{"start":{"line":53,"column":36},"end":{"line":53,"column":54}},"49":{"start":{"line":54,"column":8},"end":{"line":54,"column":44}},"50":{"start":{"line":55,"column":8},"end":{"line":64,"column":27}},"51":{"start":{"line":56,"column":12},"end":{"line":63,"column":15}},"52":{"start":{"line":57,"column":16},"end":{"line":62,"column":19}},"53":{"start":{"line":58,"column":20},"end":{"line":60,"column":21}},"54":{"start":{"line":59,"column":24},"end":{"line":59,"column":57}},"55":{"start":{"line":61,"column":20},"end":{"line":61,"column":32}},"56":{"start":{"line":66,"column":4},"end":{"line":85,"column":6}},"57":{"start":{"line":67,"column":8},"end":{"line":67,"column":25}},"58":{"start":{"line":68,"column":8},"end":{"line":76,"column":10}},"59":{"start":{"line":69,"column":12},"end":{"line":74,"column":13}},"60":{"start":{"line":70,"column":16},"end":{"line":70,"column":72}},"61":{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},"62":{"start":{"line":72,"column":20},"end":{"line":72,"column":32}},"63":{"start":{"line":75,"column":12},"end":{"line":75,"column":25}},"64":{"start":{"line":77,"column":8},"end":{"line":82,"column":11}},"65":{"start":{"line":78,"column":12},"end":{"line":81,"column":13}},"66":{"start":{"line":79,"column":16},"end":{"line":79,"column":66}},"67":{"start":{"line":80,"column":16},"end":{"line":80,"column":58}},"68":{"start":{"line":83,"column":8},"end":{"line":83,"column":50}},"69":{"start":{"line":84,"column":8},"end":{"line":84,"column":47}},"70":{"start":{"line":86,"column":4},"end":{"line":99,"column":6}},"71":{"start":{"line":87,"column":8},"end":{"line":87,"column":25}},"72":{"start":{"line":88,"column":8},"end":{"line":88,"column":55}},"73":{"start":{"line":89,"column":8},"end":{"line":98,"column":11}},"74":{"start":{"line":90,"column":12},"end":{"line":94,"column":13}},"75":{"start":{"line":91,"column":16},"end":{"line":92,"column":17}},"76":{"start":{"line":93,"column":16},"end":{"line":93,"column":28}},"77":{"start":{"line":95,"column":12},"end":{"line":97,"column":34}},"78":{"start":{"line":96,"column":16},"end":{"line":96,"column":62}},"79":{"start":{"line":100,"column":4},"end":{"line":112,"column":6}},"80":{"start":{"line":101,"column":8},"end":{"line":101,"column":25}},"81":{"start":{"line":102,"column":8},"end":{"line":102,"column":55}},"82":{"start":{"line":102,"column":36},"end":{"line":102,"column":53}},"83":{"start":{"line":103,"column":8},"end":{"line":103,"column":46}},"84":{"start":{"line":104,"column":8},"end":{"line":104,"column":44}},"85":{"start":{"line":105,"column":8},"end":{"line":111,"column":27}},"86":{"start":{"line":106,"column":12},"end":{"line":110,"column":15}},"87":{"start":{"line":107,"column":16},"end":{"line":109,"column":17}},"88":{"start":{"line":108,"column":20},"end":{"line":108,"column":53}},"89":{"start":{"line":113,"column":4},"end":{"line":113,"column":21}},"90":{"start":{"line":115,"column":0},"end":{"line":115,"column":27}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":7,"column":1}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":21}},{"start":{"line":3,"column":21},"end":{"line":3,"column":21}}]},"3":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":8}},{"start":{"line":24,"column":8},"end":{"line":24,"column":8}}]},"4":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":8}},{"start":{"line":25,"column":8},"end":{"line":25,"column":8}}]},"5":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":12},"end":{"line":27,"column":12}},{"start":{"line":27,"column":12},"end":{"line":27,"column":12}}]},"6":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":16},"end":{"line":28,"column":16}},{"start":{"line":28,"column":16},"end":{"line":28,"column":16}}]},"7":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":21},"end":{"line":31,"column":21}},{"start":{"line":31,"column":21},"end":{"line":31,"column":21}}]},"8":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":40,"column":8}},{"start":{"line":40,"column":8},"end":{"line":40,"column":8}}]},"9":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":8},"end":{"line":41,"column":8}},{"start":{"line":41,"column":8},"end":{"line":41,"column":8}}]},"10":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":16},"end":{"line":45,"column":16}},{"start":{"line":45,"column":16},"end":{"line":45,"column":16}}]},"11":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":8},"end":{"line":53,"column":8}},{"start":{"line":53,"column":8},"end":{"line":53,"column":8}}]},"12":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":20},"end":{"line":58,"column":20}},{"start":{"line":58,"column":20},"end":{"line":58,"column":20}}]},"13":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":16},"end":{"line":71,"column":16}},{"start":{"line":71,"column":16},"end":{"line":71,"column":16}}]},"14":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":12},"end":{"line":78,"column":12}},{"start":{"line":78,"column":12},"end":{"line":78,"column":12}}]},"15":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":12},"end":{"line":90,"column":12}},{"start":{"line":90,"column":12},"end":{"line":90,"column":12}}]},"16":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":16},"end":{"line":91,"column":16}},{"start":{"line":91,"column":16},"end":{"line":91,"column":16}}]},"17":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":8},"end":{"line":102,"column":8}},{"start":{"line":102,"column":8},"end":{"line":102,"column":8}}]},"18":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":16},"end":{"line":107,"column":16}},{"start":{"line":107,"column":16},"end":{"line":107,"column":16}}]}},"code":["'use strict';","var __extends = (this && this.__extends) || function (d, b) {","    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];","    function __() { this.constructor = d; }","    __.prototype = b.prototype;","    d.prototype = new __();","};","var path = require('path');","var Promise = require('bluebird');","var collection = require('../../xm/collection');","var fileIO = require('../../xm/fileIO');","var CoreModule = require('./CoreModule');","var defUtil = require('../util/defUtil');","var Installer = (function (_super) {","    __extends(Installer, _super);","    function Installer(core) {","        _super.call(this, core, 'Installer');","    }","    Installer.prototype.getInstallPath = function (def) {","        return path.join(this.core.context.getTypingsDir(), def.path.replace(/[//\\/]/g, path.sep));","    };","    Installer.prototype.installFile = function (file, addToConfig, overwrite) {","        var _this = this;","        if (addToConfig === void 0) { addToConfig = true; }","        if (overwrite === void 0) { overwrite = false; }","        return this.useFile(file, overwrite).then(function (targetPath) {","            if (targetPath) {","                if (_this.core.context.config.hasFile(file.def.path)) {","                    _this.core.context.config.getFile(file.def.path).update(file);","                }","                else if (addToConfig) {","                    _this.core.context.config.addFile(file);","                }","            }","            return targetPath;","        });","    };","    Installer.prototype.installFileBulk = function (list, addToConfig, overwrite) {","        var _this = this;","        if (addToConfig === void 0) { addToConfig = true; }","        if (overwrite === void 0) { overwrite = true; }","        var written = new collection.Hash();","        return Promise.map(list, function (file) {","            return _this.installFile(file, addToConfig, overwrite).then(function (targetPath) {","                if (targetPath) {","                    written.set(file.def.path, file);","                }","            });","        }).return(written);","    };","    Installer.prototype.reinstallBulk = function (list, overwrite) {","        var _this = this;","        if (overwrite === void 0) { overwrite = false; }","        var written = new collection.Hash();","        return Promise.map(list, function (installed) {","            return _this.core.index.procureFile(installed.path, installed.commitSha).then(function (file) {","                return _this.installFile(file, true, overwrite).then(function (targetPath) {","                    if (targetPath) {","                        written.set(file.def.path, file);","                    }","                    return file;","                });","            });","        }).return(written);","    };","    Installer.prototype.removeUnusedReferences = function (list, typingsPath) {","        var removed = [];","        var fnFoundDefDir = function (dir) {","            for (var i = 0; i < list.length; i++) {","                var baseName = path.dirname(list[i].path).split('/')[0];","                if (baseName === dir) {","                    return true;","                }","            }","            return false;","        };","        fileIO.getDirNameList(typingsPath).forEach(function (dir) {","            if (!fnFoundDefDir(dir)) {","                fileIO.removeDirSync(path.join(typingsPath, dir));","                removed.push(path.join(typingsPath, dir));","            }","        });","        fileIO.removeAllFilesFromDir(typingsPath);","        return Promise.all([]).return(removed);","    };","    Installer.prototype.useFile = function (file, overwrite) {","        var _this = this;","        var targetPath = this.getInstallPath(file.def);","        return fileIO.canWriteFile(targetPath, overwrite).then(function (canWrite) {","            if (!canWrite) {","                if (!overwrite) {","                }","                return null;","            }","            return _this.core.content.loadContent(file).then(function (blob) {","                return fileIO.write(targetPath, blob.content);","            }).return(targetPath);","        });","    };","    Installer.prototype.useFileBulk = function (list, overwrite) {","        var _this = this;","        if (overwrite === void 0) { overwrite = true; }","        list = defUtil.uniqueDefVersion(list);","        var written = new collection.Hash();","        return Promise.map(list, function (file) {","            return _this.useFile(file, overwrite).then(function (targetPath) {","                if (targetPath) {","                    written.set(file.def.path, file);","                }","            });","        }).return(written);","    };","    return Installer;","})(CoreModule);","module.exports = Installer;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"19":1,"20":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"31":0,"32":0,"35":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"61":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"75":0,"77":0,"78":0,"79":0,"80":0,"83":0,"84":0,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"93":0,"95":0,"96":0,"100":1,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"113":1,"115":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/Resolver.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/logic/Resolver.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1,"59":1},"b":{"1":[1,1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":44},"end":{"line":2,"column":60}}},"2":{"name":"__","line":4,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":18}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":34}}},"4":{"name":"Resolver","line":18,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":28}}},"5":{"name":"(anonymous_5)","line":22,"loc":{"start":{"line":22,"column":37},"end":{"line":22,"column":53}}},"6":{"name":"(anonymous_6)","line":25,"loc":{"start":{"line":25,"column":33},"end":{"line":25,"column":49}}},"7":{"name":"(anonymous_7)","line":29,"loc":{"start":{"line":29,"column":37},"end":{"line":29,"column":53}}},"8":{"name":"(anonymous_8)","line":40,"loc":{"start":{"line":40,"column":18},"end":{"line":40,"column":41}}},"9":{"name":"(anonymous_9)","line":45,"loc":{"start":{"line":45,"column":19},"end":{"line":45,"column":31}}},"10":{"name":"(anonymous_10)","line":51,"loc":{"start":{"line":51,"column":41},"end":{"line":51,"column":73}}},"11":{"name":"(anonymous_11)","line":54,"loc":{"start":{"line":54,"column":27},"end":{"line":54,"column":52}}},"12":{"name":"(anonymous_12)","line":68,"loc":{"start":{"line":68,"column":38},"end":{"line":68,"column":63}}},"13":{"name":"(anonymous_13)","line":69,"loc":{"start":{"line":69,"column":60},"end":{"line":69,"column":85}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":3,"column":4},"end":{"line":3,"column":58}},"3":{"start":{"line":3,"column":21},"end":{"line":3,"column":58}},"4":{"start":{"line":3,"column":46},"end":{"line":3,"column":58}},"5":{"start":{"line":4,"column":4},"end":{"line":4,"column":43}},"6":{"start":{"line":4,"column":20},"end":{"line":4,"column":41}},"7":{"start":{"line":5,"column":4},"end":{"line":5,"column":31}},"8":{"start":{"line":6,"column":4},"end":{"line":6,"column":27}},"9":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"10":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}},"11":{"start":{"line":10,"column":0},"end":{"line":10,"column":48}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"14":{"start":{"line":13,"column":0},"end":{"line":13,"column":41}},"15":{"start":{"line":14,"column":0},"end":{"line":14,"column":23}},"16":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}},"17":{"start":{"line":16,"column":0},"end":{"line":78,"column":15}},"18":{"start":{"line":17,"column":4},"end":{"line":17,"column":32}},"19":{"start":{"line":18,"column":4},"end":{"line":21,"column":5}},"20":{"start":{"line":19,"column":8},"end":{"line":19,"column":44}},"21":{"start":{"line":20,"column":8},"end":{"line":20,"column":45}},"22":{"start":{"line":22,"column":4},"end":{"line":28,"column":6}},"23":{"start":{"line":23,"column":8},"end":{"line":23,"column":25}},"24":{"start":{"line":24,"column":8},"end":{"line":24,"column":46}},"25":{"start":{"line":25,"column":8},"end":{"line":27,"column":24}},"26":{"start":{"line":26,"column":12},"end":{"line":26,"column":43}},"27":{"start":{"line":29,"column":4},"end":{"line":50,"column":6}},"28":{"start":{"line":30,"column":8},"end":{"line":30,"column":25}},"29":{"start":{"line":31,"column":8},"end":{"line":33,"column":9}},"30":{"start":{"line":32,"column":12},"end":{"line":32,"column":41}},"31":{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},"32":{"start":{"line":35,"column":12},"end":{"line":35,"column":46}},"33":{"start":{"line":37,"column":8},"end":{"line":47,"column":24}},"34":{"start":{"line":41,"column":12},"end":{"line":41,"column":66}},"35":{"start":{"line":42,"column":12},"end":{"line":42,"column":85}},"36":{"start":{"line":43,"column":12},"end":{"line":43,"column":31}},"37":{"start":{"line":44,"column":12},"end":{"line":44,"column":39}},"38":{"start":{"line":46,"column":12},"end":{"line":46,"column":43}},"39":{"start":{"line":48,"column":8},"end":{"line":48,"column":44}},"40":{"start":{"line":49,"column":8},"end":{"line":49,"column":23}},"41":{"start":{"line":51,"column":4},"end":{"line":67,"column":6}},"42":{"start":{"line":52,"column":8},"end":{"line":52,"column":25}},"43":{"start":{"line":53,"column":8},"end":{"line":53,"column":52}},"44":{"start":{"line":54,"column":8},"end":{"line":66,"column":15}},"45":{"start":{"line":55,"column":12},"end":{"line":64,"column":13}},"46":{"start":{"line":56,"column":16},"end":{"line":56,"column":48}},"47":{"start":{"line":57,"column":16},"end":{"line":57,"column":44}},"48":{"start":{"line":58,"column":16},"end":{"line":60,"column":17}},"49":{"start":{"line":59,"column":20},"end":{"line":59,"column":59}},"50":{"start":{"line":63,"column":16},"end":{"line":63,"column":71}},"51":{"start":{"line":65,"column":12},"end":{"line":65,"column":24}},"52":{"start":{"line":68,"column":4},"end":{"line":76,"column":6}},"53":{"start":{"line":69,"column":8},"end":{"line":75,"column":15}},"54":{"start":{"line":70,"column":12},"end":{"line":70,"column":102}},"55":{"start":{"line":71,"column":12},"end":{"line":73,"column":13}},"56":{"start":{"line":72,"column":16},"end":{"line":72,"column":35}},"57":{"start":{"line":74,"column":12},"end":{"line":74,"column":24}},"58":{"start":{"line":77,"column":4},"end":{"line":77,"column":20}},"59":{"start":{"line":79,"column":0},"end":{"line":79,"column":26}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":7,"column":1}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":21},"end":{"line":3,"column":21}},{"start":{"line":3,"column":21},"end":{"line":3,"column":21}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":8}},{"start":{"line":31,"column":8},"end":{"line":31,"column":8}}]},"4":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":34,"column":8}},{"start":{"line":34,"column":8},"end":{"line":34,"column":8}}]},"5":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":55,"column":12}},{"start":{"line":55,"column":12},"end":{"line":55,"column":12}}]},"6":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":16},"end":{"line":58,"column":16}},{"start":{"line":58,"column":16},"end":{"line":58,"column":16}}]},"7":{"line":58,"type":"binary-expr","locations":[{"start":{"line":58,"column":20},"end":{"line":58,"column":36}},{"start":{"line":58,"column":40},"end":{"line":58,"column":72}}]},"8":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":12},"end":{"line":71,"column":12}},{"start":{"line":71,"column":12},"end":{"line":71,"column":12}}]},"9":{"line":71,"type":"binary-expr","locations":[{"start":{"line":71,"column":16},"end":{"line":71,"column":38}},{"start":{"line":71,"column":42},"end":{"line":71,"column":67}}]}},"code":["'use strict';","var __extends = (this && this.__extends) || function (d, b) {","    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];","    function __() { this.constructor = d; }","    __.prototype = b.prototype;","    d.prototype = new __();","};","var path = require('path');","var Promise = require('bluebird');","var collection = require('../../xm/collection');","var Def = require('../data/Def');","var defUtil = require('../util/defUtil');","var CoreModule = require('./CoreModule');","var localExp = /^\\.\\//;","var leadingExp = /^\\.\\.\\//;","var Resolver = (function (_super) {","    __extends(Resolver, _super);","    function Resolver(core) {","        _super.call(this, core, 'Resolver');","        this._active = new collection.Hash();","    }","    Resolver.prototype.resolveBulk = function (list) {","        var _this = this;","        list = defUtil.uniqueDefVersion(list);","        return Promise.map(list, function (file) {","            return _this.resolveDeps(file);","        }).return(list);","    };","    Resolver.prototype.resolveDeps = function (file) {","        var _this = this;","        if (file.solved) {","            return Promise.resolve(file);","        }","        if (this._active.has(file.key)) {","            return this._active.get(file.key);","        }","        var promise = Promise.all([","            this.core.index.getIndex(),","            this.core.content.loadContent(file)","        ]).spread(function (index, blob) {","            file.dependencies.splice(0, file.dependencies.length);","            var queued = _this.applyResolution(index, file, blob.content.toString());","            file.solved = true;","            return Promise.all(queued);","        }).finally(function () {","            _this._active.delete(file.key);","        }).return(file);","        this._active.set(file.key, promise);","        return promise;","    };","    Resolver.prototype.applyResolution = function (index, file, content) {","        var _this = this;","        var refs = this.extractPaths(file, content);","        return refs.reduce(function (memo, refPath) {","            if (index.hasDef(refPath)) {","                var dep = index.getDef(refPath);","                file.dependencies.push(dep);","                if (!dep.head.solved && !_this._active.has(dep.head.key)) {","                    memo.push(_this.resolveDeps(dep.head));","                }","            }","            else {","                console.log('path reference not in index: ' + refPath);","            }","            return memo;","        }, []);","    };","    Resolver.prototype.extractPaths = function (file, content) {","        return defUtil.extractReferenceTags(content).reduce(function (memo, refPath) {","            refPath = path.normalize(path.dirname(file.def.path) + '/' + refPath).replace(/\\\\/g, '/');","            if (Def.isDefPath(refPath) && memo.indexOf(refPath) < 0) {","                memo.push(refPath);","            }","            return memo;","        }, []);","    };","    return Resolver;","})(CoreModule);","module.exports = Resolver;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"22":1,"23":0,"24":0,"25":0,"26":0,"29":1,"30":0,"31":0,"32":0,"34":0,"35":0,"37":0,"41":0,"42":0,"43":0,"44":0,"46":0,"48":0,"49":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"63":0,"65":0,"68":1,"69":0,"70":0,"71":0,"72":0,"74":0,"77":1,"79":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/PackageLinker.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/PackageLinker.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":1,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1,"59":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":1,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"(anonymous_1)","line":7,"loc":{"start":{"line":7,"column":19},"end":{"line":7,"column":31}}},"2":{"name":"PackageType","line":8,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":66}}},"3":{"name":"getStringArray","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":21},"end":{"line":25,"column":33}}},"5":{"name":"PackageLinker","line":26,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":29}}},"6":{"name":"(anonymous_6)","line":31,"loc":{"start":{"line":31,"column":46},"end":{"line":31,"column":65}}},"7":{"name":"(anonymous_7)","line":34,"loc":{"start":{"line":34,"column":45},"end":{"line":34,"column":61}}},"8":{"name":"(anonymous_8)","line":38,"loc":{"start":{"line":38,"column":41},"end":{"line":38,"column":72}}},"9":{"name":"(anonymous_9)","line":43,"loc":{"start":{"line":43,"column":15},"end":{"line":43,"column":35}}},"10":{"name":"(anonymous_10)","line":46,"loc":{"start":{"line":46,"column":46},"end":{"line":46,"column":62}}},"11":{"name":"(anonymous_11)","line":48,"loc":{"start":{"line":48,"column":75},"end":{"line":48,"column":90}}},"12":{"name":"(anonymous_12)","line":50,"loc":{"start":{"line":50,"column":47},"end":{"line":50,"column":65}}},"13":{"name":"(anonymous_13)","line":55,"loc":{"start":{"line":55,"column":25},"end":{"line":55,"column":37}}},"14":{"name":"(anonymous_14)","line":61,"loc":{"start":{"line":61,"column":17},"end":{"line":61,"column":32}}},"15":{"name":"(anonymous_15)","line":64,"loc":{"start":{"line":64,"column":36},"end":{"line":64,"column":54}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":36}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":64}},"6":{"start":{"line":7,"column":0},"end":{"line":15,"column":5}},"7":{"start":{"line":8,"column":4},"end":{"line":13,"column":5}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":25}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":37}},"10":{"start":{"line":11,"column":8},"end":{"line":11,"column":39}},"11":{"start":{"line":12,"column":8},"end":{"line":12,"column":33}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":23}},"13":{"start":{"line":16,"column":0},"end":{"line":24,"column":1}},"14":{"start":{"line":17,"column":4},"end":{"line":22,"column":5}},"15":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"16":{"start":{"line":19,"column":12},"end":{"line":19,"column":26}},"17":{"start":{"line":21,"column":8},"end":{"line":21,"column":18}},"18":{"start":{"line":23,"column":4},"end":{"line":23,"column":40}},"19":{"start":{"line":25,"column":0},"end":{"line":85,"column":5}},"20":{"start":{"line":26,"column":4},"end":{"line":30,"column":5}},"21":{"start":{"line":27,"column":8},"end":{"line":27,"column":27}},"22":{"start":{"line":28,"column":8},"end":{"line":28,"column":98}},"23":{"start":{"line":29,"column":8},"end":{"line":29,"column":93}},"24":{"start":{"line":31,"column":4},"end":{"line":37,"column":6}},"25":{"start":{"line":32,"column":8},"end":{"line":32,"column":25}},"26":{"start":{"line":33,"column":8},"end":{"line":33,"column":22}},"27":{"start":{"line":34,"column":8},"end":{"line":36,"column":25}},"28":{"start":{"line":35,"column":12},"end":{"line":35,"column":57}},"29":{"start":{"line":38,"column":4},"end":{"line":63,"column":6}},"30":{"start":{"line":39,"column":8},"end":{"line":39,"column":61}},"31":{"start":{"line":40,"column":8},"end":{"line":40,"column":55}},"32":{"start":{"line":41,"column":8},"end":{"line":62,"column":11}},"33":{"start":{"line":44,"column":12},"end":{"line":44,"column":53}},"34":{"start":{"line":45,"column":12},"end":{"line":45,"column":52}},"35":{"start":{"line":46,"column":12},"end":{"line":60,"column":24}},"36":{"start":{"line":47,"column":16},"end":{"line":47,"column":76}},"37":{"start":{"line":48,"column":16},"end":{"line":59,"column":19}},"38":{"start":{"line":49,"column":20},"end":{"line":49,"column":68}},"39":{"start":{"line":50,"column":20},"end":{"line":54,"column":23}},"40":{"start":{"line":51,"column":24},"end":{"line":53,"column":25}},"41":{"start":{"line":52,"column":28},"end":{"line":52,"column":54}},"42":{"start":{"line":56,"column":20},"end":{"line":58,"column":21}},"43":{"start":{"line":57,"column":24},"end":{"line":57,"column":39}},"44":{"start":{"line":64,"column":4},"end":{"line":83,"column":6}},"45":{"start":{"line":65,"column":8},"end":{"line":65,"column":21}},"46":{"start":{"line":66,"column":8},"end":{"line":68,"column":9}},"47":{"start":{"line":67,"column":12},"end":{"line":67,"column":23}},"48":{"start":{"line":69,"column":8},"end":{"line":71,"column":9}},"49":{"start":{"line":70,"column":12},"end":{"line":70,"column":23}},"50":{"start":{"line":72,"column":8},"end":{"line":72,"column":35}},"51":{"start":{"line":73,"column":8},"end":{"line":75,"column":9}},"52":{"start":{"line":74,"column":12},"end":{"line":74,"column":23}},"53":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"54":{"start":{"line":77,"column":12},"end":{"line":77,"column":49}},"55":{"start":{"line":79,"column":8},"end":{"line":81,"column":9}},"56":{"start":{"line":80,"column":12},"end":{"line":80,"column":50}},"57":{"start":{"line":82,"column":8},"end":{"line":82,"column":19}},"58":{"start":{"line":84,"column":4},"end":{"line":84,"column":25}},"59":{"start":{"line":86,"column":0},"end":{"line":86,"column":31}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":8}},{"start":{"line":18,"column":8},"end":{"line":18,"column":8}}]},"3":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":24},"end":{"line":51,"column":24}},{"start":{"line":51,"column":24},"end":{"line":51,"column":24}}]},"4":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":20},"end":{"line":56,"column":20}},{"start":{"line":56,"column":20},"end":{"line":56,"column":20}}]},"5":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":8}},{"start":{"line":66,"column":8},"end":{"line":66,"column":8}}]},"6":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":8},"end":{"line":69,"column":8}},{"start":{"line":69,"column":8},"end":{"line":69,"column":8}}]},"7":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":8},"end":{"line":73,"column":8}},{"start":{"line":73,"column":8},"end":{"line":73,"column":8}}]},"8":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":76,"column":8}},{"start":{"line":76,"column":8},"end":{"line":76,"column":8}}]},"9":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":79,"column":8}},{"start":{"line":79,"column":8},"end":{"line":79,"column":8}}]}},"code":["'use strict';","var path = require('path');","var Promise = require('bluebird');","var FS = require('../../xm/fileIO');","var typeOf = require('../../xm/typeOf');","var PackageDefinition = require('../support/PackageDefinition');","var PackageType = (function () {","    function PackageType(name, folderName, packageGlob, infoJson) {","        this.name = name;","        this.folderName = folderName;","        this.packageGlob = packageGlob;","        this.infoJson = infoJson;","    }","    return PackageType;","})();","function getStringArray(elem) {","    if (!typeOf.isArray(elem)) {","        if (typeOf.isString(elem)) {","            return [elem];","        }","        return [];","    }","    return elem.filter(typeOf.isString);","}","var PackageLinker = (function () {","    function PackageLinker() {","        this.managers = [];","        this.managers.push(new PackageType('node', 'node_modules', '{*/,@*/*/}', 'package.json'));","        this.managers.push(new PackageType('bower', 'bower_components', '*/', 'bower.json'));","    }","    PackageLinker.prototype.scanDefinitions = function (baseDir) {","        var _this = this;","        var memo = [];","        return Promise.all(this.managers.map(function (type) {","            return _this.scanFolder(memo, type, baseDir);","        })).return(memo);","    };","    PackageLinker.prototype.scanFolder = function (memo, type, baseDir) {","        var scanDir = path.resolve(baseDir, type.folderName);","        var pattern = type.packageGlob + type.infoJson;","        return FS.glob(pattern, {","            cwd: scanDir","        }).map(function (infoPath) {","            var packageName = path.dirname(infoPath);","            infoPath = path.join(scanDir, infoPath);","            return FS.readJSON(infoPath).then(function (info) {","                var use = new PackageDefinition(packageName, [], type.name);","                return Promise.all(PackageLinker.extractDefLinks(info).map(function (ref) {","                    ref = path.resolve(path.dirname(infoPath), ref);","                    return FS.exists(ref).then(function (exists) {","                        if (exists) {","                            use.definitions.push(ref);","                        }","                    });","                })).then(function () {","                    if (use.definitions.length > 0) {","                        memo.push(use);","                    }","                });","            }).return();","        }).catch(function (err) {","        });","    };","    PackageLinker.extractDefLinks = function (object) {","        var ret = [];","        if (!typeOf.isObject(object)) {","            return ret;","        }","        if (!typeOf.hasOwnProp(object, 'typescript')) {","            return ret;","        }","        var ts = object.typescript;","        if (!typeOf.isObject(ts)) {","            return ret;","        }","        if (typeOf.hasOwnProp(ts, 'definition')) {","            return getStringArray(ts.definition);","        }","        if (typeOf.hasOwnProp(ts, 'definitions')) {","            return getStringArray(ts.definitions);","        }","        return ret;","    };","    return PackageLinker;","})();","module.exports = PackageLinker;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"14":1,"16":1,"17":0,"18":0,"19":0,"21":0,"23":0,"25":1,"26":1,"27":0,"28":0,"29":0,"31":1,"32":0,"33":0,"34":0,"35":0,"38":1,"39":0,"40":0,"41":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"56":0,"57":0,"64":1,"65":0,"66":0,"67":0,"69":0,"70":0,"72":0,"73":0,"74":0,"76":0,"77":0,"79":0,"80":0,"82":0,"84":1,"86":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/PackageDefinition.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/PackageDefinition.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":1,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":25},"end":{"line":2,"column":37}}},"2":{"name":"PackageDefinition","line":3,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":59}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":2,"column":0},"end":{"line":12,"column":5}},"3":{"start":{"line":3,"column":4},"end":{"line":10,"column":5}},"4":{"start":{"line":4,"column":8},"end":{"line":4,"column":40}},"5":{"start":{"line":5,"column":8},"end":{"line":5,"column":55}},"6":{"start":{"line":6,"column":8},"end":{"line":6,"column":54}},"7":{"start":{"line":7,"column":8},"end":{"line":7,"column":25}},"8":{"start":{"line":8,"column":8},"end":{"line":8,"column":45}},"9":{"start":{"line":9,"column":8},"end":{"line":9,"column":44}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":29}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":35}}},"branchMap":{"1":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":27},"end":{"line":8,"column":38}},{"start":{"line":8,"column":42},"end":{"line":8,"column":44}}]},"2":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":23},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":43}}]}},"code":["var assertVar = require('../../xm/assertVar');","var PackageDefinition = (function () {","    function PackageDefinition(name, definitions, manager) {","        assertVar(name, 'string', name);","        assertVar(definitions, 'array', 'definitions');","        assertVar(manager, 'string', 'manager', true);","        this.name = name;","        this.definitions = definitions || [];","        this.manager = manager || 'unknown';","    }","    return PackageDefinition;","})();","module.exports = PackageDefinition;",""],"l":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"11":1,"13":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/BundleManager.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/BundleManager.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":1,"61":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":21},"end":{"line":8,"column":33}}},"2":{"name":"BundleManager","line":9,"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":39}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":42},"end":{"line":12,"column":72}}},"4":{"name":"(anonymous_4)","line":14,"loc":{"start":{"line":14,"column":50},"end":{"line":14,"column":68}}},"5":{"name":"(anonymous_5)","line":16,"loc":{"start":{"line":16,"column":25},"end":{"line":16,"column":40}}},"6":{"name":"(anonymous_6)","line":25,"loc":{"start":{"line":25,"column":41},"end":{"line":25,"column":69}}},"7":{"name":"(anonymous_7)","line":28,"loc":{"start":{"line":28,"column":42},"end":{"line":28,"column":60}}},"8":{"name":"(anonymous_8)","line":35,"loc":{"start":{"line":35,"column":61},"end":{"line":35,"column":79}}},"9":{"name":"(anonymous_9)","line":40,"loc":{"start":{"line":40,"column":44},"end":{"line":40,"column":68}}},"10":{"name":"(anonymous_10)","line":43,"loc":{"start":{"line":43,"column":50},"end":{"line":43,"column":68}}},"11":{"name":"(anonymous_11)","line":45,"loc":{"start":{"line":45,"column":49},"end":{"line":45,"column":65}}},"12":{"name":"(anonymous_12)","line":46,"loc":{"start":{"line":46,"column":48},"end":{"line":46,"column":66}}},"13":{"name":"(anonymous_13)","line":51,"loc":{"start":{"line":51,"column":20},"end":{"line":51,"column":32}}},"14":{"name":"(anonymous_14)","line":59,"loc":{"start":{"line":59,"column":43},"end":{"line":59,"column":67}}},"15":{"name":"(anonymous_15)","line":62,"loc":{"start":{"line":62,"column":54},"end":{"line":62,"column":72}}},"16":{"name":"(anonymous_16)","line":65,"loc":{"start":{"line":65,"column":20},"end":{"line":65,"column":37}}},"17":{"name":"(anonymous_17)","line":66,"loc":{"start":{"line":66,"column":30},"end":{"line":66,"column":45}}},"18":{"name":"(anonymous_18)","line":77,"loc":{"start":{"line":77,"column":41},"end":{"line":77,"column":59}}},"19":{"name":"(anonymous_19)","line":81,"loc":{"start":{"line":81,"column":46},"end":{"line":81,"column":64}}},"20":{"name":"(anonymous_20)","line":83,"loc":{"start":{"line":83,"column":42},"end":{"line":83,"column":60}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":42}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"7":{"start":{"line":8,"column":0},"end":{"line":90,"column":5}},"8":{"start":{"line":9,"column":4},"end":{"line":11,"column":5}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":37}},"10":{"start":{"line":12,"column":4},"end":{"line":24,"column":6}},"11":{"start":{"line":13,"column":8},"end":{"line":13,"column":25}},"12":{"start":{"line":14,"column":8},"end":{"line":23,"column":11}},"13":{"start":{"line":15,"column":12},"end":{"line":15,"column":50}},"14":{"start":{"line":16,"column":12},"end":{"line":18,"column":15}},"15":{"start":{"line":17,"column":16},"end":{"line":17,"column":47}},"16":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"17":{"start":{"line":20,"column":16},"end":{"line":20,"column":63}},"18":{"start":{"line":22,"column":12},"end":{"line":22,"column":43}},"19":{"start":{"line":25,"column":4},"end":{"line":39,"column":6}},"20":{"start":{"line":26,"column":8},"end":{"line":26,"column":38}},"21":{"start":{"line":27,"column":8},"end":{"line":27,"column":57}},"22":{"start":{"line":28,"column":8},"end":{"line":38,"column":11}},"23":{"start":{"line":29,"column":12},"end":{"line":34,"column":13}},"24":{"start":{"line":30,"column":16},"end":{"line":32,"column":17}},"25":{"start":{"line":31,"column":20},"end":{"line":31,"column":70}},"26":{"start":{"line":33,"column":16},"end":{"line":33,"column":47}},"27":{"start":{"line":35,"column":12},"end":{"line":37,"column":30}},"28":{"start":{"line":36,"column":16},"end":{"line":36,"column":54}},"29":{"start":{"line":40,"column":4},"end":{"line":58,"column":6}},"30":{"start":{"line":41,"column":8},"end":{"line":41,"column":25}},"31":{"start":{"line":42,"column":8},"end":{"line":42,"column":38}},"32":{"start":{"line":43,"column":8},"end":{"line":57,"column":11}},"33":{"start":{"line":44,"column":12},"end":{"line":44,"column":50}},"34":{"start":{"line":45,"column":12},"end":{"line":56,"column":30}},"35":{"start":{"line":46,"column":16},"end":{"line":50,"column":19}},"36":{"start":{"line":47,"column":20},"end":{"line":49,"column":21}},"37":{"start":{"line":48,"column":24},"end":{"line":48,"column":59}},"38":{"start":{"line":52,"column":16},"end":{"line":54,"column":17}},"39":{"start":{"line":53,"column":20},"end":{"line":53,"column":52}},"40":{"start":{"line":55,"column":16},"end":{"line":55,"column":41}},"41":{"start":{"line":59,"column":4},"end":{"line":76,"column":6}},"42":{"start":{"line":60,"column":8},"end":{"line":60,"column":25}},"43":{"start":{"line":61,"column":8},"end":{"line":61,"column":38}},"44":{"start":{"line":62,"column":8},"end":{"line":75,"column":11}},"45":{"start":{"line":63,"column":12},"end":{"line":74,"column":30}},"46":{"start":{"line":66,"column":16},"end":{"line":69,"column":19}},"47":{"start":{"line":67,"column":20},"end":{"line":67,"column":72}},"48":{"start":{"line":68,"column":20},"end":{"line":68,"column":59}},"49":{"start":{"line":70,"column":16},"end":{"line":72,"column":17}},"50":{"start":{"line":71,"column":20},"end":{"line":71,"column":59}},"51":{"start":{"line":73,"column":16},"end":{"line":73,"column":41}},"52":{"start":{"line":77,"column":4},"end":{"line":80,"column":6}},"53":{"start":{"line":78,"column":8},"end":{"line":78,"column":49}},"54":{"start":{"line":79,"column":8},"end":{"line":79,"column":56}},"55":{"start":{"line":81,"column":4},"end":{"line":88,"column":6}},"56":{"start":{"line":82,"column":8},"end":{"line":82,"column":38}},"57":{"start":{"line":83,"column":8},"end":{"line":87,"column":11}},"58":{"start":{"line":84,"column":12},"end":{"line":86,"column":13}},"59":{"start":{"line":85,"column":16},"end":{"line":85,"column":50}},"60":{"start":{"line":89,"column":4},"end":{"line":89,"column":25}},"61":{"start":{"line":91,"column":0},"end":{"line":91,"column":31}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":12}},{"start":{"line":19,"column":12},"end":{"line":19,"column":12}}]},"2":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":16},"end":{"line":19,"column":20}},{"start":{"line":19,"column":24},"end":{"line":19,"column":42}}]},"3":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":29,"column":12}},{"start":{"line":29,"column":12},"end":{"line":29,"column":12}}]},"4":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":16},"end":{"line":30,"column":16}},{"start":{"line":30,"column":16},"end":{"line":30,"column":16}}]},"5":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":20},"end":{"line":47,"column":20}},{"start":{"line":47,"column":20},"end":{"line":47,"column":20}}]},"6":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":16},"end":{"line":52,"column":16}},{"start":{"line":52,"column":16},"end":{"line":52,"column":16}}]},"7":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":20},"end":{"line":52,"column":24}},{"start":{"line":52,"column":28},"end":{"line":52,"column":48}}]},"8":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":16}},{"start":{"line":70,"column":16},"end":{"line":70,"column":16}}]},"9":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":20},"end":{"line":70,"column":24}},{"start":{"line":70,"column":28},"end":{"line":70,"column":48}}]},"10":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":12},"end":{"line":84,"column":12}},{"start":{"line":84,"column":12},"end":{"line":84,"column":12}}]}},"code":["'use strict';","var path = require('path');","var Promise = require('bluebird');","var VError = require('verror');","var fileIO = require('../../xm/fileIO');","var Bundle = require('../support/Bundle');","var BundleChange = require('../support/BundleChange');","var BundleManager = (function () {","    function BundleManager(typingsDir) {","        this.typingsDir = typingsDir;","    }","    BundleManager.prototype.addToBundle = function (target, refs, save) {","        var _this = this;","        return this.readBundle(target, true).then(function (bundle) {","            var change = new BundleChange(bundle);","            refs.forEach(function (ref) {","                change.add(bundle.append(ref));","            });","            if (save && change.someAdded()) {","                return _this.saveBundle(bundle).return(change);","            }","            return Promise.resolve(change);","        });","    };","    BundleManager.prototype.readBundle = function (target, optional) {","        target = path.resolve(target);","        var bundle = new Bundle(target, this.typingsDir);","        return fileIO.exists(target).then(function (exists) {","            if (!exists) {","                if (!optional) {","                    throw new VError('cannot locate file %s', target);","                }","                return Promise.resolve(bundle);","            }","            return fileIO.read(target, { flags: 'rb' }).then(function (buffer) {","                bundle.parse(buffer.toString('utf8'));","            }).return(bundle);","        });","    };","    BundleManager.prototype.cleanupBundle = function (target, save) {","        var _this = this;","        target = path.resolve(target);","        return this.readBundle(target, true).then(function (bundle) {","            var change = new BundleChange(bundle);","            return Promise.map(bundle.toArray(), function (full) {","                return fileIO.exists(full).then(function (exists) {","                    if (!exists) {","                        change.remove(bundle.remove(full));","                    }","                });","            }).then(function () {","                if (save && change.someRemoved()) {","                    return _this.saveBundle(bundle);","                }","                return Promise.resolve();","            }).return(change);","        });","    };","    BundleManager.prototype.updateBundle = function (target, save) {","        var _this = this;","        target = path.resolve(target);","        return this.cleanupBundle(target, false).then(function (change) {","            return fileIO.glob('*/*.d.ts', {","                cwd: change.bundle.baseDir","            }).then(function (paths) {","                paths.forEach(function (def) {","                    var full = path.resolve(change.bundle.baseDir, def);","                    change.add(change.bundle.append(full));","                });","                if (save && change.someChanged()) {","                    return _this.saveBundle(change.bundle);","                }","                return Promise.resolve();","            }).return(change);","        });","    };","    BundleManager.prototype.saveBundle = function (bundle) {","        var target = path.resolve(bundle.target);","        return fileIO.write(target, bundle.stringify());","    };","    BundleManager.prototype.saveEmptyBundle = function (target) {","        target = path.resolve(target);","        return fileIO.exists(target).then(function (exists) {","            if (!exists) {","                return fileIO.write(target, '\\n');","            }","        });","    };","    return BundleManager;","})();","module.exports = BundleManager;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"19":0,"20":0,"22":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"33":0,"35":0,"36":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"52":0,"53":0,"55":0,"59":1,"60":0,"61":0,"62":0,"63":0,"66":0,"67":0,"68":0,"70":0,"71":0,"73":0,"77":1,"78":0,"79":0,"81":1,"82":0,"83":0,"84":0,"85":0,"89":1,"91":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/Bundle.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/Bundle.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":1,"89":1,"90":1,"91":0,"92":0,"93":1,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0,"102":0,"103":0,"104":1,"105":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"f":{"1":0,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"fixWinDrive","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":34},"end":{"line":8,"column":49}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":14},"end":{"line":12,"column":26}}},"4":{"name":"Bundle","line":13,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":37}}},"5":{"name":"(anonymous_5)","line":22,"loc":{"start":{"line":22,"column":29},"end":{"line":22,"column":48}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":27},"end":{"line":50,"column":42}}},"7":{"name":"(anonymous_7)","line":54,"loc":{"start":{"line":54,"column":30},"end":{"line":54,"column":45}}},"8":{"name":"(anonymous_8)","line":73,"loc":{"start":{"line":73,"column":30},"end":{"line":73,"column":45}}},"9":{"name":"(anonymous_9)","line":95,"loc":{"start":{"line":95,"column":31},"end":{"line":95,"column":62}}},"10":{"name":"(anonymous_10)","line":100,"loc":{"start":{"line":100,"column":20},"end":{"line":100,"column":36}}},"11":{"name":"(anonymous_11)","line":101,"loc":{"start":{"line":101,"column":17},"end":{"line":101,"column":33}}},"12":{"name":"(anonymous_12)","line":104,"loc":{"start":{"line":104,"column":33},"end":{"line":104,"column":45}}},"13":{"name":"(anonymous_13)","line":107,"loc":{"start":{"line":107,"column":30},"end":{"line":107,"column":46}}},"14":{"name":"(anonymous_14)","line":113,"loc":{"start":{"line":113,"column":18},"end":{"line":113,"column":30}}},"15":{"name":"BundleLine","line":114,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":36}}},"16":{"name":"(anonymous_16)","line":118,"loc":{"start":{"line":118,"column":34},"end":{"line":118,"column":61}}},"17":{"name":"(anonymous_17)","line":128,"loc":{"start":{"line":128,"column":36},"end":{"line":128,"column":52}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":92}},"6":{"start":{"line":7,"column":0},"end":{"line":11,"column":1}},"7":{"start":{"line":8,"column":4},"end":{"line":10,"column":7}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":33}},"9":{"start":{"line":12,"column":0},"end":{"line":112,"column":5}},"10":{"start":{"line":13,"column":4},"end":{"line":21,"column":5}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":24}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":25}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":39}},"14":{"start":{"line":17,"column":8},"end":{"line":17,"column":24}},"15":{"start":{"line":18,"column":8},"end":{"line":18,"column":46}},"16":{"start":{"line":19,"column":8},"end":{"line":19,"column":63}},"17":{"start":{"line":20,"column":8},"end":{"line":20,"column":73}},"18":{"start":{"line":22,"column":4},"end":{"line":49,"column":6}},"19":{"start":{"line":23,"column":8},"end":{"line":23,"column":24}},"20":{"start":{"line":24,"column":8},"end":{"line":24,"column":22}},"21":{"start":{"line":25,"column":8},"end":{"line":25,"column":21}},"22":{"start":{"line":26,"column":8},"end":{"line":26,"column":17}},"23":{"start":{"line":27,"column":8},"end":{"line":27,"column":23}},"24":{"start":{"line":28,"column":8},"end":{"line":28,"column":23}},"25":{"start":{"line":29,"column":8},"end":{"line":29,"column":31}},"26":{"start":{"line":30,"column":8},"end":{"line":47,"column":9}},"27":{"start":{"line":31,"column":12},"end":{"line":31,"column":71}},"28":{"start":{"line":32,"column":12},"end":{"line":32,"column":48}},"29":{"start":{"line":33,"column":12},"end":{"line":33,"column":34}},"30":{"start":{"line":34,"column":12},"end":{"line":39,"column":13}},"31":{"start":{"line":35,"column":16},"end":{"line":35,"column":25}},"32":{"start":{"line":38,"column":16},"end":{"line":38,"column":25}},"33":{"start":{"line":40,"column":12},"end":{"line":40,"column":42}},"34":{"start":{"line":41,"column":12},"end":{"line":41,"column":58}},"35":{"start":{"line":42,"column":12},"end":{"line":46,"column":13}},"36":{"start":{"line":43,"column":16},"end":{"line":43,"column":80}},"37":{"start":{"line":44,"column":16},"end":{"line":44,"column":42}},"38":{"start":{"line":45,"column":16},"end":{"line":45,"column":33}},"39":{"start":{"line":48,"column":8},"end":{"line":48,"column":53}},"40":{"start":{"line":50,"column":4},"end":{"line":53,"column":6}},"41":{"start":{"line":51,"column":8},"end":{"line":51,"column":59}},"42":{"start":{"line":52,"column":8},"end":{"line":52,"column":33}},"43":{"start":{"line":54,"column":4},"end":{"line":72,"column":6}},"44":{"start":{"line":55,"column":8},"end":{"line":55,"column":59}},"45":{"start":{"line":56,"column":8},"end":{"line":70,"column":9}},"46":{"start":{"line":57,"column":12},"end":{"line":57,"column":47}},"47":{"start":{"line":58,"column":12},"end":{"line":58,"column":33}},"48":{"start":{"line":59,"column":12},"end":{"line":66,"column":13}},"49":{"start":{"line":60,"column":16},"end":{"line":60,"column":54}},"50":{"start":{"line":61,"column":16},"end":{"line":65,"column":17}},"51":{"start":{"line":62,"column":20},"end":{"line":62,"column":54}},"52":{"start":{"line":63,"column":20},"end":{"line":63,"column":37}},"53":{"start":{"line":64,"column":20},"end":{"line":64,"column":31}},"54":{"start":{"line":67,"column":12},"end":{"line":67,"column":34}},"55":{"start":{"line":68,"column":12},"end":{"line":68,"column":29}},"56":{"start":{"line":69,"column":12},"end":{"line":69,"column":23}},"57":{"start":{"line":71,"column":8},"end":{"line":71,"column":20}},"58":{"start":{"line":73,"column":4},"end":{"line":94,"column":6}},"59":{"start":{"line":74,"column":8},"end":{"line":74,"column":59}},"60":{"start":{"line":75,"column":8},"end":{"line":92,"column":9}},"61":{"start":{"line":76,"column":12},"end":{"line":76,"column":37}},"62":{"start":{"line":77,"column":12},"end":{"line":77,"column":45}},"63":{"start":{"line":78,"column":12},"end":{"line":80,"column":13}},"64":{"start":{"line":79,"column":16},"end":{"line":79,"column":40}},"65":{"start":{"line":81,"column":12},"end":{"line":81,"column":33}},"66":{"start":{"line":82,"column":12},"end":{"line":89,"column":13}},"67":{"start":{"line":83,"column":16},"end":{"line":88,"column":17}},"68":{"start":{"line":84,"column":20},"end":{"line":87,"column":21}},"69":{"start":{"line":85,"column":24},"end":{"line":85,"column":50}},"70":{"start":{"line":86,"column":24},"end":{"line":86,"column":35}},"71":{"start":{"line":90,"column":12},"end":{"line":90,"column":29}},"72":{"start":{"line":91,"column":12},"end":{"line":91,"column":23}},"73":{"start":{"line":93,"column":8},"end":{"line":93,"column":20}},"74":{"start":{"line":95,"column":4},"end":{"line":103,"column":6}},"75":{"start":{"line":96,"column":8},"end":{"line":96,"column":54}},"76":{"start":{"line":96,"column":35},"end":{"line":96,"column":52}},"77":{"start":{"line":97,"column":8},"end":{"line":97,"column":56}},"78":{"start":{"line":97,"column":36},"end":{"line":97,"column":54}},"79":{"start":{"line":98,"column":8},"end":{"line":98,"column":65}},"80":{"start":{"line":99,"column":8},"end":{"line":102,"column":23}},"81":{"start":{"line":100,"column":38},"end":{"line":100,"column":56}},"82":{"start":{"line":101,"column":35},"end":{"line":101,"column":71}},"83":{"start":{"line":104,"column":4},"end":{"line":110,"column":6}},"84":{"start":{"line":105,"column":8},"end":{"line":105,"column":25}},"85":{"start":{"line":106,"column":8},"end":{"line":106,"column":45}},"86":{"start":{"line":107,"column":8},"end":{"line":109,"column":20}},"87":{"start":{"line":108,"column":12},"end":{"line":108,"column":51}},"88":{"start":{"line":111,"column":4},"end":{"line":111,"column":18}},"89":{"start":{"line":113,"column":0},"end":{"line":135,"column":5}},"90":{"start":{"line":114,"column":4},"end":{"line":117,"column":5}},"91":{"start":{"line":115,"column":8},"end":{"line":115,"column":27}},"92":{"start":{"line":116,"column":8},"end":{"line":116,"column":23}},"93":{"start":{"line":118,"column":4},"end":{"line":127,"column":6}},"94":{"start":{"line":119,"column":8},"end":{"line":119,"column":27}},"95":{"start":{"line":120,"column":8},"end":{"line":122,"column":9}},"96":{"start":{"line":121,"column":12},"end":{"line":121,"column":43}},"97":{"start":{"line":123,"column":8},"end":{"line":125,"column":9}},"98":{"start":{"line":124,"column":12},"end":{"line":124,"column":42}},"99":{"start":{"line":126,"column":8},"end":{"line":126,"column":19}},"100":{"start":{"line":128,"column":4},"end":{"line":133,"column":6}},"101":{"start":{"line":129,"column":8},"end":{"line":131,"column":9}},"102":{"start":{"line":130,"column":12},"end":{"line":130,"column":78}},"103":{"start":{"line":132,"column":8},"end":{"line":132,"column":26}},"104":{"start":{"line":134,"column":4},"end":{"line":134,"column":22}},"105":{"start":{"line":136,"column":0},"end":{"line":136,"column":24}}},"branchMap":{"1":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":35},"end":{"line":20,"column":42}},{"start":{"line":20,"column":46},"end":{"line":20,"column":71}}]},"2":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":12},"end":{"line":34,"column":12}},{"start":{"line":34,"column":12},"end":{"line":34,"column":12}}]},"3":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":12},"end":{"line":42,"column":12}},{"start":{"line":42,"column":12},"end":{"line":42,"column":12}}]},"4":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":16},"end":{"line":42,"column":24}},{"start":{"line":42,"column":28},"end":{"line":42,"column":47}}]},"5":{"line":48,"type":"cond-expr","locations":[{"start":{"line":48,"column":38},"end":{"line":48,"column":44}},{"start":{"line":48,"column":47},"end":{"line":48,"column":51}}]},"6":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":8},"end":{"line":56,"column":8}},{"start":{"line":56,"column":8},"end":{"line":56,"column":8}}]},"7":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":12},"end":{"line":59,"column":12}},{"start":{"line":59,"column":12},"end":{"line":59,"column":12}}]},"8":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":16},"end":{"line":61,"column":16}},{"start":{"line":61,"column":16},"end":{"line":61,"column":16}}]},"9":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":8}},{"start":{"line":75,"column":8},"end":{"line":75,"column":8}}]},"10":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":12},"end":{"line":78,"column":12}},{"start":{"line":78,"column":12},"end":{"line":78,"column":12}}]},"11":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":12},"end":{"line":82,"column":12}},{"start":{"line":82,"column":12},"end":{"line":82,"column":12}}]},"12":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":20},"end":{"line":84,"column":20}},{"start":{"line":84,"column":20},"end":{"line":84,"column":20}}]},"13":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":8},"end":{"line":96,"column":8}},{"start":{"line":96,"column":8},"end":{"line":96,"column":8}}]},"14":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":8},"end":{"line":97,"column":8}},{"start":{"line":97,"column":8},"end":{"line":97,"column":8}}]},"15":{"line":98,"type":"cond-expr","locations":[{"start":{"line":98,"column":31},"end":{"line":98,"column":56}},{"start":{"line":98,"column":59},"end":{"line":98,"column":63}}]},"16":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":8},"end":{"line":120,"column":8}},{"start":{"line":120,"column":8},"end":{"line":120,"column":8}}]},"17":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":123,"column":8}},{"start":{"line":123,"column":8},"end":{"line":123,"column":8}}]},"18":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":12},"end":{"line":123,"column":21}},{"start":{"line":123,"column":25},"end":{"line":123,"column":42}}]},"19":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":8},"end":{"line":129,"column":8}},{"start":{"line":129,"column":8},"end":{"line":129,"column":8}}]}},"code":["'use strict';","var path = require('path');","var Lazy = require('lazy.js');","var assertVar = require('../../xm/assertVar');","var splitExp = /(?:(.*)(\\r?\\n))|(?:(.+)($))/g;","var referenceTagExp = /\\/\\/\\/[ \\t]+<reference[ \\t]*path=[\"']?([\\w\\.\\/@_-]*)[\"']?[ \\t]*\\/>/g;","function fixWinDrive(ref) {","    return ref.replace(/^[a-z]:/, function (str) {","        return str.toUpperCase();","    });","}","var Bundle = (function () {","    function Bundle(target, baseDir) {","        this.lines = [];","        this.last = null;","        this.map = Object.create(null);","        this.eol = '\\n';","        assertVar(target, 'string', 'target');","        this.target = fixWinDrive(target.replace(/^\\.\\//, ''));","        this.baseDir = fixWinDrive(baseDir || path.dirname(this.target));","    }","    Bundle.prototype.parse = function (content) {","        this.eol = '\\n';","        var lineMatch;","        var refMatch;","        var line;","        var eolWin = 0;","        var eolNix = 0;","        splitExp.lastIndex = 0;","        while ((lineMatch = splitExp.exec(content))) {","            splitExp.lastIndex = lineMatch.index + lineMatch[0].length;","            line = new BundleLine(lineMatch[1]);","            this.lines.push(line);","            if (/\\r\\n/.test(lineMatch[2])) {","                eolWin++;","            }","            else {","                eolNix++;","            }","            referenceTagExp.lastIndex = 0;","            refMatch = referenceTagExp.exec(lineMatch[1]);","            if (refMatch && refMatch.length > 1) {","                line.ref = fixWinDrive(path.resolve(this.baseDir, refMatch[1]));","                this.map[line.ref] = line;","                this.last = line;","            }","        }","        this.eol = (eolWin > eolNix ? '\\r\\n' : '\\n');","    };","    Bundle.prototype.has = function (ref) {","        ref = fixWinDrive(path.resolve(this.baseDir, ref));","        return (ref in this.map);","    };","    Bundle.prototype.append = function (ref) {","        ref = fixWinDrive(path.resolve(this.baseDir, ref));","        if (!(ref in this.map)) {","            var line = new BundleLine('', ref);","            this.map[ref] = line;","            if (this.last) {","                var i = this.lines.indexOf(this.last);","                if (i > -1) {","                    this.lines.splice(i + 1, 0, line);","                    this.last = line;","                    return ref;","                }","            }","            this.lines.push(line);","            this.last = line;","            return ref;","        }","        return null;","    };","    Bundle.prototype.remove = function (ref) {","        ref = fixWinDrive(path.resolve(this.baseDir, ref));","        if (ref in this.map) {","            var line = this.map[ref];","            var i = this.lines.indexOf(line);","            if (i > -1) {","                this.lines.splice(i, 1);","            }","            delete this.map[ref];","            if (line === this.last) {","                for (i -= 1; i >= 0; i--) {","                    if (this.lines[i].ref) {","                        this.last = this.lines[i];","                        return ref;","                    }","                }","            }","            this.last = null;","            return ref;","        }","        return null;","    };","    Bundle.prototype.toArray = function (relative, canonical) {","        if (relative === void 0) { relative = false; }","        if (canonical === void 0) { canonical = false; }","        var base = (relative ? path.dirname(this.target) : null);","        return Lazy(this.lines)","            .filter(function (line) { return !!line.ref; })","            .map(function (line) { return line.getRef(base, canonical); })","            .toArray();","    };","    Bundle.prototype.stringify = function () {","        var _this = this;","        var base = path.dirname(this.target);","        return this.lines.map(function (line) {","            return line.getValue(base) + _this.eol;","        }).join('');","    };","    return Bundle;","})();","var BundleLine = (function () {","    function BundleLine(value, ref) {","        this.value = value;","        this.ref = ref;","    }","    BundleLine.prototype.getRef = function (base, canonical) {","        var ref = this.ref;","        if (base) {","            ref = path.relative(base, ref);","        }","        if (canonical && path.sep === '\\\\') {","            ref = ref.replace(/\\\\/g, '/');","        }","        return ref;","    };","    BundleLine.prototype.getValue = function (base) {","        if (this.ref) {","            return '/// <reference path=\"' + this.getRef(base, true) + '\" />';","        }","        return this.value;","    };","    return BundleLine;","})();","module.exports = Bundle;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"38":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"48":0,"50":1,"51":0,"52":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"67":0,"68":0,"69":0,"71":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"90":0,"91":0,"93":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"104":1,"105":0,"106":0,"107":0,"108":0,"111":1,"113":1,"114":1,"115":0,"116":0,"118":1,"119":0,"120":0,"121":0,"123":0,"124":0,"126":0,"128":1,"129":0,"130":0,"132":0,"134":1,"136":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/BundleChange.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/support/BundleChange.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":1,"21":0,"22":1,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":20},"end":{"line":4,"column":32}}},"2":{"name":"BundleChange","line":5,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":34}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":33},"end":{"line":10,"column":51}}},"4":{"name":"(anonymous_4)","line":17,"loc":{"start":{"line":17,"column":36},"end":{"line":17,"column":54}}},"5":{"name":"(anonymous_5)","line":24,"loc":{"start":{"line":24,"column":41},"end":{"line":24,"column":53}}},"6":{"name":"(anonymous_6)","line":27,"loc":{"start":{"line":27,"column":39},"end":{"line":27,"column":51}}},"7":{"name":"(anonymous_7)","line":30,"loc":{"start":{"line":30,"column":41},"end":{"line":30,"column":53}}},"8":{"name":"(anonymous_8)","line":33,"loc":{"start":{"line":33,"column":40},"end":{"line":33,"column":71}}},"9":{"name":"(anonymous_9)","line":38,"loc":{"start":{"line":38,"column":26},"end":{"line":38,"column":39}}},"10":{"name":"(anonymous_10)","line":41,"loc":{"start":{"line":41,"column":26},"end":{"line":41,"column":39}}},"11":{"name":"(anonymous_11)","line":44,"loc":{"start":{"line":44,"column":27},"end":{"line":44,"column":40}}},"12":{"name":"(anonymous_12)","line":48,"loc":{"start":{"line":48,"column":38},"end":{"line":48,"column":69}}},"13":{"name":"(anonymous_13)","line":53,"loc":{"start":{"line":53,"column":26},"end":{"line":53,"column":39}}},"14":{"name":"(anonymous_14)","line":56,"loc":{"start":{"line":56,"column":26},"end":{"line":56,"column":39}}},"15":{"name":"(anonymous_15)","line":59,"loc":{"start":{"line":59,"column":27},"end":{"line":59,"column":40}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}},"3":{"start":{"line":4,"column":0},"end":{"line":64,"column":5}},"4":{"start":{"line":5,"column":4},"end":{"line":9,"column":5}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":43}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":45}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":29}},"8":{"start":{"line":10,"column":4},"end":{"line":16,"column":6}},"9":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"10":{"start":{"line":12,"column":12},"end":{"line":12,"column":19}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":32}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":37}},"13":{"start":{"line":17,"column":4},"end":{"line":23,"column":6}},"14":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"15":{"start":{"line":19,"column":12},"end":{"line":19,"column":19}},"16":{"start":{"line":21,"column":8},"end":{"line":21,"column":35}},"17":{"start":{"line":22,"column":8},"end":{"line":22,"column":34}},"18":{"start":{"line":24,"column":4},"end":{"line":26,"column":6}},"19":{"start":{"line":25,"column":8},"end":{"line":25,"column":38}},"20":{"start":{"line":27,"column":4},"end":{"line":29,"column":6}},"21":{"start":{"line":28,"column":8},"end":{"line":28,"column":36}},"22":{"start":{"line":30,"column":4},"end":{"line":32,"column":6}},"23":{"start":{"line":31,"column":8},"end":{"line":31,"column":62}},"24":{"start":{"line":33,"column":4},"end":{"line":47,"column":6}},"25":{"start":{"line":34,"column":8},"end":{"line":34,"column":25}},"26":{"start":{"line":35,"column":8},"end":{"line":35,"column":56}},"27":{"start":{"line":35,"column":36},"end":{"line":35,"column":54}},"28":{"start":{"line":36,"column":8},"end":{"line":36,"column":41}},"29":{"start":{"line":37,"column":8},"end":{"line":42,"column":9}},"30":{"start":{"line":38,"column":12},"end":{"line":38,"column":90}},"31":{"start":{"line":38,"column":41},"end":{"line":38,"column":86}},"32":{"start":{"line":41,"column":12},"end":{"line":41,"column":91}},"33":{"start":{"line":41,"column":41},"end":{"line":41,"column":87}},"34":{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},"35":{"start":{"line":44,"column":12},"end":{"line":44,"column":75}},"36":{"start":{"line":44,"column":42},"end":{"line":44,"column":71}},"37":{"start":{"line":46,"column":8},"end":{"line":46,"column":19}},"38":{"start":{"line":48,"column":4},"end":{"line":62,"column":6}},"39":{"start":{"line":49,"column":8},"end":{"line":49,"column":25}},"40":{"start":{"line":50,"column":8},"end":{"line":50,"column":56}},"41":{"start":{"line":50,"column":36},"end":{"line":50,"column":54}},"42":{"start":{"line":51,"column":8},"end":{"line":51,"column":39}},"43":{"start":{"line":52,"column":8},"end":{"line":57,"column":9}},"44":{"start":{"line":53,"column":12},"end":{"line":53,"column":90}},"45":{"start":{"line":53,"column":41},"end":{"line":53,"column":86}},"46":{"start":{"line":56,"column":12},"end":{"line":56,"column":91}},"47":{"start":{"line":56,"column":41},"end":{"line":56,"column":87}},"48":{"start":{"line":58,"column":8},"end":{"line":60,"column":9}},"49":{"start":{"line":59,"column":12},"end":{"line":59,"column":75}},"50":{"start":{"line":59,"column":42},"end":{"line":59,"column":71}},"51":{"start":{"line":61,"column":8},"end":{"line":61,"column":19}},"52":{"start":{"line":63,"column":4},"end":{"line":63,"column":24}},"53":{"start":{"line":65,"column":0},"end":{"line":65,"column":30}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":11,"column":8}},{"start":{"line":11,"column":8},"end":{"line":11,"column":8}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":8}},{"start":{"line":18,"column":8},"end":{"line":18,"column":8}}]},"3":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":15},"end":{"line":31,"column":35}},{"start":{"line":31,"column":39},"end":{"line":31,"column":61}}]},"4":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":8}},{"start":{"line":35,"column":8},"end":{"line":35,"column":8}}]},"5":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":8}},{"start":{"line":37,"column":8},"end":{"line":37,"column":8}}]},"6":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":43,"column":8}},{"start":{"line":43,"column":8},"end":{"line":43,"column":8}}]},"7":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":50,"column":8}},{"start":{"line":50,"column":8},"end":{"line":50,"column":8}}]},"8":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":8},"end":{"line":52,"column":8}},{"start":{"line":52,"column":8},"end":{"line":52,"column":8}}]},"9":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":8}},{"start":{"line":58,"column":8},"end":{"line":58,"column":8}}]}},"code":["'use strict';","var path = require('path');","var collection = require('../../xm/collection');","var BundleChange = (function () {","    function BundleChange(bundle) {","        this._added = new collection.Set();","        this._removed = new collection.Set();","        this.bundle = bundle;","    }","    BundleChange.prototype.add = function (target) {","        if (!target) {","            return;","        }","        this._added.add(target);","        this._removed.delete(target);","    };","    BundleChange.prototype.remove = function (target) {","        if (!target) {","            return;","        }","        this._added.delete(target);","        this._removed.add(target);","    };","    BundleChange.prototype.someRemoved = function () {","        return this._removed.size > 0;","    };","    BundleChange.prototype.someAdded = function () {","        return this._added.size > 0;","    };","    BundleChange.prototype.someChanged = function () {","        return this._added.size > 0 || this._removed.size > 0;","    };","    BundleChange.prototype.getRemoved = function (relative, canonical) {","        var _this = this;","        if (canonical === void 0) { canonical = false; }","        var arr = this._removed.values();","        if (!relative) {","            arr = arr.map(function (p) { return path.resolve(_this.bundle.baseDir, p); });","        }","        else {","            arr = arr.map(function (p) { return path.relative(_this.bundle.baseDir, p); });","        }","        if (canonical) {","            return arr.map(function (p) { return p.replace(/\\\\/g, '/'); });","        }","        return arr;","    };","    BundleChange.prototype.getAdded = function (relative, canonical) {","        var _this = this;","        if (canonical === void 0) { canonical = false; }","        var arr = this._added.values();","        if (!relative) {","            arr = arr.map(function (p) { return path.resolve(_this.bundle.baseDir, p); });","        }","        else {","            arr = arr.map(function (p) { return path.relative(_this.bundle.baseDir, p); });","        }","        if (canonical) {","            return arr.map(function (p) { return p.replace(/\\\\/g, '/'); });","        }","        return arr;","    };","    return BundleChange;","})();","module.exports = BundleChange;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"10":1,"11":0,"12":0,"14":0,"15":0,"17":1,"18":0,"19":0,"21":0,"22":0,"24":1,"25":0,"27":1,"28":0,"30":1,"31":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"41":0,"43":0,"44":0,"46":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"56":0,"58":0,"59":0,"61":0,"63":1,"65":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/CommitMatcher.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/CommitMatcher.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":21},"end":{"line":5,"column":33}}},"2":{"name":"CommitMatcher","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":38}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":53}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":44},"end":{"line":18,"column":65}}},"5":{"name":"(anonymous_5)","line":20,"loc":{"start":{"line":20,"column":19},"end":{"line":20,"column":35}}},"6":{"name":"(anonymous_6)","line":27,"loc":{"start":{"line":27,"column":15},"end":{"line":27,"column":31}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":24}},"4":{"start":{"line":5,"column":0},"end":{"line":32,"column":5}},"5":{"start":{"line":6,"column":4},"end":{"line":11,"column":5}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"7":{"start":{"line":8,"column":8},"end":{"line":10,"column":9}},"8":{"start":{"line":9,"column":12},"end":{"line":9,"column":61}},"9":{"start":{"line":12,"column":4},"end":{"line":17,"column":6}},"10":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"11":{"start":{"line":14,"column":12},"end":{"line":14,"column":24}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":63}},"13":{"start":{"line":18,"column":4},"end":{"line":30,"column":6}},"14":{"start":{"line":19,"column":8},"end":{"line":23,"column":9}},"15":{"start":{"line":20,"column":12},"end":{"line":22,"column":14}},"16":{"start":{"line":21,"column":16},"end":{"line":21,"column":76}},"17":{"start":{"line":24,"column":8},"end":{"line":24,"column":74}},"18":{"start":{"line":25,"column":8},"end":{"line":25,"column":35}},"19":{"start":{"line":26,"column":8},"end":{"line":26,"column":119}},"20":{"start":{"line":27,"column":8},"end":{"line":29,"column":10}},"21":{"start":{"line":28,"column":12},"end":{"line":28,"column":87}},"22":{"start":{"line":31,"column":4},"end":{"line":31,"column":25}},"23":{"start":{"line":33,"column":0},"end":{"line":33,"column":31}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":8},"end":{"line":8,"column":8}},{"start":{"line":8,"column":8},"end":{"line":8,"column":8}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":13,"column":8}},{"start":{"line":13,"column":8},"end":{"line":13,"column":8}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":8}},{"start":{"line":19,"column":8},"end":{"line":19,"column":8}}]},"4":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":24},"end":{"line":21,"column":35}},{"start":{"line":21,"column":39},"end":{"line":21,"column":74}}]},"5":{"line":28,"type":"binary-expr","locations":[{"start":{"line":28,"column":20},"end":{"line":28,"column":31}},{"start":{"line":28,"column":35},"end":{"line":28,"column":85}}]}},"code":["'use strict';","var assert = require('../../xm/assert');","var fullSha = /^[0-9a-f]{40}$/;","var hex = /^[0-9a-f]+$/;","var CommitMatcher = (function () {","    function CommitMatcher(commitSha) {","        this.minimumShaLen = 2;","        if (commitSha) {","            this.commitSha = String(commitSha).toLowerCase();","        }","    }","    CommitMatcher.prototype.filter = function (list) {","        if (!this.commitSha) {","            return list;","        }","        return list.filter(this.getFilterFunc(this.commitSha));","    };","    CommitMatcher.prototype.getFilterFunc = function (commitSha) {","        if (fullSha.test(commitSha)) {","            return function (file) {","                return (file.commit && file.commit.commitSha === commitSha);","            };","        }","        assert(hex.test(commitSha), 'parameter not a hex {a}', commitSha);","        var len = commitSha.length;","        assert((len >= this.minimumShaLen), 'parameter hex too short: expected {e}, got {a}', this.minimumShaLen, len);","        return function (file) {","            return (file.commit && file.commit.commitSha.substr(0, len) === commitSha);","        };","    };","    return CommitMatcher;","})();","module.exports = CommitMatcher;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"12":1,"13":0,"14":0,"16":0,"18":1,"19":0,"20":0,"21":0,"24":0,"25":0,"26":0,"27":0,"28":0,"31":1,"33":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/DateMatcher.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/DateMatcher.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":1,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"lte","line":10,"loc":{"start":{"line":10,"column":10},"end":{"line":10,"column":37}}},"2":{"name":"gte","line":14,"loc":{"start":{"line":14,"column":10},"end":{"line":14,"column":37}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":19},"end":{"line":20,"column":31}}},"4":{"name":"DateMatcher","line":21,"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":34}}},"5":{"name":"(anonymous_5)","line":27,"loc":{"start":{"line":27,"column":35},"end":{"line":27,"column":51}}},"6":{"name":"(anonymous_6)","line":33,"loc":{"start":{"line":33,"column":33},"end":{"line":33,"column":49}}},"7":{"name":"(anonymous_7)","line":36,"loc":{"start":{"line":36,"column":35},"end":{"line":36,"column":51}}},"8":{"name":"(anonymous_8)","line":45,"loc":{"start":{"line":45,"column":44},"end":{"line":45,"column":63}}},"9":{"name":"(anonymous_9)","line":64,"loc":{"start":{"line":64,"column":42},"end":{"line":64,"column":54}}},"10":{"name":"(anonymous_10)","line":67,"loc":{"start":{"line":67,"column":15},"end":{"line":67,"column":31}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":41}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":50}},"8":{"start":{"line":9,"column":0},"end":{"line":19,"column":2}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":91}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":90}},"11":{"start":{"line":20,"column":0},"end":{"line":81,"column":5}},"12":{"start":{"line":21,"column":4},"end":{"line":26,"column":5}},"13":{"start":{"line":22,"column":8},"end":{"line":22,"column":30}},"14":{"start":{"line":23,"column":8},"end":{"line":25,"column":9}},"15":{"start":{"line":24,"column":12},"end":{"line":24,"column":42}},"16":{"start":{"line":27,"column":4},"end":{"line":32,"column":6}},"17":{"start":{"line":28,"column":8},"end":{"line":30,"column":9}},"18":{"start":{"line":29,"column":12},"end":{"line":29,"column":24}},"19":{"start":{"line":31,"column":8},"end":{"line":31,"column":49}},"20":{"start":{"line":33,"column":4},"end":{"line":35,"column":6}},"21":{"start":{"line":34,"column":8},"end":{"line":34,"column":46}},"22":{"start":{"line":36,"column":4},"end":{"line":44,"column":6}},"23":{"start":{"line":37,"column":8},"end":{"line":42,"column":9}},"24":{"start":{"line":38,"column":12},"end":{"line":38,"column":73}},"25":{"start":{"line":39,"column":12},"end":{"line":41,"column":13}},"26":{"start":{"line":40,"column":16},"end":{"line":40,"column":45}},"27":{"start":{"line":43,"column":8},"end":{"line":43,"column":20}},"28":{"start":{"line":45,"column":4},"end":{"line":63,"column":6}},"29":{"start":{"line":46,"column":8},"end":{"line":46,"column":48}},"30":{"start":{"line":47,"column":8},"end":{"line":47,"column":30}},"31":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"32":{"start":{"line":49,"column":12},"end":{"line":49,"column":19}},"33":{"start":{"line":51,"column":8},"end":{"line":51,"column":30}},"34":{"start":{"line":52,"column":8},"end":{"line":52,"column":18}},"35":{"start":{"line":53,"column":8},"end":{"line":62,"column":9}},"36":{"start":{"line":54,"column":12},"end":{"line":54,"column":62}},"37":{"start":{"line":55,"column":12},"end":{"line":55,"column":116}},"38":{"start":{"line":56,"column":12},"end":{"line":56,"column":38}},"39":{"start":{"line":57,"column":12},"end":{"line":57,"column":63}},"40":{"start":{"line":58,"column":12},"end":{"line":58,"column":76}},"41":{"start":{"line":59,"column":12},"end":{"line":59,"column":37}},"42":{"start":{"line":60,"column":12},"end":{"line":60,"column":52}},"43":{"start":{"line":61,"column":12},"end":{"line":61,"column":40}},"44":{"start":{"line":64,"column":4},"end":{"line":79,"column":6}},"45":{"start":{"line":65,"column":8},"end":{"line":65,"column":25}},"46":{"start":{"line":66,"column":8},"end":{"line":66,"column":42}},"47":{"start":{"line":67,"column":8},"end":{"line":78,"column":10}},"48":{"start":{"line":68,"column":12},"end":{"line":68,"column":46}},"49":{"start":{"line":69,"column":12},"end":{"line":71,"column":13}},"50":{"start":{"line":70,"column":16},"end":{"line":70,"column":29}},"51":{"start":{"line":72,"column":12},"end":{"line":76,"column":13}},"52":{"start":{"line":73,"column":16},"end":{"line":75,"column":17}},"53":{"start":{"line":74,"column":20},"end":{"line":74,"column":33}},"54":{"start":{"line":77,"column":12},"end":{"line":77,"column":24}},"55":{"start":{"line":80,"column":4},"end":{"line":80,"column":23}},"56":{"start":{"line":82,"column":0},"end":{"line":82,"column":29}}},"branchMap":{"1":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":51}},{"start":{"line":11,"column":55},"end":{"line":11,"column":90}}]},"2":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":15},"end":{"line":15,"column":50}},{"start":{"line":15,"column":54},"end":{"line":15,"column":89}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":23,"column":8}},{"start":{"line":23,"column":8},"end":{"line":23,"column":8}}]},"4":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":8}},{"start":{"line":28,"column":8},"end":{"line":28,"column":8}}]},"5":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":8}},{"start":{"line":37,"column":8},"end":{"line":37,"column":8}}]},"6":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":12},"end":{"line":39,"column":12}},{"start":{"line":39,"column":12},"end":{"line":39,"column":12}}]},"7":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":48,"column":8}},{"start":{"line":48,"column":8},"end":{"line":48,"column":8}}]},"8":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":12},"end":{"line":69,"column":12}},{"start":{"line":69,"column":12},"end":{"line":69,"column":12}}]},"9":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":16},"end":{"line":73,"column":16}},{"start":{"line":73,"column":16},"end":{"line":73,"column":16}}]}},"code":["'use strict';","var typeOf = require('../../xm/typeOf');","var assert = require('../../xm/assert');","var assertVar = require('../../xm/assertVar');","var dateUtils = require('../../xm/dateUtils');","var DateComp = require('../util/DateComp');","var defUtil = require('../util/defUtil');","var termExp = /(>=?|<=?|==) *(\\d+[\\d:;_ \\-]+\\d)/g;","var comparators = {","    '<=': function lte(date1, date2) {","        return dateUtils.isBeforeDate(date1, date2) || dateUtils.isEqualDate(date1, date2);","    },","    '<': dateUtils.isBeforeDate,","    '>=': function gte(date1, date2) {","        return dateUtils.isAfterDate(date1, date2) || dateUtils.isEqualDate(date1, date2);","    },","    '>': dateUtils.isAfterDate,","    '==': dateUtils.isEqualDate","};","var DateMatcher = (function () {","    function DateMatcher(pattern) {","        this.comparators = [];","        if (pattern) {","            this.extractSelector(pattern);","        }","    }","    DateMatcher.prototype.filter = function (list) {","        if (this.comparators.length === 0) {","            return list;","        }","        return list.filter(this.getFilterFunc());","    };","    DateMatcher.prototype.best = function (list) {","        return this.latest(this.filter(list));","    };","    DateMatcher.prototype.latest = function (list) {","        if (this.comparators.length > 0) {","            var list = this.filter(list).sort(defUtil.fileCommitCompare);","            if (list.length > 0) {","                return list[list.length - 1];","            }","        }","        return null;","    };","    DateMatcher.prototype.extractSelector = function (pattern) {","        assertVar(pattern, 'string', 'pattern');","        this.comparators = [];","        if (!pattern) {","            return;","        }","        termExp.lastIndex = 0;","        var match;","        while ((match = termExp.exec(pattern))) {","            termExp.lastIndex = match.index + match[0].length;","            assert(typeOf.hasOwnProp(comparators, match[1]), 'not a valid date comparator in filter {a}', match[0]);","            var comp = new DateComp();","            comp.date = new Date(match[2].replace(/;_/g, ' '));","            assert(!!comp.date, 'not a valid date in filter {a}', match[0]);","            comp.operator = match[1];","            comp.comparator = comparators[match[1]];","            this.comparators.push(comp);","        }","    };","    DateMatcher.prototype.getFilterFunc = function () {","        var _this = this;","        var len = this.comparators.length;","        return function (file) {","            var date = file.commit.changeDate;","            if (!date) {","                return false;","            }","            for (var i = 0; i < len; i++) {","                if (!_this.comparators[i].satisfies(date)) {","                    return false;","                }","            }","            return true;","        };","    };","    return DateMatcher;","})();","module.exports = DateMatcher;",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"11":0,"15":0,"20":1,"21":1,"22":0,"23":0,"24":0,"27":1,"28":0,"29":0,"31":0,"33":1,"34":0,"36":1,"37":0,"38":0,"39":0,"40":0,"43":0,"45":1,"46":0,"47":0,"48":0,"49":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"72":0,"73":0,"74":0,"77":0,"80":1,"82":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/util/DateComp.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/util/DateComp.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":1},"b":{},"f":{"1":1,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":28}}},"2":{"name":"DateComp","line":3,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":24}}},"3":{"name":"(anonymous_3)","line":5,"loc":{"start":{"line":5,"column":35},"end":{"line":5,"column":51}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":9,"column":5}},"2":{"start":{"line":3,"column":4},"end":{"line":4,"column":5}},"3":{"start":{"line":5,"column":4},"end":{"line":7,"column":6}},"4":{"start":{"line":6,"column":8},"end":{"line":6,"column":48}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":20}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":26}}},"branchMap":{},"code":["'use strict';","var DateComp = (function () {","    function DateComp() {","    }","    DateComp.prototype.satisfies = function (date) {","        return this.comparator(date, this.date);","    };","    return DateComp;","})();","module.exports = DateComp;",""],"l":{"2":1,"3":1,"5":1,"6":0,"8":1,"10":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/InfoMatcher.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/tsd/select/InfoMatcher.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":1},"b":{},"f":{"1":1,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":19},"end":{"line":2,"column":31}}},"2":{"name":"InfoMatcher","line":3,"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":27}}},"3":{"name":"(anonymous_3)","line":5,"loc":{"start":{"line":5,"column":35},"end":{"line":5,"column":51}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":9,"column":5}},"2":{"start":{"line":3,"column":4},"end":{"line":4,"column":5}},"3":{"start":{"line":5,"column":4},"end":{"line":7,"column":6}},"4":{"start":{"line":6,"column":8},"end":{"line":6,"column":20}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":23}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":29}}},"branchMap":{},"code":["'use strict';","var InfoMatcher = (function () {","    function InfoMatcher() {","    }","    InfoMatcher.prototype.filter = function (list) {","        return list;","    };","    return InfoMatcher;","})();","module.exports = InfoMatcher;",""],"l":{"2":1,"3":1,"5":1,"6":0,"8":1,"10":1}},"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/getContent.js":{"path":"/home/travis/build/npmtest/node-npmtest-tsd/node_modules/tsd/build/getContent.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"getAPI","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":25}}},"2":{"name":"getContent","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":29}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":38},"end":{"line":13,"column":50}}},"4":{"name":"(anonymous_4)","line":21,"loc":{"start":{"line":21,"column":12},"end":{"line":21,"column":33}}},"5":{"name":"(anonymous_5)","line":22,"loc":{"start":{"line":22,"column":44},"end":{"line":22,"column":59}}},"6":{"name":"(anonymous_6)","line":24,"loc":{"start":{"line":24,"column":44},"end":{"line":24,"column":59}}},"7":{"name":"(anonymous_7)","line":35,"loc":{"start":{"line":35,"column":61},"end":{"line":35,"column":76}}},"8":{"name":"(anonymous_8)","line":46,"loc":{"start":{"line":46,"column":48},"end":{"line":46,"column":63}}},"9":{"name":"(anonymous_9)","line":56,"loc":{"start":{"line":56,"column":12},"end":{"line":56,"column":31}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":10,"column":1}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":58}},"5":{"start":{"line":6,"column":4},"end":{"line":8,"column":5}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":68}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":15}},"8":{"start":{"line":11,"column":0},"end":{"line":69,"column":1}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":30}},"10":{"start":{"line":13,"column":4},"end":{"line":68,"column":7}},"11":{"start":{"line":14,"column":8},"end":{"line":14,"column":37}},"12":{"start":{"line":15,"column":8},"end":{"line":15,"column":41}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":36}},"14":{"start":{"line":17,"column":8},"end":{"line":17,"column":34}},"15":{"start":{"line":18,"column":8},"end":{"line":18,"column":37}},"16":{"start":{"line":19,"column":8},"end":{"line":19,"column":31}},"17":{"start":{"line":20,"column":8},"end":{"line":20,"column":39}},"18":{"start":{"line":22,"column":8},"end":{"line":55,"column":11}},"19":{"start":{"line":23,"column":12},"end":{"line":23,"column":47}},"20":{"start":{"line":25,"column":12},"end":{"line":30,"column":14}},"21":{"start":{"line":31,"column":12},"end":{"line":33,"column":13}},"22":{"start":{"line":32,"column":16},"end":{"line":32,"column":41}},"23":{"start":{"line":34,"column":12},"end":{"line":44,"column":13}},"24":{"start":{"line":35,"column":16},"end":{"line":43,"column":19}},"25":{"start":{"line":36,"column":20},"end":{"line":41,"column":22}},"26":{"start":{"line":42,"column":20},"end":{"line":42,"column":31}},"27":{"start":{"line":45,"column":12},"end":{"line":53,"column":13}},"28":{"start":{"line":46,"column":16},"end":{"line":52,"column":19}},"29":{"start":{"line":47,"column":20},"end":{"line":50,"column":22}},"30":{"start":{"line":51,"column":20},"end":{"line":51,"column":31}},"31":{"start":{"line":54,"column":12},"end":{"line":54,"column":23}},"32":{"start":{"line":57,"column":8},"end":{"line":62,"column":10}},"33":{"start":{"line":63,"column":8},"end":{"line":65,"column":10}},"34":{"start":{"line":66,"column":8},"end":{"line":66,"column":30}},"35":{"start":{"line":67,"column":8},"end":{"line":67,"column":19}},"36":{"start":{"line":70,"column":0},"end":{"line":70,"column":28}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":4}},{"start":{"line":6,"column":4},"end":{"line":6,"column":4}}]},"2":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":19},"end":{"line":23,"column":32}},{"start":{"line":23,"column":36},"end":{"line":23,"column":46}}]},"3":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":25},"end":{"line":29,"column":35}},{"start":{"line":29,"column":39},"end":{"line":29,"column":47}}]},"4":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":31,"column":12}},{"start":{"line":31,"column":12},"end":{"line":31,"column":12}}]},"5":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":12},"end":{"line":34,"column":12}},{"start":{"line":34,"column":12},"end":{"line":34,"column":12}}]},"6":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":33},"end":{"line":40,"column":43}},{"start":{"line":40,"column":47},"end":{"line":40,"column":55}}]},"7":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":12},"end":{"line":45,"column":12}},{"start":{"line":45,"column":12},"end":{"line":45,"column":12}}]},"8":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":33},"end":{"line":49,"column":43}},{"start":{"line":49,"column":47},"end":{"line":49,"column":51}}]}},"code":["'use strict';","var path = require('path');","var tsd = require('./api');","function getAPI(options) {","    var api = tsd.getAPI(options.config, options.verbose);","    if (options.cacheDir) {","        api.context.paths.cacheDir = path.resolve(options.cacheDir);","    }","    return api;","}","function getContent(options) {","    var api = getAPI(options);","    return api.readConfig(false).then(function () {","        var opts = new tsd.Options();","        opts.resolveDependencies = false;","        var query = new tsd.Query();","        query.addNamePattern('*');","        query.setVersionRange('all');","        query.parseInfo = true;","        return api.select(query, opts);","    }).then(function (selection) {","        return selection.definitions.filter(function (def) {","            return !def.isLegacy && def.isMain;","        }).sort(tsd.defUtil.defCompare).map(function (def) {","            var ret = {","                project: def.project,","                name: def.name,","                path: def.path,","                semver: (def.semver || 'latest')","            };","            if (def.head.info) {","                ret.info = def.head.info;","            }","            if (def.head.dependencies) {","                ret.dependencies = def.head.dependencies.map(function (dep) {","                    var ret = {","                        project: dep.project,","                        name: dep.name,","                        path: dep.path,","                        semver: (dep.semver || 'latest')","                    };","                    return ret;","                });","            }","            if (def.releases) {","                ret.releases = def.releases.map(function (rel) {","                    var ret = {","                        path: rel.path,","                        semver: (rel.semver || null)","                    };","                    return ret;","                });","            }","            return ret;","        });","    }).then(function (content) {","        var ret = {","            repo: api.context.config.repo,","            ref: api.context.config.ref,","            count: content.length,","            time: new Date().toISOString()","        };","        ret.urls = {","            def: 'https://github.com/' + ret.repo + '/blob/' + ret.ref + '/{path}'","        };","        ret.content = content;","        return ret;","    });","}","module.exports = getContent;",""],"l":{"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"9":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"22":0,"23":0,"25":0,"31":0,"32":0,"34":0,"35":0,"36":0,"42":0,"45":0,"46":0,"47":0,"51":0,"54":0,"57":0,"63":0,"66":0,"67":0,"70":1}}}